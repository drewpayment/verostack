{"version":3,"sources":["webpack:///./node_modules/dhx-spreadsheet/codebase/spreadsheet.js","webpack:///./src/app/imports/bottom-sheets/confirm-agent-code.component.html","webpack:///./src/app/imports/bottom-sheets/confirm-agent-code.component.ts","webpack:///./src/app/imports/dialogs/edit-import-model/edit-import-model.component.html","webpack:///./src/app/imports/dialogs/edit-import-model/edit-import-model.component.scss","webpack:///./src/app/imports/dialogs/edit-import-model/edit-import-model.component.ts","webpack:///./src/app/imports/import-models/import-models.component.html","webpack:///./src/app/imports/import-models/import-models.component.scss","webpack:///./src/app/imports/import-models/import-models.component.ts","webpack:///./src/app/imports/imports.module.ts","webpack:///./src/app/imports/imports.service.ts","webpack:///./src/app/imports/process/process.component.html","webpack:///./src/app/imports/process/process.component.scss","webpack:///./src/app/imports/process/process.component.ts","webpack:///./src/app/spreadsheet/spreadsheet.component.html","webpack:///./src/app/spreadsheet/spreadsheet.component.scss","webpack:///./src/app/spreadsheet/spreadsheet.component.ts","webpack:///./src/app/spreadsheet/spreadsheet.module.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,yBAAyB,mBAAmB,EAAE;AAC9D,IAAI,IAAyD;AAC7D;AACA,MAAM,EAKoB;AAC1B,CAAC;AACD,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,gCAAgC;AAClF;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,kBAAkB;AAClF;AACA,yDAAyD,cAAc;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,iCAAiC;AAClF,wHAAwH,mBAAmB,EAAE;AAC7I;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B,EAAE;AAC/D,yCAAyC,eAAe;AACxD;AACA;AACA;AACA;AACA;AACA,8DAA8D,+DAA+D;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,kCAAkC,OAAO,UAAU,WAAW,YAAY,eAAe,YAAY,UAAU,kBAAkB,oBAAoB;AACrJ,KAAK;AACL;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,wBAAwB,EAAE;AACjG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,2BAA2B,EAAE;AACnF;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,aAAa;AACtC;AACA;AACA;AACA;AACA,gCAAgC,eAAe;AAC/C,oCAAoC,eAAe;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,aAAa;AACtC;AACA;AACA;AACA;AACA,gCAAgC,eAAe;AAC/C;AACA,oCAAoC,eAAe;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,aAAa;AACtC;AACA;AACA;AACA;AACA;AACA,yBAAyB,aAAa;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,4BAA4B,aAAa;AACzC,4BAA4B,aAAa;AACzC,0BAA0B,aAAa;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,iBAAiB;AACpD;AACA,KAAK;AACL;AACA;;AAEA,4BAA4B;;AAE5B,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,aAAa;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,iBAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,iBAAiB;AAC3C;AACA;AACA;AACA;AACA;AACA,0BAA0B,iBAAiB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,eAAe,gBAAgB,aAAa,cAAc;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,uDAAuD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,WAAW,oCAAoC;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,WAAW,qCAAqC;AACpG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,kFAAkF;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oDAAoD;;;AAGrD,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,eAAe;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,uDAAuD;AACxF;AACA;AACA;AACA;AACA;AACA,2CAA2C,QAAQ;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,0CAA0C,EAAE;AACvG;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,uDAAuD;AACxD;AACA;AACA;AACA;AACA;AACA,CAAC,sEAAsE;AACvE;AACA;AACA;AACA;AACA,CAAC,yEAAyE;;;AAG1E,OAAO;AACP;AACA;;AAEA,4DAA4D;AAC5D;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,OAAO;AACP;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX,OAAO;AACP;;AAEA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,WAAW;AACX;AACA,WAAW;;AAEX,OAAO;AACP;;;AAGA;;AAEA;AACA;AACA;AACA,GAAG,MAAM,EAAE;AACX,CAAC;;AAED,4BAA4B;;AAE5B,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,yEAAyE;;;AAG1E,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,qCAAqC,EAAE;AAC3F,oDAAoD,qCAAqC,EAAE;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gBAAgB;AACnC;AACA,6BAA6B,sBAAsB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,qBAAqB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA,SAAS,wEAAwE;AACjF,SAAS,gFAAgF;AACzF,SAAS,mFAAmF;AAC5F,SAAS;AACT;AACA;AACA,kEAAkE,uBAAuB,EAAE;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE,oBAAoB,EAAE;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,IAAI;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,IAAI;AACpD,iDAAiD;AACjD,kBAAkB,IAAI;AACtB,oBAAoB,IAAI;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,eAAe;AAC7C;AACA,0CAA0C,EAAE;AAC5C;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,6DAA6D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,6DAA6D;AAC9D;AACA;AACA;AACA;AACA;AACA,CAAC,uDAAuD;AACxD;AACA;AACA;AACA;AACA;AACA,CAAC,sEAAsE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,4EAA4E;;;AAG7E,OAAO;AACP;AACA;;AAEA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,gBAAgB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;;AAEA,4BAA4B;;AAE5B,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,6DAA6D;;;AAG9D,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D;AAC1D;AACA,KAAK;AACL;AACA;AACA,+CAA+C,oBAAoB,EAAE;AACrE,SAAS;AACT;AACA,+CAA+C,sBAAsB,EAAE;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,kCAAkC;AAC3D,2BAA2B,6HAA6H;AACxJ;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,uDAAuD,8BAA8B;AACrF,wDAAwD,+BAA+B;AACvF,yDAAyD,gCAAgC;AACzF;AACA;AACA,6DAA6D,8BAA8B;AAC3F;AACA;AACA,8DAA8D,gCAAgC;AAC9F;AACA;AACA,sEAAsE,mCAAmC;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,4BAA4B,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,qBAAqB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA,KAAK,EAAE,EAAE;AACT;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,qBAAqB;AACzD;AACA,4CAA4C,+BAA+B,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,kCAAkC,kGAAkG,yCAAyC;AAC/M;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,sBAAsB;AACrE;AACA;AACA;AACA,aAAa;AACb;AACA,mFAAmF;AACnF;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,sBAAsB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,gDAAgD,qCAAqC;AACrF;AACA;AACA;AACA;AACA,qDAAqD,gBAAgB;AACrE;AACA;AACA,4CAA4C,eAAe;AAC3D;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA;AACA,6DAA6D,2CAA2C;AACxG,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,uBAAuB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,sBAAsB,EAAE;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE,8CAA8C,EAAE;AACzH;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,iBAAiB;AAClD;AACA;AACA;AACA;AACA,8CAA8C,2CAA2C,EAAE;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD,aAAa;AACb;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,uDAAuD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,6BAA6B,EAAE;AAC7E;AACA;AACA,sCAAsC,mCAAmC;AACzE;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,mEAAmE;AACpE;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,iFAAiF;AACjF;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF;AAClF;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,eAAe;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,2BAA2B,eAAe;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gEAAgE;;;AAGjE,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,uBAAuB;AACxD,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA,CAAC,kFAAkF;;;AAGnF,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,uBAAuB,EAAE;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E,sBAAsB,EAAE;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA,sCAAsC,qBAAqB,YAAY;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,qBAAqB,YAAY;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;AACA,uBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,qBAAqB,EAAE;AACnF;AACA;AACA;AACA,oEAAoE,qBAAqB,EAAE;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,oBAAoB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA,2BAA2B,UAAU;AACrC;AACA,+BAA+B,SAAS;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,gBAAgB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,SAAS,2BAA2B;AACtE;AACA;AACA;AACA;AACA,kCAAkC,yCAAyC,uBAAuB;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,oCAAoC,EAAE;AAC9E;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA,+BAA+B,YAAY;AAC3C,gCAAgC,qBAAqB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,gBAAgB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,eAAe;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,iBAAiB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,sBAAsB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uEAAuE,uBAAuB,EAAE;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qBAAqB;AACrD,gCAAgC,eAAe;AAC/C;AACA;AACA;AACA;AACA,uBAAuB,iCAAiC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,eAAe;AAC/C,kCAAkC,uBAAuB;AACzD;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,6BAA6B;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,eAAe;AAC/C,kCAAkC,uBAAuB;AACzD;AACA;AACA;AACA;AACA,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,eAAe;AAC/C,mCAAmC,0BAA0B,aAAa,GAAG;AAC7E;AACA;AACA;AACA,uBAAuB,6BAA6B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,gCAAgC,iBAAiB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gCAAgC,iBAAiB;AACjD;AACA;AACA;AACA;AACA,8BAA8B,cAAc;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,gDAAgD,EAAE,EAAE;AACrG;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qBAAqB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,sBAAsB;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA,oFAAoF,uBAAuB,EAAE;AAC7G;AACA;AACA;AACA;AACA,gGAAgG,uBAAuB,EAAE;AACzH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qBAAqB;AACrD,uCAAuC,oBAAoB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,uHAAuH;AACrK;AACA;AACA;AACA,8CAA8C,4CAA4C;AAC1F;AACA;AACA;AACA;AACA;AACA,2CAA2C,sBAAsB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qBAAqB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,yCAAyC,uBAAuB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,gBAAgB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,2BAA2B,qBAAqB;AAChD,kDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,yBAAyB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,iDAAiD,EAAE;AAC/G,KAAK;AACL,+BAA+B,mCAAmC,EAAE;AACpE;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,kCAAkC,EAAE;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS,EAAE,EAAE;AACb,wCAAwC,iDAAiD;AACzF,KAAK;AACL;AACA,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT,gCAAgC,YAAY;AAC5C,wDAAwD,4BAA4B,wBAAwB,kBAAkB,EAAE,IAAI,EAAE;AACtI,wCAAwC,wBAAwB;AAChE,KAAK;AACL;AACA,2CAA2C,wCAAwC,kCAAkC,EAAE,gBAAgB,EAAE;AACzI,2CAA2C,wDAAwD;AACnG,KAAK;AACL;AACA,2CAA2C,yCAAyC,iBAAiB,EAAE,+BAA+B,EAAE;AACxI,2CAA2C,wDAAwD;AACnG,KAAK;AACL;AACA,mCAAmC,6CAA6C,EAAE;AAClF,2CAA2C,wDAAwD;AACnG,KAAK;AACL;AACA,mCAAmC,6CAA6C,EAAE;AAClF,2CAA2C,wDAAwD;AACnG,KAAK;AACL;AACA,2CAA2C,0CAA0C,mBAAmB,EAAE,KAAK,EAAE;AACjH,2CAA2C,wDAAwD;AACnG;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,kCAAkC,sBAAsB;AACxD,2CAA2C,iBAAiB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,gBAAgB;AAChF;AACA,kDAAkD,eAAe;AACjE;AACA;AACA;AACA;AACA;AACA,2CAA2C,oBAAoB;AAC/D;AACA;AACA,2CAA2C,qBAAqB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,wBAAwB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,iCAAiC,2CAA2C,EAAE;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,6DAA6D,EAAE;AACnI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,yBAAyB,EAAE;AAC5E,mDAAmD,qBAAqB,EAAE;AAC1E;AACA;AACA;AACA;AACA;AACA,iDAAiD,iCAAiC,EAAE;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,0CAA0C,EAAE;AACtH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,gBAAgB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD,yCAAyC,mBAAmB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,EAAE,uBAAuB,mCAAmC,EAAE;AAC1G,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,iBAAiB;AACrD;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,4BAA4B;;AAE5B,OAAO;AACP;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA,uDAAuD;AACvD;;AAEA;AACA;AACA;;AAEA,uBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0CAA0C,sBAAsB,EAAE;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED,4BAA4B;;AAE5B,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;AAGtC,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,OAAO;AACP;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,2BAA2B,iBAAiB,EAAE,iBAAiB;AACvF,wBAAwB,2BAA2B,iBAAiB,EAAE,eAAe;AACrF,mBAAmB,2BAA2B,iCAAiC,EAAE,kBAAkB;AACnG,uBAAuB,2BAA2B,iCAAiC,EAAE,iBAAiB;AACtG,uBAAuB,2BAA2B,iCAAiC,EAAE,kBAAkB;AACvG,yBAAyB,2BAA2B,iCAAiC,EAAE,iBAAiB;AACxG,+BAA+B,2BAA2B,gCAAgC,EAAE,mEAAmE;AAC/J,+BAA+B,2BAA2B,gCAAgC,EAAE,mEAAmE;AAC/J,sBAAsB,2BAA2B,6BAA6B,EAAE,eAAe;AAC/F,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,kDAAkD,yBAAyB,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,oBAAoB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,4BAA4B;AAC5B;AACA;AACA,SAAS,IAAI;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,qBAAqB;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,wCAAwC;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,iDAAiD,0BAA0B;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,sBAAsB;AAC9E;AACA;AACA,iBAAiB,kCAAkC;AACnD,iBAAiB,wCAAwC;AACzD,iBAAiB,0CAA0C;AAC3D,iBAAiB,0CAA0C;AAC3D;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC,uBAAuB;AACvB,2BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,WAAW;AACrC,gDAAgD,8CAA8C;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,2CAA2C,kEAAkE;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,GAAG,yDAAyD;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,8EAA8E,wBAAwB,EAAE;AACxG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,sBAAsB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,WAAW,WAAW;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,kBAAkB,mBAAmB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,sBAAsB,4BAA4B,EAAE,EAAE;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,iBAAiB;AAC/C,+CAA+C,8BAA8B;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,gBAAgB;AACnD;AACA;AACA;AACA;AACA,wBAAwB,eAAe;AACvC;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,iFAAiF,yCAAyC;AAC1H;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,wBAAwB,aAAa;AACrC;AACA;AACA;AACA;AACA,aAAa;AACb,6CAA6C,SAAS,sBAAsB,EAAE;AAC9E;AACA;AACA,gDAAgD,SAAS,2CAA2C,EAAE;AACtG;AACA,uCAAuC,gHAAgH;AACvJ;AACA;AACA;AACA,oCAAoC,8FAA8F;AAClI,oCAAoC,4FAA4F;AAChI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,kEAAkE;AACpH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC,SAAS;AACV,CAAC,qBAAqB;;AAEtB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,kDAAkD;AAClD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;AAIA;AACA;;AAEA,gBAAgB,iBAAiB;AACjC,GAAG;AACH,IAAI,sBAAsB,EAAE;;AAE5B;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI,iBAAiB;AACrB;AACA,IAAI,oCAAoC;AACxC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,iBAAiB;AACpC,GAAG,mBAAmB;AACtB;AACA;;AAEA;AACA;AACA,GAAG;AACH,IAAI,cAAc,EAAE;;AAEpB;AACA;;AAEA;AACA;;AAEA;AACA,GAAG,cAAc;;AAEjB,gBAAgB,UAAU;AAC1B,GAAG;AACH,IAAI,cAAc,EAAE;;AAEpB;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG,WAAW;;AAEd;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,gBAAgB;AAC5B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kCAAkC,cAAc;AAChD;AACA,iCAAiC,iBAAiB;AAClD,UAAU,iBAAiB;AAC3B;AACA;AACA,EAAE;AACF;AACA;AACA,kCAAkC,cAAc;AAChD;AACA,iCAAiC,iBAAiB;AAClD,UAAU,iBAAiB;AAC3B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8BAA8B,cAAc;AAC5C;AACA,6BAA6B,iBAAiB;AAC9C,UAAU,iBAAiB;AAC3B;AACA;AACA,EAAE;AACF;AACA;AACA,8BAA8B,cAAc;AAC5C;AACA,6BAA6B,iBAAiB;AAC9C,UAAU,iBAAiB;AAC3B;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG,cAAc;AACjB;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB,gBAAgB,aAAa,EAAE;AACpD,qBAAqB,gBAAgB,aAAa,EAAE;AACpD,sBAAsB,iBAAiB,aAAa,EAAE;AACtD,uBAAuB,kBAAkB,aAAa,EAAE;AACxD,sBAAsB,kBAAkB,uBAAuB,EAAE;;AAEjE,sBAAsB,iBAAiB,aAAa,EAAE;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM,mBAAmB;AACzB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,GAAG,oBAAoB;;AAEvB;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,IAAI,kBAAkB;;AAEtB;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA,KAAK;AACL,MAAM,4BAA4B,EAAE;AACpC;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,IAAI,6BAA6B;;AAEjC;AACA,IAAI,6BAA6B;;AAEjC;AACA,IAAI,iCAAiC;;AAErC;AACA,IAAI,+BAA+B;;AAEnC;AACA,IAAI,iCAAiC;;AAErC;AACA;AACA,KAAK,qBAAqB;AAC1B;AACA,KAAK,2BAA2B;AAChC;AACA,KAAK,0HAA0H;AAC/H;AACA;;AAEA;AACA,GAAG,kBAAkB;;AAErB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG,2BAA2B;AAC9B;;AAEA;AACA;AACA;AACA,GAAG,QAAQ;;AAEX;AACA;AACA;;AAEA;AACA,GAAG,qCAAqC;;AAExC;AACA;;AAEA;AACA;AACA,GAAG,qBAAqB;;AAExB;AACA,GAAG,mBAAmB;AACtB;AACA;;AAEA;AACA;;AAEA,gBAAgB,iBAAiB;AACjC;;AAEA;AACA;AACA,IAAI,qBAAqB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,wCAAwC;;AAE7C;AACA;AACA;AACA,MAAM,qBAAqB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,+BAA+B;AACrC;AACA;AACA,KAAK,+BAA+B;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG,yBAAyB;AAC5B;AACA;AACA;;AAEA;AACA,KAAK,iCAAiC;AACtC;;AAEA;AACA;AACA;AACA;AACA,MAAM,qBAAqB;AAC3B;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA,SAAS;AACT;AACA,oBAAoB;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,IAAI,2BAA2B;AAC/B;AACA;;AAEA;;AAEA;AACA;AACA,GAAG,oBAAoB;AACvB;AACA;;AAEA;AACA;AACA,GAAG,qCAAqC;AACxC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,iBAAiB,sBAAsB;AACvC,IAAI,gCAAgC;AACpC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kBAAkB,sBAAsB;AACxC,KAAK,mCAAmC;AACxC;AACA;AACA,IAAI,iBAAiB;AACrB;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAkB,QAAQ;;AAE1B;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG,yBAAyB;AAC5B;;AAEA;AACA;;AAEA,gBAAgB,kBAAkB;AAClC;AACA;;AAEA;AACA,IAAI,mBAAmB;;AAEvB;AACA,IAAI,eAAe;AACnB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,GAAG,8CAA8C;;AAEjD;AACA;AACA;;AAEA;AACA,GAAG,6CAA6C;AAChD;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA,GAAG,kCAAkC;AACrC;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI,wBAAwB;AAC5B;;;AAGA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG,QAAQ;;AAEX;;AAEA;AACA,GAAG,wBAAwB;AAC3B;AACA,GAAG,0BAA0B;AAC7B;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG,oBAAoB;AACvB;AACA,GAAG,+BAA+B;AAClC;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG,wCAAwC,EAAE;AAC7C;AACA,GAAG,4BAA4B;AAC/B;AACA,GAAG,oBAAoB;AACvB;AACA,GAAG,gBAAgB;AACnB;AACA,GAAG,0BAA0B;AAC7B;AACA,GAAG,4BAA4B;AAC/B;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK,0BAA0B;AAC/B;AACA;AACA,KAAK,oCAAoC;AACzC;AACA,KAAK,2CAA2C;AAChD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,UAAU,mBAAmB;AAC7B;AACA,gBAAgB,uBAAuB;AACvC;AACA;;AAEA;AACA;AACA,IAAI,yCAAyC,EAAE;AAC/C;AACA,mGAAmG;AACnG;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,sCAAsC;AACtC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK,mCAAmC;;AAExC;AACA,KAAK,wBAAwB;;AAE7B;AACA,KAAK,oBAAoB;AACzB;AACA,KAAK,mCAAmC;AACxC;AACA;AACA,IAAI,iDAAiD;AACrD;AACA,IAAI,gDAAgD;AACpD;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI,kBAAkB;AACtB;AACA,2DAA2D;AAC3D,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,yFAAyF;;AAE9F;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI,+BAA+B;AACnC;AACA,IAAI,uCAAuC;;AAE3C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B,yBAAyB,gBAAgB;AACzC;;AAEA;AACA;AACA;AACA,qBAAqB,OAAO;AAC5B,yBAAyB,gBAAgB;AACzC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAgB,iBAAiB;AACjC;;AAEA;AACA,IAAI,qBAAqB;AACzB;;AAEA;AACA,qEAAqE,mBAAmB,EAAE;;AAE1F,gBAAgB,kBAAkB;AAClC,GAAG,4BAA4B;;AAE/B;;AAEA;AACA;AACA,wBAAwB,OAAO;AAC/B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,6CAA6C;AAC7C,OAAO,wBAAwB;AAC/B;;AAEA;AACA;AACA;AACA,KAAK,UAAU;AACf;AACA;AACA,IAAI,UAAU;AACd;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG,iCAAiC;;AAEpC;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAI,6BAA6B;AACjC;AACA;AACA;AACA,KAAK,wBAAwB;AAC7B;AACA,KAAK,sBAAsB;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,iCAAiC;AACtC;AACA,KAAK,wBAAwB;AAC7B;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,kBAAkB;AACnC,IAAI,wBAAwB;AAC5B;AACA;;AAEA;AACA;AACA;AACA,IAAI,iBAAiB,EAAE;AACvB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc;;AAEd;AACA,gBAAgB;AAChB;AACA;;AAEA,gBAAgB,UAAU;AAC1B;AACA;AACA;;AAEA;AACA;AACA,MAAM,2BAA2B;;AAEjC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,eAAe;AACrB;AACA;AACA,KAAK,eAAe;;AAEpB;AACA,yBAAyB;AACzB;;AAEA;;AAEA;AACA,MAAM,sBAAsB;AAC5B;AACA;AACA;;AAEA,sBAAsB;AACtB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA,sDAAsD;AACtD;AACA;AACA,MAAM,6FAA6F,EAAE;;AAErG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK,mBAAmB;;AAExB;AACA,KAAK;AACL,MAAM,WAAW,EAAE;AACnB;AACA;;AAEA;AACA;AACA,GAAG,uBAAuB;;AAE1B;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,GAAG,iBAAiB;AACpB;AACA;AACA;AACA;;AAEA;AACA,sCAAsC,wBAAwB,EAAE;AAChE,4CAA4C,iCAAiC,EAAE;;AAE/E;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAI,oBAAoB;AACxB;AACA,IAAI,oBAAoB;AACxB;AACA,IAAI,0BAA0B;;AAE9B;AACA;AACA,IAAI,kCAAkC,cAAc;;AAEpD;AACA;AACA,KAAK,oCAAoC,eAAe;AACxD;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA,IAAI,cAAc;;AAElB;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,iBAAiB;;AAElC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,uDAAuD;AAC3D;AACA;AACA;;AAEA;AACA,IAAI,8BAA8B;AAClC;;AAEA;AACA,GAAG,mBAAmB;;AAEtB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,4DAA4D;AAC5D;;AAEA;AACA,GAAG,mBAAmB;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK,8CAA8C;AACnD;AACA;;AAEA;;AAEA;;AAEA;AACA,GAAG,8CAA8C;;AAEjD;AACA;;AAEA;AACA;AACA,GAAG,mBAAmB;;AAEtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG,+BAA+B;;AAElC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK,mBAAmB;AACxB;AACA;AACA,IAAI,eAAe;AACnB;;AAEA;;AAEA;AACA,GAAG,mBAAmB;;AAEtB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI,cAAc;AAClB;AACA,IAAI,aAAa;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK,gBAAgB;AACrB;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,kBAAkB,SAAS;AAC3B;;AAEA;AACA;;AAEA,gCAAgC;;AAEhC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0BAA0B,eAAe;AACzC;AACA;AACA;AACA;AACA;AACA,IAAI,QAAQ;;AAEZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,iBAAiB,iBAAiB;AAClC;;AAEA;AACA,KAAK,mBAAmB;AACxB;AACA,KAAK,uBAAuB;AAC5B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAI,sBAAsB;AAC1B;AACA,IAAI,iCAAiC;AACrC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,aAAa;AAC7C,sDAAsD;AACtD;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,WAAW,+BAA+B;AACnG;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,0DAA0D;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,8BAA8B,EAAE,UAAU,EAAE,UAAU,EAAE;AACxD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,EAAE,eAAe,EAAE;AAC3C;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,gCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gCAAgC,iBAAiB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,gBAAgB;AAClE;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E,gBAAgB,EAAE;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,gBAAgB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,wCAAwC,EAAE;AACpH;AACA;AACA,CAAC;AACD;;AAEA,4BAA4B;;AAE5B,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA8E;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,oCAAoC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E,GAAG,IAAI;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,mBAAmB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,kBAAkB;AACrD;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA,wDAAwD,0BAA0B,EAAE;AACpF;AACA;AACA;AACA;AACA,iBAAiB;AACjB,4DAA4D,6DAA6D;AACzH,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,gBAAgB;AAC/C,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E,2BAA2B,EAAE;AACzG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E,uBAAuB,EAAE;AACpG;AACA,0FAA0F,yBAAyB,EAAE;AACrH;AACA,iFAAiF,yBAAyB,EAAE;AAC5G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE,oBAAoB,EAAE;AAC9F;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,kDAAkD,gBAAgB;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,+DAA+D,WAAW,EAAE;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,+DAA+D,uBAAuB,EAAE;AACxF;AACA;AACA,mCAAmC,yBAAyB;AAC5D,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,qDAAqD,UAAU,0CAA0C,EAAE,EAAE;AAC7G,yDAAyD,oBAAoB,EAAE;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,+CAA+C,wBAAwB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D,sBAAsB,EAAE;AACrF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA,oDAAoD,0BAA0B,EAAE;AAChF,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT,mDAAmD,0BAA0B;AAC7E;AACA,0BAA0B,mBAAmB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE,mCAAmC,EAAE;AAC3G,yCAAyC,WAAW,yCAAyC,qBAAqB,kCAAkC,GAAG;AACvJ;AACA;AACA;AACA;AACA,sBAAsB,WAAW,gTAAgT;AACjV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,2FAA2F;AACxI,wDAAwD,8FAA8F;AACtJ;AACA;AACA;AACA,mCAAmC,oBAAoB,EAAE;AACzD,uCAAuC,mBAAmB,mDAAmD;AAC7G;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qDAAqD,oBAAoB;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0EAA0E,WAAW,gFAAgF,qBAAqB,kCAAkC,GAAG;AAC/N;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,WAAW,6KAA6K;AAClN,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,yBAAyB,SAAS,4BAA4B,EAAE;AAChE;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,yBAAyB;AAC7C;AACA;AACA,SAAS;AACT,iDAAiD,yCAAyC;AAC1F;AACA;AACA;AACA,sFAAsF,wBAAwB;AAC9G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE,wBAAwB,EAAE;AAC5F;AACA,oEAAoE,wBAAwB,EAAE;AAC9F;AACA;AACA;AACA;AACA,kCAAkC,QAAQ;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,yBAAyB,EAAE;AAC9E;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,wBAAwB,EAAE,EAAE;AACzE;AACA;AACA;AACA,yBAAyB,UAAU;AACnC;AACA,gEAAgE;AAChE;AACA;AACA,SAAS,EAAE;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,8CAA8C,SAAS,oBAAoB,EAAE;AACzH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE;AACpE;AACA;AACA,aAAa,EAAE,yCAAyC,wEAAwE;AAChI,KAAK,GAAG,EAAE;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,4DAA4D,mCAAmC,EAAE;AACjG;AACA;AACA;AACA;AACA,0CAA0C,SAAS,yCAAyC,EAAE;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA,SAAS,0BAA0B,4BAA4B,EAAE;AACjE,KAAK;AACL;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,eAAe;AAC/C,mDAAmD,+BAA+B,EAAE;AACpF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,OAAO,kEAAkE;AAC3G;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,gCAAgC,qBAAqB;AACrD,gCAAgC,eAAe;AAC/C;AACA;AACA;AACA;AACA,uBAAuB,iCAAiC;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qBAAqB;AACrD,uCAAuC,oBAAoB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,sBAAsB,uBAAuB,EAAE,EAAE;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,YAAY;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,6BAA6B,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gCAAgC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,iCAAiC;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kFAAkF,0BAA0B,+BAA+B;AAC3I;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,iDAAiD,aAAa,yEAAyE;AACpL;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,uCAAuC,2BAA2B;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,mBAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,sBAAsB;AACxD,2CAA2C,iBAAiB;AAC5D;AACA;AACA;AACA,yCAAyC,+CAA+C;AACxF;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,kCAAkC,mCAAmC,EAAE;AAChF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE,6DAA6D,EAAE;AACnI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,uCAAuC,aAAa,YAAY,WAAW,GAAG;AAC5G;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,iBAAiB,aAAa,YAAY,WAAW,GAAG;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,IAAI;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0FAA0F,iBAAiB,6CAA6C;AACxJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,4CAA4C,gBAAgB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,gBAAgB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8FAA8F,iBAAiB,wCAAwC;AACvJ;AACA;AACA,aAAa;AACb;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA,uBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8FAA8F,iBAAiB,wCAAwC;AACvJ;AACA;AACA,aAAa;AACb;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA,8CAA8C,QAAQ;AACtD;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,WAAW;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA,SAAS,4DAA4D;AACrE;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,iBAAiB,yDAAyD;AAC1E,iBAAiB,yDAAyD;AAC1E,iBAAiB,wCAAwC;AACzD,iBAAiB,4DAA4D;AAC7E,iBAAiB,wCAAwC;AACzD;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB,iBAAiB,wCAAwC;AACzD;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD,gCAAgC,EAAE;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,KAAK;AACL;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,aAAa;AAC7C;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,kCAAkC,wBAAwB;AAC1D,2CAA2C,iBAAiB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,yBAAyB,EAAE;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,sBAAsB,EAAE;AACxD,qCAAqC,8BAA8B;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,uEAAuE,qBAAqB;AAC5F,KAAK;AACL;AACA;AACA;AACA,uEAAuE,oBAAoB;AAC3F,KAAK;AACL;AACA;AACA;AACA;AACA,uEAAuE,yBAAyB;AAChG,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,mBAAmB,oBAAoB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uFAAuF;AACvF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,oBAAoB;AACnD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC,+BAA+B,6BAA6B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,QAAQ,OAAO;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oFAAoF,0DAA0D,EAAE,EAAE;AAClJ;AACA,SAAS;AACT,wDAAwD;AACxD,KAAK;AACL,6GAA6G;AAC7G;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kGAAkG,yBAAyB,EAAE;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,yBAAyB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,+CAA+C,wBAAwB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,4CAA4C,OAAO;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAsE,2BAA2B,EAAE;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,IAAI;AAC7B,8CAA8C,iBAAiB,iBAAiB,gBAAgB;AAChG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb,SAAS;AACT,iEAAiE,UAAU,mBAAmB,EAAE,EAAE;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,+CAA+C;AAC/C,gBAAgB,0BAA0B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;;AAEA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,IAAI;AACjB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;AAGA,OAAO;AACP;AACA;;AAEA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA,+CAA+C;AAC/C,gBAAgB,0BAA0B;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,SAAS;AACT;AACA;AACA,CAAC;AACD;;AAEA,4BAA4B;;AAE5B,OAAO;AACP;AACA,CAAC,EAAE,wBAAwB,iBAAiB,iDAAiD,EAAE,yBAAyB,0BAA0B,E;;;;;;;;;;;ACrmblJ,uKAAuK,2MAA2M,mM;;;;;;;;;;;;;;;;;;ACAhU;AACI;AAQtD;IAEI,0CAAoB,eAAoE;QAApE,oBAAe,GAAf,eAAe,CAAqD;IAAG,CAAC;IAE5F,mDAAQ,GAAR,cAAY,CAAC;IAEb,kDAAO,GAAP;QAEI,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QACzB,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACvC,CAAC;IAED,wDAAa,GAAb;QACI,IAAI,CAAC,eAAe,CAAC,OAAO,EAAE,CAAC;IACnC,CAAC;IAdQ,gCAAgC;QAL5C,+DAAS,CAAC;YACP,6IAAkD;YAElD,QAAQ,EAAE,qBAAqB;SAClC,CAAC;+EAGuC,mEAAiB;OAF7C,gCAAgC,CAgB5C;IAAD,uCAAC;CAAA;AAhB4C;;;;;;;;;;;;ACT7C,k1CAAk1C,qPAAqP,eAAe,wDAAwD,UAAU,s7DAAs7D,kBAAkB,2EAA2E,eAAe,goDAAgoD,eAAe,6DAA6D,wBAAwB,ijC;;;;;;;;;;;ACA95K,+DAA+D,+L;;;;;;;;;;;;;;;;;;;;;;;;;ACA+C;AAChB;AACF;AACc;AACpD;AACQ;AACZ;AACI;AACqD;AAW3G;IAsBI,kCACY,EAAe,EAChB,GAA2C,EAClB,IAAgB,EACxC,OAAuB,EACvB,OAAuB,EACvB,EAAkB;QAN9B,iBASC;QARW,OAAE,GAAF,EAAE,CAAa;QAChB,QAAG,GAAH,GAAG,CAAwC;QAClB,SAAI,GAAJ,IAAI,CAAY;QACxC,YAAO,GAAP,OAAO,CAAgB;QACvB,YAAO,GAAP,OAAO,CAAgB;QACvB,OAAE,GAAF,EAAE,CAAgB;QA1B9B,SAAI,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;QAUzB,aAAQ,GAAG,KAAK,CAAC;QAIjB,eAAU,GAAG,MAAM,CAAC,IAAI,CAAC,4DAAgB,CAAC,CAAC;QAC3C,sBAAiB,GAAG,2DAAe,CAAC;QAEpC,sBAAiB,GAAG,KAAK,CAAC;QAC1B,0BAAqB,GAAG,KAAK,CAAC;QAwD9B,cAAS,GAAG,cAAM,YAAI,CAAC,GAAG,CAAC,KAAK,EAAE,EAAhB,CAAgB,CAAC;QA+DnC,sBAAiB,GAAG,cAAM,YAAI,CAAC,GAAG,CAAC,KAAK,CAAC,KAAI,CAAC,YAAY,EAAE,CAAC,EAAnC,CAAmC,CAAC;QA7G1D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;IACvC,CAAC;IAzBD,sBAAI,yCAAG;aAAP;YACI,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,CAAc,CAAC;QAC7C,CAAC;;;OAAA;IAyBD,2CAAQ,GAAR;QAAA,iBA0BC;QAzBG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;QAElC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;QAExC,IAAI,IAAI,CAAC,KAAK,EAAE;YACZ,IAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC;YACzD,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,iBAAiB,CAAC;YACtD,IAAM,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAmC,CAAC;YAEzE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;gBACjB,SAAS,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS;gBAC/B,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ;aAChC,CAAC,CAAC;YAEH,IAAI,GAAG,IAAI,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE;gBACrC,GAAG,CAAC,OAAO,CAAC,UAAC,CAAC,EAAE,CAAC,EAAE,CAAC;oBAChB,KAAI,CAAC,GAAG,CAAC,IAAI,CAAC,KAAI,CAAC,EAAE,CAAC,KAAK,CAAC;wBACxB,GAAG,EAAE,CAAC,CAAC,GAAG;wBACV,KAAK,EAAE,CAAC,CAAC,KAAK;qBACjB,CAAC,CAAC,CAAC;gBACR,CAAC,CAAC,CAAC;aACN;SACJ;aAAM;YACH,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB;IACL,CAAC;IAED,kDAAe,GAAf;QAAA,iBAaC;QAZG,IAAI,CAAC,IAAI,CAAC,OAAO;aACZ,IAAI,CACD,gEAAS,CAAC,EAAE,CAAC,EACb,4DAAK,CAAC,CAAC,CAAC,CACX;aACA,SAAS,CAAC,UAAC,IAA2B;YACnC,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC,KAAI,CAAC,QAAQ,EAAE;gBAC/B,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;aACnC;iBAAM;gBACH,KAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;aACzB;QACL,CAAC,CAAC,CAAC;IACX,CAAC;IAID,4CAAS,GAAT;QACI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACxB,GAAG,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;YAC/C,KAAK,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;YACjD,SAAS,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC;SACjC,CAAC,CAAC,CAAC;IACR,CAAC;IAED,kDAAe,GAAf;QAAA,iBA0BC;QAzBG,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO;YAAE,OAAO;QAE9B,qDAAQ,CACJ,IAAI,CAAC,gBAAgB,EAAE,EACvB,IAAI,CAAC,0BAA0B,EAAE,CACpC,CAAC,SAAS,CAAC,iBAAO;YACf,IAAM,aAAa,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;YAEjC,oDAAoD;QACxD,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE;YAC7B,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,wHAAgC,CAAC;iBACzC,cAAc,EAAE;iBAChB,SAAS,CAAC,gBAAM;gBACb,IAAI,CAAC,MAAM,EAAE;oBACT,KAAI,CAAC,iBAAiB,EAAE,CAAC;iBAC5B;qBAAM;oBACH,KAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;oBAClC,KAAI,CAAC,iBAAiB,EAAE,CAAC;iBAC5B;YACL,CAAC,CAAC,CAAC;SACV;aAAM;YACH,IAAI,CAAC,iBAAiB,EAAE,CAAC;SAC5B;IACL,CAAC;IAED,mDAAgB,GAAhB;QAAA,iBAiBC;QAhBG,OAAO,+CAAU,CAAC,MAAM,CAAC,UAAC,EAAkB;YACxC,IAAI,CAAC,KAAI,CAAC,qBAAqB,EAAE;gBAC7B,KAAI,CAAC,EAAE,CAAC,IAAI,CAAC,wHAAgC,CAAC;qBACzC,cAAc,EAAE;qBAChB,SAAS,CAAC,gBAAM;oBACb,IAAI,CAAC,MAAM,EAAE;wBACT,EAAE,CAAC,QAAQ,EAAE,CAAC;qBACjB;yBAAM;wBACH,KAAI,CAAC,qBAAqB,GAAG,IAAI,CAAC;wBAClC,EAAE,CAAC,QAAQ,EAAE,CAAC;qBACjB;gBACL,CAAC,CAAC,CAAC;aACV;iBAAM;gBACH,EAAE,CAAC,QAAQ,EAAE,CAAC;aACjB;QACL,CAAC,CAAC,CAAC;IACP,CAAC;IAED,6DAA0B,GAA1B;QACI,OAAO,+CAAU,CAAC,MAAM,CAAC,UAAC,EAAsB;YAC5C,mEAAmE;QACvE,CAAC,CAAC,CAAC;IACP,CAAC;IAID,yCAAM,GAAN,UAAO,KAAoB,EAAE,KAAa;QACtC,IAAI,KAAK,CAAC,OAAO,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,EAAE;YACtD,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YACrB,IAAI,CAAC,SAAS,EAAE,CAAC;SACpB;IACL,CAAC;IAED,mDAAgB,GAAhB,UAAiB,KAA6B,EAAE,SAAsB;QAClE,OAAO,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC,CAAC;IACpC,CAAC;IAED,+CAAY,GAAZ;QACI,IAAM,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,CAAC;QAEnE,OAAO;YACH,aAAa,EAAE,aAAa;YAC5B,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE;YACpB,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ;YAC3C,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ;YACpC,SAAS,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS;YACpC,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ;YAClC,GAAG,EAAE,IAAI,CAAC,GAAG,CAAC,KAAK;YACnB,gBAAgB,EAAE,IAAI,CAAC,qBAAqB;YAC5C,iBAAiB,EAAE,IAAI,CAAC,iBAAiB;SAC7B,CAAC;IACrB,CAAC;IAEO,6CAAU,GAAlB;QACI,OAAO,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC;YACjB,SAAS,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;YACrD,QAAQ,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,CAAC;YAC7B,UAAU,EAAE,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,CAAC,CAAC;YACtD,GAAG,EAAE,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,EAAE,CAAC;SACzB,CAAC,CAAC;IACP,CAAC;IArK0B;QAA1B,kEAAY,CAAC,WAAW,CAAC;wEAAO,uDAAS;0DAAa;IAV9C,wBAAwB;QALpC,+DAAS,CAAC;YACP,QAAQ,EAAE,sBAAsB;YAChC,uJAAiD;;SAEpD,CAAC;QA0BO,6GAAM,CAAC,iEAAe,CAAC;+EAFZ,0DAAW;YACX,8DAAY,UAEP,mEAAc;YACd,2EAAc;YACnB,gEAAc;OA5BrB,wBAAwB,CAiLpC;IAAD,+BAAC;CAAA;AAjLoC;;;;;;;;;;;;ACnBrC,29BAA29B,uiCAAuiC,gBAAgB,qPAAqP,aAAa,sPAAsP,mCAAmC,4PAA4P,mCAAmC,kTAAkT,0FAA0F,+N;;;;;;;;;;;ACAxtG,kCAAkC,8BAA8B,EAAE,oCAAoC,6BAA6B,wBAAwB,qBAAqB,gCAAgC,6BAA6B,uBAAuB,EAAE,gFAAgF,8BAA8B,EAAE,yDAAyD,mBAAmB,EAAE,kBAAkB,4BAA4B,EAAE,4BAA4B,oBAAoB,EAAE,+CAA+C,u7H;;;;;;;;;;;;;;;;;;;;;;ACAphB;AAC1B;AAC0B;AAEb;AACE;AAC8C;AAOpG;IAMI,+BAAoB,OAAsB,EAAU,MAAgB,EAAU,OAAuB;QAAjF,YAAO,GAAP,OAAO,CAAe;QAAU,WAAM,GAAN,MAAM,CAAU;QAAU,YAAO,GAAP,OAAO,CAAgB;QAHrG,iBAAY,GAAG,IAAI,oDAAe,CAAgB,IAAI,CAAC,CAAC;QACxD,eAAU,GAAG,IAAI,oDAAe,CAAU,KAAK,CAAC,CAAC;IAEwD,CAAC;IAE1G,wCAAQ,GAAR;QAAA,iBAMC;QALG,IAAI,CAAC,OAAO,CAAC,eAAe,EAAE,CAAC,SAAS,CAAC,gBAAM;YAC3C,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;IAClC,CAAC;IAED,8CAAc,GAAd;QAAA,iBAuBC;QAtBG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC3B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,+GAAwB,EAAE;YACvC,IAAI,EAAE;YACF,mBAAmB;aACtB;YACD,KAAK,EAAE,MAAM;YACb,SAAS,EAAE,KAAK;SACnB,CAAC;aACD,WAAW,EAAE;aACb,SAAS,CAAC,UAAC,KAAkB;YAC1B,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC5B,IAAI,CAAC,KAAK;gBAAE,OAAO;YAEnB,KAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;YAC1B,KAAI,CAAC,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,aAAG;gBAC7C,KAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;gBAE1B,IAAM,MAAM,GAAG,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC;gBACvC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACjB,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACnC,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED,+CAAe,GAAf,UAAgB,KAAkB;QAAlC,iBA2BC;QA1BG,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAC3B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,+GAAwB,EAAE;YACvC,IAAI,EAAE;gBACF,WAAW,EAAE,KAAK;aACrB;YACD,KAAK,EAAE,MAAM;YACb,SAAS,EAAE,KAAK;SACnB,CAAC;aACD,WAAW,EAAE;aACb,SAAS,CAAC,UAAC,KAAkB;YAC1B,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC5B,IAAI,CAAC,KAAK;gBAAE,OAAO;YAEnB,KAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;YAC1B,KAAI,CAAC,OAAO,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,aAAG;gBAC7C,KAAI,CAAC,OAAO,CAAC,UAAU,EAAE,CAAC;gBAE1B,IAAM,MAAM,GAAG,KAAI,CAAC,YAAY,CAAC,KAAK,CAAC;gBACvC,MAAM,CAAC,OAAO,CAAC,UAAC,CAAC,EAAE,CAAC,EAAE,CAAC;oBACnB,IAAI,CAAC,CAAC,aAAa,IAAI,GAAG,CAAC,aAAa,EAAE;wBACtC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC;qBACd;gBACL,CAAC,CAAC,CAAC;gBACH,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;YACnC,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAED,kDAAkB,GAAlB,UAAmB,KAAuB;QACtC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;IACvB,CAAC;IAxEQ,qBAAqB;QALjC,+DAAS,CAAC;YACP,QAAQ,EAAE,kBAAkB;YAC5B,mIAA6C;;SAEhD,CAAC;+EAO8B,+DAAc,EAAiB,2DAAS,EAAmB,mEAAc;OAN5F,qBAAqB,CA0EjC;IAAD,4BAAC;CAAA;AA1EiC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACbO;AACM;AACO;AACS;AACT;AACsB;AACV;AACc;AACpC;AACuD;AAC3B;AACH;AAC2B;AACjC;AAE/D,IAAM,MAAM,GAAY;IACpB,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,EAAE;IACrD,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,4EAAgB,EAAE,WAAW,EAAE,CAAC,yDAAS,CAAC,EAAE;IAC1E,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,4FAAqB,EAAE,WAAW,EAAE,CAAC,yDAAS,CAAC,EAAE;CACjF,CAAC;AA4BF;IAAA;IAA6B,CAAC;IAAjB,aAAa;QA1BzB,8DAAQ,CAAC;YACN,YAAY,EAAE;gBACV,4FAAqB;gBACrB,gHAAwB;gBACxB,6GAAgC;gBAChC,4EAAgB;aACnB;YACD,OAAO,EAAE;gBACL,4DAAY;gBACZ,4EAAc;gBACd,mEAAW;gBACX,yFAAiB;gBACjB,0DAAW;gBACX,kEAAmB;gBACnB,sFAAiB;gBAEjB,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAChC;YACD,eAAe,EAAE;gBACb,gHAAwB;gBACxB,6GAAgC;aACnC;YACD,SAAS,EAAE;gBACP,EAAE,OAAO,EAAE,mFAAgC,EAAE,QAAQ,EAAE,EAAE,WAAW,EAAE,KAAK,EAAE,EAAE;aAClF;SACJ,CAAC;OACW,aAAa,CAAI;IAAD,oBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;AC/CiB;AACO;AAEH;AACQ;AACD;AACG;AAChB;AAKzC;IASI,wBAAoB,IAAgB,EAAU,OAAuB,EAAU,MAAc;QAA7F,iBAKC;QALmB,SAAI,GAAJ,IAAI,CAAY;QAAU,YAAO,GAAP,OAAO,CAAgB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAP7F,QAAG,GAAG,4DAAW,CAAC,MAAM,GAAG,KAAK,CAAC;QAKjC,SAAI,GAAG,IAAI,oDAAe,CAAO,IAAI,CAAC,CAAC;QAGnC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,cAAI;YACrC,IAAI,CAAC,IAAI;gBAAE,OAAO;YAClB,KAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzB,CAAC,CAAC,CAAC;IACP,CAAC;IAED;;OAEG;IACH,wCAAe,GAAf;QACI,IAAM,GAAG,GAAM,IAAI,CAAC,GAAG,mBAAgB,CAAC;QACxC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAgB,GAAG,CAAC,CAAC;IAC7C,CAAC;IAED;;OAEG;IACH,wCAAe,GAAf,UAAgB,KAAkB;QAC9B,IAAM,GAAG,GAAM,IAAI,CAAC,GAAG,mBAAgB,CAAC;QACxC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAc,GAAG,EAAE,KAAK,CAAC,CAAC;IACnD,CAAC;IAED,uCAAc,GAAd;QAAA,iBASC;QARG,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,cAAI;YAChC,IAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,IAAI,IAAI;gBACxC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ;gBAC9B,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC;YACrC,IAAM,GAAG,GAAM,KAAI,CAAC,GAAG,2BAAsB,QAAQ,iBAAc,CAAC;YACpE,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,IAAI,CAAC,GAAG,CAAc,GAAG,CAAC,CAAC,IAAI,CAAC,kEAAW,CAAC,CAAC,CAAC,CAAC,CAAC;YACtE,IAAI,GAAG;gBAAE,GAAG,CAAC,WAAW,EAAE,CAAC;QAC/B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,uCAAc,GAAd;QAAA,iBASC;QARG,IAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,cAAI;YAChC,IAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,IAAI,IAAI;gBACxC,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ;gBAC9B,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC;YACrC,IAAM,GAAG,GAAM,KAAI,CAAC,GAAG,iBAAY,QAAQ,eAAY,CAAC;YACxD,KAAI,CAAC,SAAS,GAAG,KAAI,CAAC,IAAI,CAAC,GAAG,CAAY,GAAG,CAAC,CAAC,IAAI,CAAC,kEAAW,CAAC,CAAC,CAAC,CAAC,CAAC;YACpE,IAAI,GAAG;gBAAE,GAAG,CAAC,WAAW,EAAE,CAAC;QAC/B,CAAC,CAAC,CAAC;IACP,CAAC;IApDQ,cAAc;QAH1B,gEAAU,CAAC;YACR,UAAU,EAAE,MAAM;SACrB,CAAC;+EAU4B,+DAAU,EAAmB,mEAAc,EAAkB,sDAAM;OATpF,cAAc,CAqD1B;IAAD,qBAAC;CAAA;AArD0B;;;;;;;;;;;;ACZ3B,83D;;;;;;;;;;;ACAA,+DAA+D,2J;;;;;;;;;;;;;;;;;ACAb;AAOlD;IAII;QAFA,YAAO,GAAG,KAAK,CAAC;IAEA,CAAC;IAEjB,mCAAQ,GAAR;IACA,CAAC;IAED,qCAAU,GAAV;QACI,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACxB,CAAC;IAED,uCAAY,GAAZ;QACI,IAAI,IAAI,CAAC,OAAO,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,sCAAsC,CAAC,CAAC;SACvD;IACL,CAAC;IAlBQ,gBAAgB;QAL5B,+DAAS,CAAC;YACP,QAAQ,EAAE,YAAY;YACtB,iHAAuC;;SAE1C,CAAC;;OACW,gBAAgB,CAoB5B;IAAD,uBAAC;CAAA;AApB4B;;;;;;;;;;;;ACP7B,kE;;;;;;;;;;;ACAA,oCAAoC,gBAAgB,iBAAiB,kBAAkB,EAAE,+CAA+C,ue;;;;;;;;;;;;;;;;;;;ACA7C;AAC7C;AAO9C;IAUI;IAAgB,CAAC;IAEjB,uCAAQ,GAAR;QACI,IAAI,CAAC,WAAW,GAAG,IAAI,2DAAW,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE;YAC7D,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,SAAS,EAAE,IAAI,CAAC,SAAS;SAC5B,CAAC,CAAC;IACP,CAAC;IAED,0CAAW,GAAX;QACI,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC;IAClC,CAAC;IAvBoB;QAApB,+DAAS,CAAC,QAAQ,CAAC;wEAAY,wDAAU;2DAAC;IAGlC;QAAR,2DAAK,EAAE;;yDAAmB;IAClB;QAAR,2DAAK,EAAE;;sDAAe;IACd;QAAR,2DAAK,EAAE;;0DAAmB;IAClB;QAAR,2DAAK,EAAE;;2DAAmB;IAClB;QAAR,2DAAK,EAAE;;2DAAmB;IARlB,oBAAoB;QALhC,+DAAS,CAAC;YACP,QAAQ,EAAE,gBAAgB;YAC1B,qHAA2C;;SAE9C,CAAC;;OACW,oBAAoB,CA0BhC;IAAD,2BAAC;CAAA;AA1BgC;;;;;;;;;;;;;;;;;;;ACRQ;AACsB;AAW/D;IAAA;IAAiC,CAAC;IAArB,iBAAiB;QAR7B,8DAAQ,CAAC;YACN,YAAY,EAAE;gBACV,2EAAoB;aACvB;YACD,OAAO,EAAE;gBACL,2EAAoB;aACvB;SACJ,CAAC;OACW,iBAAiB,CAAI;IAAD,wBAAC;CAAA;AAAJ","file":"imports-imports-module.js","sourcesContent":["/*\n@license\n\ndhtmlxSpreadsheet v.3.1.2 GPL\n\nThis software is covered by GPL license.\nTo use it in non-GPL project, you need obtain Commercial or Enterprise license\nPlease contact sales@dhtmlx.com. Usage without proper license is prohibited.\n(c) Dinamenta, UAB.\n\n*/\nif (window.dhx){ window.dhx_legacy = dhx; delete window.dhx; }(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"dhx\"] = factory();\n\telse\n\t\troot[\"dhx\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/codebase/\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 42);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom = __webpack_require__(56);\nexports.el = dom.defineElement;\nexports.sv = dom.defineSvgElement;\nexports.view = dom.defineView;\nexports.create = dom.createView;\nexports.inject = dom.injectView;\nfunction disableHelp() {\n    dom.DEVMODE.mutations = false;\n    dom.DEVMODE.warnings = false;\n    dom.DEVMODE.verbose = false;\n    dom.DEVMODE.UNKEYED_INPUT = false;\n}\nexports.disableHelp = disableHelp;\nfunction resizer(handler) {\n    return exports.el(\"iframe\", {\n        _hooks: {\n            didInsert: function (node) {\n                var activeHandler = function () {\n                    var height = node.el.offsetHeight;\n                    var width = node.el.offsetWidth;\n                    handler(width, height);\n                };\n                node.el.contentWindow.onresize = activeHandler;\n                activeHandler();\n            }\n        },\n        style: \"position:absolute;left:0;top:-100%;width:100%;height:100%;margin:1px 0 0;border:none;opacity:0;visibility:hidden;pointer-events:none;\",\n    });\n}\nexports.resizer = resizer;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Promise) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = __webpack_require__(2);\nfunction getLetterFromNumber(num) {\n    if (!num) {\n        return \"\";\n    }\n    num = --num;\n    var numeric = num % 26;\n    var letter = String.fromCharCode(65 + numeric);\n    var group = Math.floor(num / 26);\n    if (group > 0) {\n        return getLetterFromNumber(group) + letter;\n    }\n    return letter;\n}\nexports.getLetterFromNumber = getLetterFromNumber;\nfunction getNumberFromLetter(str) {\n    if (!str) {\n        return -1;\n    }\n    str = str.toUpperCase();\n    var letters = str.split(\"\");\n    return letters.reduce(function (total, item, i, arr) {\n        var num = item.charCodeAt(0) - 64;\n        var pow = Math.pow(26, arr.length - (i + 1));\n        total += num * pow;\n        return total;\n    }, 0);\n}\nexports.getNumberFromLetter = getNumberFromLetter;\nfunction getCellIds(grid, cell) {\n    if (!cell) {\n        return {};\n    }\n    var match = cell.match(/([a-zA-Z]*\\d*):([a-zA-Z]*\\d*)/);\n    if (match) {\n        return {\n            start: getCellIds(grid, match[1]),\n            end: getCellIds(grid, match[2])\n        };\n    }\n    var index = getCellIndex(cell);\n    if (!index) {\n        return {};\n    }\n    var rowId = grid.data.getId(index.row);\n    var col = grid.config.columns[index.col];\n    if (!rowId || !col || !col.id) {\n        return {};\n    }\n    return {\n        col: col.id,\n        row: rowId\n    };\n}\nexports.getCellIds = getCellIds;\nfunction getCellIndex(cell) {\n    var match = cell.match(/([a-zA-Z]*)(\\d*)/);\n    if (!match || !match[1] || !match[2]) {\n        return;\n    }\n    return {\n        col: getNumberFromLetter(match[1]),\n        row: parseInt(match[2], 10) - 1\n    };\n}\nexports.getCellIndex = getCellIndex;\nfunction getCellNameByIndex(rowIndex, colIndex) {\n    return \"\" + getLetterFromNumber(colIndex) + (rowIndex + 1);\n}\nexports.getCellNameByIndex = getCellNameByIndex;\nfunction getCellNameById(grid, row, col) {\n    if (!row) {\n        return \"\";\n    }\n    var rowId = grid.data.getIndex(row) + 1;\n    var colId = core_1.findIndex(grid.config.columns, function (item) { return col === item.id; });\n    if (rowId < 0 || colId < 0) {\n        return;\n    }\n    return \"\" + getLetterFromNumber(colId) + rowId;\n}\nexports.getCellNameById = getCellNameById;\nfunction getCellInfo(grid, cell) {\n    var cellId = getCellIds(grid, cell);\n    if (cellId.start) {\n        cellId = cellId.start;\n    }\n    if (!cellId || !cell) {\n        return {\n            locked: false\n        };\n    }\n    var item = grid.data.getItem(cellId.row);\n    if (!item) {\n        return {};\n    }\n    if (!item.$info) {\n        item.$info = {};\n    }\n    if (!item.$info[cellId.col]) {\n        item.$info[cellId.col] = {};\n    }\n    return grid.data.getItem(cellId.row).$info[cellId.col];\n}\nexports.getCellInfo = getCellInfo;\nfunction updateCellInfo(grid, cell, obj) {\n    var cellId = getCellIds(grid, cell);\n    var item = grid.data.getItem(cellId.row);\n    if (!item) {\n        return {};\n    }\n    if (!item.$info) {\n        item.$info = {};\n    }\n    if (!item.$info[cellId.col]) {\n        item.$info[cellId.col] = {};\n    }\n    core_1.extend(item.$info[cellId.col], obj);\n}\nexports.updateCellInfo = updateCellInfo;\nfunction isRangeId(id) {\n    return new RegExp(/([A-Z]+\\d+:[A-Z]+\\d+)|(?:,)([A-Z]+\\d+)/).test(id);\n}\nexports.isRangeId = isRangeId;\nfunction getRangeIndexes(range) {\n    var cells = range.split(\":\").map(function (item) { return getCellIndex(item); });\n    var res = {\n        start: {\n            row: Math.min(cells[0].row, cells[1].row),\n            col: Math.min(cells[0].col, cells[1].col)\n        },\n        end: {\n            row: Math.max(cells[0].row, cells[1].row),\n            col: Math.max(cells[0].col, cells[1].col)\n        }\n    };\n    return res;\n}\nexports.getRangeIndexes = getRangeIndexes;\nfunction getRangeArray(range, dir) {\n    if (dir === void 0) { dir = \"row\"; }\n    var arr = [];\n    var opp = dir === \"row\" ? \"col\" : \"row\";\n    if (range) {\n        var _a = getRangeIndexes(range), start = _a.start, end = _a.end;\n        for (var i = start[dir]; i <= end[dir]; i++) {\n            for (var k = start[opp]; k <= end[opp]; k++) {\n                var cell = dir === \"row\" ? getCellNameByIndex(i, k) : getCellNameByIndex(k, i);\n                arr.push(cell);\n            }\n        }\n    }\n    return arr;\n}\nexports.getRangeArray = getRangeArray;\nfunction getRangeMatrix(range, dir) {\n    if (dir === void 0) { dir = \"row\"; }\n    var arr = [];\n    var opp = dir === \"row\" ? \"col\" : \"row\";\n    if (range) {\n        var _a = getRangeIndexes(range), start = _a.start, end = _a.end;\n        for (var i = start[dir]; i <= end[dir]; i++) {\n            var f = [];\n            for (var k = start[opp]; k <= end[opp]; k++) {\n                var cell = dir === \"row\" ? getCellNameByIndex(i, k) : getCellNameByIndex(k, i);\n                f.push(cell);\n            }\n            arr.push(f);\n        }\n    }\n    return arr;\n}\nexports.getRangeMatrix = getRangeMatrix;\nfunction getNextRangeCell(range, current, dir) {\n    if (dir === void 0) { dir = \"row\"; }\n    var rangeArr = getRangeArray(range, dir);\n    return rangeArr[rangeArr.indexOf(current) + 1] || rangeArr[0];\n}\nexports.getNextRangeCell = getNextRangeCell;\nfunction getPrevRangeCell(range, current, dir) {\n    if (dir === void 0) { dir = \"row\"; }\n    var rangeArr = getRangeArray(range, dir);\n    return rangeArr[rangeArr.indexOf(current) - 1] || rangeArr[rangeArr.length - 1];\n}\nexports.getPrevRangeCell = getPrevRangeCell;\nfunction getCellsArray(cells) {\n    if (!cells) {\n        return;\n    }\n    var arr = cells.split(\",\");\n    return arr.reduce(function (total, cell) {\n        cell = cell.toUpperCase();\n        if (isRangeId(cell)) {\n            total = total.concat(getRangeArray(cell));\n        }\n        else {\n            total.push(cell);\n        }\n        return total;\n    }, []);\n}\nexports.getCellsArray = getCellsArray;\nfunction extendConfig(target, source, deep) {\n    if (target === void 0) { target = {}; }\n    if (source === void 0) { source = {}; }\n    if (deep === void 0) { deep = true; }\n    for (var key in target) {\n        var sobj = source[key];\n        var tobj = target[key];\n        if (tobj && \"validate\" in tobj) {\n            source[key] = tobj.validate(sobj) ? sobj : tobj.default;\n            target[key] = tobj.default;\n        }\n    }\n    return core_1.extend(target, source, deep);\n}\nexports.extendConfig = extendConfig;\nfunction isWasmSupported() {\n    try {\n        if (typeof WebAssembly === \"object\"\n            && typeof WebAssembly.instantiate === \"function\") {\n            var module_1 = new WebAssembly.Module(Uint8Array.of(0x0, 0x61, 0x73, 0x6d, 0x01, 0x00, 0x00, 0x00));\n            if (module_1 instanceof WebAssembly.Module) {\n                return new WebAssembly.Instance(module_1) instanceof WebAssembly.Instance;\n            }\n        }\n    }\n    catch (e) {\n        return false;\n    }\n    return false;\n}\nexports.isWasmSupported = isWasmSupported;\nfunction fetchFile(url, method, responseType) {\n    return new Promise(function (res, rej) {\n        var req = new XMLHttpRequest();\n        req.open(method, url, true);\n        req.responseType = responseType;\n        req.onload = function () {\n            var response = req.response;\n            if (response) {\n                res(response);\n            }\n            else {\n                rej(req);\n            }\n        };\n        req.onerror = function () { return rej(req); };\n        req.send(null);\n    });\n}\nexports.fetchFile = fetchFile;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(10)))\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar counter = (new Date()).valueOf();\nfunction uid() {\n    return \"u\" + (counter++);\n}\nexports.uid = uid;\nfunction extend(target, source, deep) {\n    if (deep === void 0) { deep = true; }\n    if (source) {\n        for (var key in source) {\n            var sobj = source[key];\n            var tobj = target[key];\n            if (deep && typeof tobj === \"object\" && !(tobj instanceof Date) && !(tobj instanceof Array)) {\n                extend(tobj, sobj);\n            }\n            else {\n                target[key] = sobj;\n            }\n        }\n    }\n    return target;\n}\nexports.extend = extend;\nfunction copy(source) {\n    var result = {};\n    for (var key in source) {\n        result[key] = source[key];\n    }\n    return result;\n}\nexports.copy = copy;\nfunction naturalSort(arr) {\n    return arr.sort(function (a, b) {\n        var nn = typeof a === \"string\" ? a.localeCompare(b) : a - b;\n        return nn;\n    });\n}\nexports.naturalSort = naturalSort;\nfunction findIndex(arr, predicate) {\n    var len = arr.length;\n    for (var i = 0; i < len; i++) {\n        if (predicate(arr[i])) {\n            return i;\n        }\n    }\n    return -1;\n}\nexports.findIndex = findIndex;\nfunction isEqualString(from, to) {\n    if (from.length > to.length) {\n        return false;\n    }\n    for (var i = 0; i < from.length; i++) {\n        if (from[i].toLowerCase() !== to[i].toLowerCase()) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.isEqualString = isEqualString;\nfunction singleOuterClick(fn) {\n    var click = function (e) {\n        if (fn(e)) {\n            document.removeEventListener(\"click\", click);\n        }\n    };\n    document.addEventListener(\"click\", click);\n}\nexports.singleOuterClick = singleOuterClick;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__webpack_require__(44);\nfunction toNode(node) {\n    if (typeof node === \"string\") {\n        node = (document.getElementById(node) || document.querySelector(node));\n    }\n    return node || document.body;\n}\nexports.toNode = toNode;\nfunction eventHandler(prepare, hash) {\n    var keys = Object.keys(hash);\n    return function (ev) {\n        var data = prepare(ev);\n        var node = ev.target;\n        while (node) {\n            var cssstring = node.getAttribute ? (node.getAttribute(\"class\") || \"\") : \"\";\n            if (cssstring.length) {\n                var css = cssstring.split(\" \");\n                for (var j = 0; j < keys.length; j++) {\n                    if (css.indexOf(keys[j]) > -1) {\n                        return hash[keys[j]](ev, data);\n                    }\n                }\n            }\n            node = node.parentNode;\n        }\n        return true;\n    };\n}\nexports.eventHandler = eventHandler;\nfunction locate(target, attr) {\n    if (attr === void 0) { attr = \"dhx_id\"; }\n    var node = locateNode(target, attr);\n    return node ? node.getAttribute(attr) : \"\";\n}\nexports.locate = locate;\nfunction locateNode(target, attr) {\n    if (attr === void 0) { attr = \"dhx_id\"; }\n    if (target instanceof Event) {\n        target = target.target;\n    }\n    while (target) {\n        if (target.getAttribute && target.getAttribute(attr)) {\n            return target;\n        }\n        target = target.parentNode;\n    }\n}\nexports.locateNode = locateNode;\nfunction getBox(elem) {\n    var box = elem.getBoundingClientRect();\n    var body = document.body;\n    var scrollTop = window.pageYOffset || body.scrollTop;\n    var scrollLeft = window.pageXOffset || body.scrollLeft;\n    var top = box.top + scrollTop;\n    var left = box.left + scrollLeft;\n    var right = body.offsetWidth - box.right;\n    var bottom = body.offsetHeight - box.bottom;\n    var width = box.right - box.left;\n    var height = box.bottom - box.top;\n    return { top: top, left: left, right: right, bottom: bottom, width: width, height: height };\n}\nexports.getBox = getBox;\nvar scrollWidth = -1;\nfunction getScrollbarWidth() {\n    if (scrollWidth > -1) {\n        return scrollWidth;\n    }\n    var scrollDiv = document.createElement(\"div\");\n    document.body.appendChild(scrollDiv);\n    scrollDiv.style.cssText = \"position: absolute;left: -99999px;overflow:scroll;width: 100px;height: 100px;\";\n    scrollWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n    document.body.removeChild(scrollDiv);\n    return scrollWidth;\n}\nexports.getScrollbarWidth = getScrollbarWidth;\nfunction fitPosition(node, config) {\n    return calculatePosition(getRealPosition(node), config);\n}\nexports.fitPosition = fitPosition;\nfunction isIE() {\n    var ua = window.navigator.userAgent;\n    return ua.indexOf(\"MSIE \") > -1 || ua.indexOf(\"Trident/\") > -1;\n}\nexports.isIE = isIE;\nfunction getRealPosition(node) {\n    var rects = node.getBoundingClientRect();\n    return {\n        left: rects.left + window.pageXOffset,\n        right: rects.right + window.pageXOffset,\n        top: rects.top + window.pageYOffset,\n        bottom: rects.bottom + window.pageYOffset\n    };\n}\nexports.getRealPosition = getRealPosition;\nvar Position;\n(function (Position) {\n    Position[\"left\"] = \"left\";\n    Position[\"right\"] = \"right\";\n    Position[\"bottom\"] = \"bottom\";\n    Position[\"top\"] = \"top\";\n})(Position = exports.Position || (exports.Position = {}));\nfunction calculatePosition(pos, config) {\n    var _a = config.mode === Position.bottom || config.mode === Position.top ?\n        placeBottomOrTop(pos, config) :\n        placeRightOrLeft(pos, config), left = _a.left, top = _a.top;\n    return {\n        left: left + \"px\",\n        top: top + \"px\",\n        minWidth: config.width + \"px\",\n        position: \"absolute\"\n    };\n}\nexports.calculatePosition = calculatePosition;\nfunction getWindowBorders() {\n    return {\n        rightBorder: window.pageXOffset + window.innerWidth,\n        bottomBorder: window.pageYOffset + window.innerHeight\n    };\n}\nfunction horizontalCentering(pos, width, rightBorder) {\n    var nodeWidth = pos.right - pos.left;\n    var diff = (width - nodeWidth) / 2;\n    var left = pos.left - diff;\n    var right = pos.right + diff;\n    if (left >= 0 && right <= rightBorder) {\n        return left;\n    }\n    if (left < 0) {\n        return 0;\n    }\n    return rightBorder - width;\n}\nfunction verticalCentering(pos, height, bottomBorder) {\n    var nodeHeight = pos.bottom - pos.top;\n    var diff = (height - nodeHeight) / 2;\n    var top = pos.top - diff;\n    var bottom = pos.bottom + diff;\n    if (top >= 0 && bottom <= bottomBorder) {\n        return top;\n    }\n    if (top < 0) {\n        return 0;\n    }\n    return bottomBorder - height;\n}\nfunction placeBottomOrTop(pos, config) {\n    var _a = getWindowBorders(), rightBorder = _a.rightBorder, bottomBorder = _a.bottomBorder;\n    var left;\n    var top;\n    var bottomDiff = bottomBorder - pos.bottom - config.height;\n    var topDiff = pos.top - config.height;\n    if (config.mode === Position.bottom) {\n        if (bottomDiff >= 0) {\n            top = pos.bottom;\n        }\n        else if (topDiff >= 0) {\n            top = topDiff;\n        }\n    }\n    else {\n        if (topDiff >= 0) {\n            top = topDiff;\n        }\n        else if (bottomDiff >= 0) {\n            top = pos.bottom;\n        }\n    }\n    if (bottomDiff < 0 && topDiff < 0) {\n        if (config.auto) {\n            return placeRightOrLeft(pos, __assign({}, config, { mode: Position.right, auto: false }));\n        }\n        top = bottomDiff > topDiff ? pos.bottom : topDiff;\n    }\n    if (config.centering) {\n        left = horizontalCentering(pos, config.width, rightBorder);\n    }\n    else {\n        var leftDiff = rightBorder - pos.left - config.width;\n        var rightDiff = pos.right - config.width;\n        if (leftDiff >= 0) {\n            left = pos.left;\n        }\n        else if (rightDiff >= 0) {\n            left = rightDiff;\n        }\n        else {\n            left = rightDiff > leftDiff ? pos.left : rightDiff;\n        }\n    }\n    return { left: left, top: top };\n}\nfunction placeRightOrLeft(pos, config) {\n    var _a = getWindowBorders(), rightBorder = _a.rightBorder, bottomBorder = _a.bottomBorder;\n    var left;\n    var top;\n    var rightDiff = rightBorder - pos.right - config.width;\n    var leftDiff = pos.left - config.width;\n    if (config.mode === Position.right) {\n        if (rightDiff >= 0) {\n            left = pos.right;\n        }\n        else if (leftDiff >= 0) {\n            left = leftDiff;\n        }\n    }\n    else {\n        if (leftDiff >= 0) {\n            left = leftDiff;\n        }\n        else if (rightDiff >= 0) {\n            left = pos.right;\n        }\n    }\n    if (leftDiff < 0 && rightDiff < 0) {\n        if (config.auto) {\n            return placeRightOrLeft(pos, __assign({}, config, { mode: Position.bottom, auto: false }));\n        }\n        left = leftDiff > rightDiff ? leftDiff : pos.right;\n    }\n    if (config.centering) {\n        top = verticalCentering(pos, config.width, rightBorder);\n    }\n    else {\n        var bottomDiff = pos.bottom - config.height;\n        var topDiff = bottomBorder - pos.top - config.height;\n        if (topDiff >= 0) {\n            top = pos.top;\n        }\n        else if (bottomDiff > 0) {\n            top = bottomDiff;\n        }\n        else {\n            top = bottomDiff > topDiff ? bottomDiff : pos.top;\n        }\n    }\n    return { left: left, top: top };\n}\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SpreadsheetEvents;\n(function (SpreadsheetEvents) {\n    SpreadsheetEvents[\"beforeValueChange\"] = \"beforeValueChange\";\n    SpreadsheetEvents[\"afterValueChange\"] = \"afterValueChange\";\n    SpreadsheetEvents[\"beforeStyleChange\"] = \"beforeStyleChange\";\n    SpreadsheetEvents[\"afterStyleChange\"] = \"afterStyleChange\";\n    SpreadsheetEvents[\"beforeFormatChange\"] = \"beforeFormatChange\";\n    SpreadsheetEvents[\"afterFormatChange\"] = \"afterFormatChange\";\n    SpreadsheetEvents[\"beforeSelectionSet\"] = \"beforeSelectionSet\";\n    SpreadsheetEvents[\"afterSelectionSet\"] = \"afterSelectionSet\";\n    SpreadsheetEvents[\"beforeRowAdd\"] = \"beforeRowAdd\";\n    SpreadsheetEvents[\"afterRowAdd\"] = \"afterRowAdd\";\n    SpreadsheetEvents[\"beforeRowDelete\"] = \"beforeRowDelete\";\n    SpreadsheetEvents[\"afterRowDelete\"] = \"afterRowDelete\";\n    SpreadsheetEvents[\"beforeColumnAdd\"] = \"beforeColumnAdd\";\n    SpreadsheetEvents[\"afterColumnAdd\"] = \"afterColumnAdd\";\n    SpreadsheetEvents[\"beforeColumnDelete\"] = \"beforeColumnDelete\";\n    SpreadsheetEvents[\"afterColumnDelete\"] = \"afterColumnDelete\";\n    SpreadsheetEvents[\"beforeFocusSet\"] = \"beforeFocusSet\";\n    SpreadsheetEvents[\"afterFocusSet\"] = \"afterFocusSet\";\n    SpreadsheetEvents[\"beforeEditStart\"] = \"beforeEditStart\";\n    SpreadsheetEvents[\"afterEditStart\"] = \"afterEditStart\";\n    SpreadsheetEvents[\"beforeEditEnd\"] = \"beforeEditEnd\";\n    SpreadsheetEvents[\"afterEditEnd\"] = \"afterEditEnd\";\n    SpreadsheetEvents[\"groupFill\"] = \"groupFill\";\n    // private\n    SpreadsheetEvents[\"editLineInput\"] = \"editLineInput\";\n    SpreadsheetEvents[\"editLineFocus\"] = \"editLineFocus\";\n    SpreadsheetEvents[\"editLineBlur\"] = \"editLineBlur\";\n    SpreadsheetEvents[\"cellInput\"] = \"cellInput\";\n    SpreadsheetEvents[\"gridRedraw\"] = \"gridRedraw\";\n})(SpreadsheetEvents = exports.SpreadsheetEvents || (exports.SpreadsheetEvents = {}));\nvar Actions;\n(function (Actions) {\n    Actions[\"setCellStyle\"] = \"setCellStyle\";\n    Actions[\"setCellValue\"] = \"setCellValue\";\n    Actions[\"setCellFormat\"] = \"setCellFormat\";\n    Actions[\"removeCellStyles\"] = \"removeCellStyles\";\n    Actions[\"lockCell\"] = \"lockCell\";\n    Actions[\"deleteRow\"] = \"deleteRow\";\n    Actions[\"addRow\"] = \"addRow\";\n    Actions[\"deleteColumn\"] = \"deleteColumn\";\n    Actions[\"addColumn\"] = \"addColumn\";\n    Actions[\"groupAction\"] = \"groupAction\";\n    Actions[\"groupRowAction\"] = \"groupRowAction\";\n    Actions[\"groupColAction\"] = \"groupColAction\";\n})(Actions = exports.Actions || (exports.Actions = {}));\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nvar types_1 = __webpack_require__(9);\nfunction getCss(item) {\n    var className = \"\";\n    if (item.type !== types_1.ItemType.button && item.size) {\n        className += \" \" + item.size;\n    }\n    if (item.active) {\n        className += \" active\";\n    }\n    if (item.$disabled) {\n        className += \" disabled\";\n    }\n    if (item.css) {\n        className += \" \" + item.css;\n    }\n    return className;\n}\nexports.getCss = getCss;\nfunction getButtonCss(item) {\n    var className = \" \";\n    className += item.name === \"link\" ? \"dhx_btn--link\" : \"dhx_btn--flat\";\n    className += item.size === \"large\" ? \" dhx_btn--large\" : \" dhx_btn--small\";\n    switch (item.usage) {\n        case \"danger\":\n            className += \" dhx_btn--danger\";\n            break;\n        case \"secondary\":\n            className += \" dhx_btn--secondary\";\n            break;\n        case \"success\":\n            className += \" dhx_btn--success\";\n            break;\n        case \"primary\":\n        default:\n            break;\n    }\n    return className;\n}\nexports.getButtonCss = getButtonCss;\nfunction counter(item) {\n    if (item.count) {\n        return dom_1.el(\".counter\", item.count);\n    }\n}\nexports.counter = counter;\nfunction icon(iconName) {\n    if (iconName === void 0) { iconName = \"\"; }\n    var className = \"dhx-icon-block \";\n    if (iconName.slice(0, 3) === \"dxi\") {\n        className += \"dxi \";\n    }\n    return dom_1.el(\"div\", {\n        class: className + iconName\n    });\n}\nexports.icon = icon;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar en = {\n    undo: \"Undo\",\n    redo: \"Redo\",\n    textColor: \"Text color\",\n    backgroundColor: \"Background color\",\n    bold: \"Bold\",\n    italic: \"Italic\",\n    lockCell: \"Lock cell\",\n    unlockCell: \"Unlock cell\",\n    format: \"Format\",\n    edit: \"Edit\",\n    clear: \"Clear\",\n    clearValue: \"Clear value\",\n    clearStyles: \"Clear styles\",\n    clearAll: \"Clear all\",\n    insert: \"Insert\",\n    columns: \"Columns\",\n    rows: \"Rows\",\n    addColumn: \"Add column\",\n    removeColumn: \"Remove column\",\n    addRow: \"Add row\",\n    removeRow: \"Remove row\",\n    underline: \"Underline\",\n    align: \"Align\",\n    left: \"Left\",\n    right: \"Right\",\n    center: \"Center\",\n    help: \"Help\",\n    common: \"common\",\n    number: \"number\",\n    currency: \"currency\",\n    percent: \"percent\",\n    downloadAs: \"Download as...\",\n    importAs: \"Import as...\",\n    import: \"Import\",\n    export: \"Export\",\n    file: \"File\",\n    numberFormat: \"Number format\"\n};\nexports.default = en;\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EventSystem = /** @class */ (function () {\n    function EventSystem(context) {\n        this.events = {};\n        this.context = context || this;\n    }\n    EventSystem.prototype.on = function (name, callback, context) {\n        var event = name.toLowerCase();\n        this.events[event] = this.events[event] || [];\n        this.events[event].push({ callback: callback, context: context || this.context });\n    };\n    EventSystem.prototype.detach = function (name, context) {\n        var event = name.toLowerCase();\n        var eStack = this.events[event];\n        if (context) {\n            for (var i = eStack.length - 1; i >= 0; i--) {\n                if (eStack[i].context === context) {\n                    eStack.splice(i, 1);\n                }\n            }\n        }\n        else {\n            this.events[event] = [];\n        }\n    };\n    EventSystem.prototype.fire = function (name, args) {\n        if (typeof args === \"undefined\") {\n            args = [];\n        }\n        var event = name.toLowerCase();\n        if (this.events[event]) {\n            var res = this.events[event].map(function (e) { return e.callback.apply(e.context, args); });\n            return res.indexOf(false) < 0;\n        }\n        return true;\n    };\n    return EventSystem;\n}());\nexports.EventSystem = EventSystem;\nfunction EventsMixin(obj) {\n    obj = obj || {};\n    var eventSystem = new EventSystem(obj);\n    obj.detachEvent = eventSystem.detach.bind(eventSystem);\n    obj.attachEvent = eventSystem.on.bind(eventSystem);\n    obj.callEvent = eventSystem.fire.bind(eventSystem);\n}\nexports.EventsMixin = EventsMixin;\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = __webpack_require__(2);\nvar html_1 = __webpack_require__(3);\nvar View = /** @class */ (function () {\n    function View(_container, config) {\n        this._uid = core_1.uid();\n        this.config = config || {};\n    }\n    View.prototype.mount = function (container, vnode) {\n        if (vnode) {\n            this._view = vnode;\n        }\n        if (container && this._view && this._view.mount) {\n            // init view inside of HTML container\n            this._container = html_1.toNode(container);\n            if (this._container.tagName) {\n                this._view.mount(this._container);\n            }\n            else if (this._container.attach) {\n                this._container.attach(this);\n            }\n        }\n    };\n    View.prototype.getRootView = function () {\n        return this._view;\n    };\n    View.prototype.paint = function () {\n        if (this._view && ( // was mounted\n        this._view.node || // already rendered node\n            this._container)) { // not rendered, but has container\n            this._doNotRepaint = false;\n            this._view.redraw();\n        }\n    };\n    return View;\n}());\nexports.View = View;\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar types_1 = __webpack_require__(17);\nexports.DataEvents = types_1.DataEvents;\nvar ItemType;\n(function (ItemType) {\n    ItemType[\"button\"] = \"button\";\n    ItemType[\"input\"] = \"input\";\n    ItemType[\"separator\"] = \"separator\";\n    ItemType[\"text\"] = \"text\";\n    ItemType[\"iconButton\"] = \"iconButton\";\n    ItemType[\"imageButton\"] = \"imageButton\";\n    ItemType[\"spacer\"] = \"spacer\";\n    ItemType[\"menuItem\"] = \"menuItem\";\n    ItemType[\"imageButtonText\"] = \"imageButtonText\";\n    ItemType[\"block\"] = \"block\";\n    ItemType[\"customHTMLButton\"] = \"customButton\";\n    ItemType[\"selectButton\"] = \"selectButton\";\n    ItemType[\"dhxButton\"] = \"dhx-button\";\n})(ItemType = exports.ItemType || (exports.ItemType = {}));\nvar ToolbarEvents;\n(function (ToolbarEvents) {\n    ToolbarEvents[\"inputCreated\"] = \"inputcreated\";\n    ToolbarEvents[\"click\"] = \"click\";\n    ToolbarEvents[\"openMenu\"] = \"openMenu\";\n})(ToolbarEvents = exports.ToolbarEvents || (exports.ToolbarEvents = {}));\nvar NavigationType;\n(function (NavigationType) {\n    NavigationType[\"pointer\"] = \"pointer\";\n    NavigationType[\"click\"] = \"click\";\n})(NavigationType = exports.NavigationType || (exports.NavigationType = {}));\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global, setImmediate) {(function () {\n  global = this\n\n  var queueId = 1\n  var queue = {}\n  var isRunningTask = false\n\n  if (!global.setImmediate)\n    global.addEventListener('message', function (e) {\n      if (e.source == global){\n        if (isRunningTask)\n          nextTick(queue[e.data])\n        else {\n          isRunningTask = true\n          try {\n            queue[e.data]()\n          } catch (e) {}\n\n          delete queue[e.data]\n          isRunningTask = false\n        }\n      }\n    })\n\n  function nextTick(fn) {\n    if (global.setImmediate) setImmediate(fn)\n    // if inside of web worker\n    else if (global.importScripts) setTimeout(fn)\n    else {\n      queueId++\n      queue[queueId] = fn\n      global.postMessage(queueId, '*')\n    }\n  }\n\n  Deferred.resolve = function (value) {\n    if (!(this._d == 1))\n      throw TypeError()\n\n    if (value instanceof Deferred)\n      return value\n\n    return new Deferred(function (resolve) {\n        resolve(value)\n    })\n  }\n\n  Deferred.reject = function (value) {\n    if (!(this._d == 1))\n      throw TypeError()\n\n    return new Deferred(function (resolve, reject) {\n        reject(value)\n    })\n  }\n\n  Deferred.all = function (arr) {\n    if (!(this._d == 1))\n      throw TypeError()\n\n    if (!(arr instanceof Array))\n      return Deferred.reject(TypeError())\n\n    var d = new Deferred()\n\n    function done(e, v) {\n      if (v)\n        return d.resolve(v)\n\n      if (e)\n        return d.reject(e)\n\n      var unresolved = arr.reduce(function (cnt, v) {\n        if (v && v.then)\n          return cnt + 1\n        return cnt\n      }, 0)\n\n      if(unresolved == 0)\n        d.resolve(arr)\n\n      arr.map(function (v, i) {\n        if (v && v.then)\n          v.then(function (r) {\n            arr[i] = r\n            done()\n            return r\n          }, done)\n      })\n    }\n\n    done()\n\n    return d\n  }\n\n  Deferred.race = function (arr) {\n    if (!(this._d == 1))\n      throw TypeError()\n\n    if (!(arr instanceof Array))\n      return Deferred.reject(TypeError())\n\n    if (arr.length == 0)\n      return new Deferred()\n\n    var d = new Deferred()\n\n    function done(e, v) {\n      if (v)\n        return d.resolve(v)\n\n      if (e)\n        return d.reject(e)\n\n      var unresolved = arr.reduce(function (cnt, v) {\n        if (v && v.then)\n          return cnt + 1\n        return cnt\n      }, 0)\n\n      if(unresolved == 0)\n        d.resolve(arr)\n\n      arr.map(function (v, i) {\n        if (v && v.then)\n          v.then(function (r) {\n            done(null, r)\n          }, done)\n      })\n    }\n\n    done()\n\n    return d\n  }\n\n  Deferred._d = 1\n\n\n  /**\n   * @constructor\n   */\n  function Deferred(resolver) {\n    'use strict'\n    if (typeof resolver != 'function' && resolver != undefined)\n      throw TypeError()\n\n    if (typeof this != 'object' || (this && this.then))\n      throw TypeError()\n\n    // states\n    // 0: pending\n    // 1: resolving\n    // 2: rejecting\n    // 3: resolved\n    // 4: rejected\n    var self = this,\n      state = 0,\n      val = 0,\n      next = [],\n      fn, er;\n\n    self['promise'] = self\n\n    self['resolve'] = function (v) {\n      fn = self.fn\n      er = self.er\n      if (!state) {\n        val = v\n        state = 1\n\n        nextTick(fire)\n      }\n      return self\n    }\n\n    self['reject'] = function (v) {\n      fn = self.fn\n      er = self.er\n      if (!state) {\n        val = v\n        state = 2\n\n        nextTick(fire)\n\n      }\n      return self\n    }\n\n    self['_d'] = 1\n\n    self['then'] = function (_fn, _er) {\n      if (!(this._d == 1))\n        throw TypeError()\n\n      var d = new Deferred()\n\n      d.fn = _fn\n      d.er = _er\n      if (state == 3) {\n        d.resolve(val)\n      }\n      else if (state == 4) {\n        d.reject(val)\n      }\n      else {\n        next.push(d)\n      }\n\n      return d\n    }\n\n    self['catch'] = function (_er) {\n      return self['then'](null, _er)\n    }\n\n    var finish = function (type) {\n      state = type || 4\n      next.map(function (p) {\n        state == 3 && p.resolve(val) || p.reject(val)\n      })\n    }\n\n    try {\n      if (typeof resolver == 'function')\n        resolver(self['resolve'], self['reject'])\n    } catch (e) {\n      self['reject'](e)\n    }\n\n    return self\n\n    // ref : reference to 'then' function\n    // cb, ec, cn : successCallback, failureCallback, notThennableCallback\n    function thennable (ref, cb, ec, cn) {\n      // Promises can be rejected with other promises, which should pass through\n      if (state == 2) {\n        return cn()\n      }\n      if ((typeof val == 'object' || typeof val == 'function') && typeof ref == 'function') {\n        try {\n\n          // cnt protects against abuse calls from spec checker\n          var cnt = 0\n          ref.call(val, function (v) {\n            if (cnt++) return\n            val = v\n            cb()\n          }, function (v) {\n            if (cnt++) return\n            val = v\n            ec()\n          })\n        } catch (e) {\n          val = e\n          ec()\n        }\n      } else {\n        cn()\n      }\n    };\n\n    function fire() {\n\n      // check if it's a thenable\n      var ref;\n      try {\n        ref = val && val.then\n      } catch (e) {\n        val = e\n        state = 2\n        return fire()\n      }\n\n      thennable(ref, function () {\n        state = 1\n        fire()\n      }, function () {\n        state = 2\n        fire()\n      }, function () {\n        try {\n          if (state == 1 && typeof fn == 'function') {\n            val = fn(val)\n          }\n\n          else if (state == 2 && typeof er == 'function') {\n            val = er(val)\n            state = 1\n          }\n        } catch (e) {\n          val = e\n          return finish()\n        }\n\n        if (val == self) {\n          val = TypeError()\n          finish()\n        } else thennable(ref, function () {\n            finish(3)\n          }, finish, function () {\n            finish(state == 1 && 3)\n          })\n\n      })\n    }\n\n\n  }\n\n  // Export our library object, either for node.js or as a globally scoped variable\n  if (true) {\n    module['exports'] = Deferred\n  } else {}\n})()\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(29), __webpack_require__(46).setImmediate))\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(__webpack_require__(12));\n__export(__webpack_require__(33));\n__export(__webpack_require__(36));\n__export(__webpack_require__(63));\n__export(__webpack_require__(18));\n__export(__webpack_require__(13));\n__export(__webpack_require__(34));\n__export(__webpack_require__(35));\n__export(__webpack_require__(65));\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar types_1 = __webpack_require__(17);\nexports.DataEvents = types_1.DataEvents;\nexports.DragBehaviour = types_1.DragBehaviour;\nexports.DragMode = types_1.DragMode;\nvar TreeFilterType;\n(function (TreeFilterType) {\n    TreeFilterType[TreeFilterType[\"all\"] = 1] = \"all\";\n    TreeFilterType[TreeFilterType[\"specific\"] = 2] = \"specific\";\n    TreeFilterType[TreeFilterType[\"leafs\"] = 3] = \"leafs\";\n})(TreeFilterType = exports.TreeFilterType || (exports.TreeFilterType = {}));\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dataproxy_1 = __webpack_require__(18);\nvar CsvDriver_1 = __webpack_require__(34);\nvar JsonDriver_1 = __webpack_require__(35);\nfunction isEqualObj(a, b) {\n    for (var key in a) {\n        if (a[key] !== b[key]) {\n            return false;\n        }\n    }\n    return true;\n}\nexports.isEqualObj = isEqualObj;\nfunction naturalCompare(a, b) {\n    var ax = [];\n    var bx = [];\n    a.replace(/(\\d+)|(\\D+)/g, function (_, $1, $2) { ax.push([$1 || Infinity, $2 || \"\"]); });\n    b.replace(/(\\d+)|(\\D+)/g, function (_, $1, $2) { bx.push([$1 || Infinity, $2 || \"\"]); });\n    while (ax.length && bx.length) {\n        var an = ax.shift();\n        var bn = bx.shift();\n        var nn = (an[0] - bn[0]) || an[1].localeCompare(bn[1]);\n        if (nn) {\n            return nn;\n        }\n    }\n    return ax.length - bx.length;\n}\nexports.naturalCompare = naturalCompare;\nfunction findByConf(item, conf) {\n    if (typeof conf === \"function\") {\n        if (conf.call(this, item)) {\n            return item;\n        }\n    }\n    else if (conf.by && conf.match) {\n        if (item[conf.by] === conf.match) {\n            return item;\n        }\n    }\n}\nexports.findByConf = findByConf;\nfunction isDebug() {\n    var dhx = window.dhx;\n    if (typeof dhx !== \"undefined\") {\n        return typeof (dhx.debug) !== \"undefined\" && dhx.debug;\n    }\n    // return typeof DHX_DEBUG_MODE !== \"undefined\" && DHX_DEBUG_MODE;\n}\nexports.isDebug = isDebug;\nfunction dhxWarning(msg) {\n    // tslint:disable-next-line:no-console\n    console.warn(msg);\n}\nexports.dhxWarning = dhxWarning;\nfunction dhxError(msg) {\n    throw new Error(msg);\n}\nexports.dhxError = dhxError;\nfunction toProxy(proxy) {\n    var type = typeof proxy;\n    if (type === \"string\") {\n        return new dataproxy_1.DataProxy(proxy);\n    }\n    else if (type === \"object\") {\n        return proxy;\n    }\n}\nexports.toProxy = toProxy;\nfunction toDataDriver(driver) {\n    var type = typeof driver;\n    if (type === \"string\") {\n        switch (driver) {\n            case \"csv\":\n                return new CsvDriver_1.CsvDriver();\n            case \"json\":\n                return new JsonDriver_1.JsonDriver();\n            default:\n                // tslint:disable-next-line:no-console\n                console.warn(\"incorrect driver type\", driver);\n                break;\n        }\n    }\n    else if (typeof driver === \"object\") {\n        return driver;\n    }\n}\nexports.toDataDriver = toDataDriver;\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction insert(node, newone) {\n    if (typeof newone === \"string\") {\n        node.insertAdjacentHTML(\"beforeend\", newone);\n        return node.lastChild;\n    }\n    else {\n        node.appendChild(newone);\n        return newone;\n    }\n}\n//[todo]\nfunction rgbToHex(color) {\n    if (color.substr(0, 1) === \"#\") {\n        return color;\n    }\n    var digits = /(.*?)rgb[a]?\\((\\d+), *(\\d+), *(\\d+),* *([\\d]*)\\)/.exec(color);\n    if (!digits) {\n        return \"\";\n    }\n    var red = parseInt(digits[2], 10).toString(16);\n    var green = parseInt(digits[3], 10).toString(16);\n    var blue = parseInt(digits[4], 10).toString(16);\n    return \"#\" + red + green + blue;\n}\nexports.rgbToHex = rgbToHex;\nfunction transpose(arr, transform) {\n    var columns = [];\n    for (var i = 0; i < arr.length; i++) {\n        var row = arr[i];\n        for (var cellInd = 0; cellInd < row.length; cellInd++) {\n            columns[cellInd] = columns[cellInd] || [];\n            var cell = transform ? transform(row[cellInd]) : row[cellInd];\n            columns[cellInd].push(cell);\n        }\n    }\n    return columns;\n}\nexports.transpose = transpose;\nfunction getStrWidth(str, font) {\n    if (font === void 0) { font = \"14px Arial\"; }\n    var canvas = document.createElement(\"canvas\");\n    var ctx = canvas.getContext(\"2d\");\n    ctx.font = font;\n    return Math.round(ctx.measureText(str).width);\n}\nexports.getStrWidth = getStrWidth;\nfunction getStyleByClass(cssClass, container, targetClass, def) {\n    var cont = container.querySelector(\".\" + targetClass);\n    var testDiv = insert(cont, \"<div class=\\\"\" + cssClass + \"\\\"></div>\");\n    var styles = window.getComputedStyle(testDiv);\n    var result = {\n        color: styles.color === \"rgb(0, 0, 0)\" ? def.color : rgbToHex(styles.color),\n        background: styles.backgroundColor === \"rgba(0, 0, 0, 0)\" ? def.background : rgbToHex(styles.backgroundColor),\n        fontSize: parseFloat(styles.fontSize)\n    };\n    cont.removeChild(testDiv);\n    // [dirty]\n    if (result.color === def.color\n        && result.background === def.background\n        && result.fontSize === def.fontSize) {\n        return null;\n    }\n    return result;\n}\nexports.getStyleByClass = getStyleByClass;\nfunction removeHTMLTags(str) {\n    return (\"\" + (str || \"\")).replace(/<[^>]*>/g, \"\").replace(/[\\\"]/g, \"&quot;\").trim();\n}\nexports.removeHTMLTags = removeHTMLTags;\nfunction isCssSupport(property, value) {\n    try {\n        return CSS.supports(property, value);\n    }\n    catch (err) {\n        var el = document.createElement(\"div\");\n        el.style[property] = value;\n        return el.style[property] === value;\n    }\n}\nexports.isCssSupport = isCssSupport;\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar main_1 = __webpack_require__(1);\nfunction getHeaderCell(letter, index) {\n    return \"<div class=\\\"dhx_custom_header_cell\\\">\" + letter + \"\\n\\t<div class=\\\"dhx_resizer_grip_wrap\\\">\\n\\t\\t\\t<div class=\\\"dhx_resizer_grip\\\" dhx_id=\" + index + \">\\n\\t\\t\\t\\t<div class=\\\"dhx_resizer_grip_line\\\"></div>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t\\t</div>\";\n}\nexports.getHeaderCell = getHeaderCell;\nfunction updateColumns(config) {\n    var columns = config.columns;\n    var totalWidth = 0;\n    columns.map(function (col, i) {\n        col.width = col.width || 120;\n        totalWidth += col.width;\n        if (col.id !== \"$index\") {\n            var letter = main_1.getLetterFromNumber(i);\n            col.header = [{\n                    text: getHeaderCell(letter, i),\n                    css: \"\"\n                }];\n            col.$letter = letter;\n        }\n    });\n    config.$totalWidth = totalWidth;\n}\nexports.updateColumns = updateColumns;\nfunction updateRowsIndex(data) {\n    data.map(function (row, i) {\n        row.$index = i + 1;\n    });\n}\nexports.updateRowsIndex = updateRowsIndex;\nfunction removeRowsCss(grid) {\n    grid.data.map(function (row) {\n        grid.removeRowCss(row.id, \"dhx_selected_row\");\n    });\n}\nexports.removeRowsCss = removeRowsCss;\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = __webpack_require__(2);\nvar en_1 = __webpack_require__(6);\nvar config = {};\nvar defaultFormats = [];\nvar separators = { decimal: \".\", thousands: \",\" };\nvar currency = \"$\";\nfunction initFormat(spreadsheet) {\n    config = spreadsheet.config;\n    defaultFormats = [\n        { name: en_1.default.common, id: \"common\", mask: \"\", example: \"2702.31\" },\n        { name: en_1.default.number, id: \"number\", mask: \"#,##0.00\", example: \"2702.31\" },\n        { name: en_1.default.percent, id: \"percent\", mask: \"#,##0.00%\", example: \"27.0231\" },\n        { name: en_1.default.currency, id: \"currency\", mask: \"$#,##0.00\", example: \"2702.31\" }\n    ];\n    config.formats.forEach(function (f) {\n        var ind = core_1.findIndex(defaultFormats, function (df) { return df.id === f.id; });\n        if (ind >= 0) {\n            defaultFormats[ind] = f;\n        }\n        else {\n            defaultFormats.push(f);\n        }\n    });\n    var numberFormatRule = getFormatRule(getFormat(\"number\").mask);\n    separators = { decimal: numberFormatRule.decimalSeparator, thousands: numberFormatRule.thousandsSeparator };\n    var currencyFormatRule = getFormatRule(getFormat(\"currency\").mask);\n    currency = currencyFormatRule.currency || currency;\n    config.formats = defaultFormats;\n    setDefaultFormats();\n}\nexports.initFormat = initFormat;\nfunction getDefaultFormats() {\n    return defaultFormats;\n}\nexports.getDefaultFormats = getDefaultFormats;\nfunction getFormat(id) {\n    return defaultFormats[core_1.findIndex(defaultFormats, function (f) { return f.id === id; })];\n}\nexports.getFormat = getFormat;\nfunction getDefaultFormatsMap() {\n    return defaultFormats.reduce(function (acc, f) {\n        acc[f.mask] = f.id;\n        return acc;\n    }, {});\n}\nexports.getDefaultFormatsMap = getDefaultFormatsMap;\nfunction isNumeric(val) {\n    return !isNaN(val - parseFloat(val));\n}\nexports.isNumeric = isNumeric;\nfunction getPureNumber(val) {\n    var isPercent = typeof val === \"string\" && val.indexOf(\"%\") > -1;\n    var num = parseFloat((\"\" + val).replace(/[^.\\d]/g, \"\"));\n    return isPercent ? num / 100 : num;\n}\nexports.getPureNumber = getPureNumber;\nfunction getCleanValue(val) {\n    var separatorsObj = getSeparators();\n    var cur = getCurrencySymbol();\n    return (\"\" + val)\n        .replace(new RegExp(\"[\" + separatorsObj.thousands + cur + \"%s ]\", \"g\"), \"\")\n        .replace(new RegExp(\"[\" + separatorsObj.decimal + \"]\", \"g\"), \".\");\n}\nexports.getCleanValue = getCleanValue;\nfunction getCurrencySymbol() {\n    return \"$\";\n}\nfunction getSeparators() {\n    return separators;\n}\nfunction getUnformattedValue(val, format) {\n    if (format === \"common\") {\n        return val;\n    }\n    var clean = getCleanValue(val);\n    if (format === \"percent\") {\n        return (parseFloat(clean) / 100).toFixed(4);\n    }\n    return clean;\n}\nexports.getUnformattedValue = getUnformattedValue;\nfunction detectCellFormat(val) {\n    var currencySymbol = getCurrencySymbol();\n    var isNumber = isNumeric(getCleanValue(val));\n    if (!isNumber) {\n        return \"\";\n    }\n    var stringVal = \"\" + val;\n    var percentInd = stringVal.indexOf(\"%\");\n    var currInd = stringVal.indexOf(currencySymbol);\n    var isPercent = percentInd === 0 || percentInd === stringVal.length - 1;\n    var isCurrency = currInd === 0;\n    if (isPercent) {\n        return getFormat(\"percent\").mask;\n    }\n    if (isCurrency) {\n        return getFormat(\"currency\").mask;\n    }\n    return getFormat(\"number\").mask;\n}\nexports.detectCellFormat = detectCellFormat;\nvar currencyRegex = \"(\\\\[\\\\$[\\\\w\\\\W]*?\\\\]|[\\\\$]{0,1})\";\nvar pureCurrency = \"\\\\[\\\\$([\\\\w\\\\W]*?)\\\\]|(\\\\$)\"; // custom currency - [$EUR]#,##0.00\nvar sep = \"([,. ]{0,1})\";\nvar percent = \"([%]{0,1})\";\nvar allDigits = \"([#0]*)\";\nvar formatRegex = new RegExp(\"\" + currencyRegex + allDigits + sep + allDigits + sep + allDigits + percent + currencyRegex);\nvar pureCurrencyRegex = new RegExp(pureCurrency);\nfunction _partsToObj(parts) {\n    return {\n        currencyBefore: parts[1],\n        digits: parts[2],\n        thousandsSeparator: parts[3],\n        optionalDigits: parts[4],\n        decimalSeparator: parts[5],\n        decimalDigits: parts[6],\n        percent: parts[7],\n        currencyAfter: parts[8],\n        decimalLength: 0\n    };\n}\nvar formats = {};\nfunction getFormatRule(format) {\n    if (!format || typeof format !== \"string\") {\n        return;\n    }\n    if (formats[format]) {\n        return formats[format];\n    }\n    var parts = format.match(formatRegex);\n    var rule = _partsToObj(parts);\n    if (!rule.decimalSeparator && rule.thousandsSeparator) {\n        rule.decimalSeparator = rule.thousandsSeparator;\n        rule.decimalDigits = rule.optionalDigits;\n        rule.thousandsSeparator = \"\";\n        rule.optionalDigits = \"\";\n    }\n    if (rule.currencyBefore) {\n        var m = rule.currencyBefore.match(pureCurrencyRegex);\n        rule.currencyBefore = m[1] || m[2];\n    }\n    if (rule.currencyAfter) {\n        var m = rule.currencyAfter.match(pureCurrencyRegex);\n        rule.currencyAfter = m[1] || m[2];\n    }\n    if (rule.percent) {\n        rule.currencyBefore = \"\";\n        rule.currencyAfter = \"\";\n    }\n    rule.decimalLength = rule.decimalDigits ? rule.decimalDigits.split(\"0\").length - 1 : rule.decimalLength;\n    formats[format] = rule;\n    return rule;\n}\nfunction setDefaultFormats() {\n    defaultFormats.forEach(function (format) {\n        getFormatRule(format.mask);\n    });\n}\nfunction getFormattedValue(val, format) {\n    if (!format) {\n        return val;\n    }\n    var rule = getFormatRule(format);\n    return formatByRule(val, rule);\n}\nexports.getFormattedValue = getFormattedValue;\nfunction formatByRule(val, rule) {\n    if (!rule) {\n        return val;\n    }\n    if (!isNumeric(val)) {\n        return val;\n    }\n    var formattedVal = \"\";\n    if (rule.currencyBefore) {\n        formattedVal += rule.currencyBefore;\n    }\n    var num = parseFloat(val);\n    var isNegative = num < 0;\n    if (isNegative) {\n        num = Math.abs(num);\n    }\n    if (rule.percent) {\n        num *= 100;\n    }\n    formattedVal += numberWithSeparators(num.toFixed(rule.decimalLength), rule.thousandsSeparator, rule.decimalSeparator);\n    formattedVal += rule.percent;\n    if (rule.currencyAfter) {\n        formattedVal += rule.currencyAfter;\n    }\n    if (isNegative) {\n        formattedVal = \"-\" + formattedVal;\n    }\n    return formattedVal;\n}\nfunction numberWithSeparators(val, thousand, decimal) {\n    if (thousand === void 0) { thousand = \"\"; }\n    var parts = val.toString().split(\".\");\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, thousand);\n    return parts.join(decimal);\n}\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DataEvents;\n(function (DataEvents) {\n    DataEvents[\"afterAdd\"] = \"afteradd\";\n    DataEvents[\"beforeAdd\"] = \"beforeadd\";\n    DataEvents[\"removeAll\"] = \"removeall\";\n    DataEvents[\"beforeRemove\"] = \"beforeremove\";\n    DataEvents[\"afterRemove\"] = \"afterremove\";\n    DataEvents[\"change\"] = \"change\";\n    DataEvents[\"load\"] = \"load\";\n})(DataEvents = exports.DataEvents || (exports.DataEvents = {}));\nvar DragEvents;\n(function (DragEvents) {\n    DragEvents[\"beforeDrag\"] = \"beforedrag\";\n    DragEvents[\"beforeDrop\"] = \"beforeDrop\";\n    DragEvents[\"dragStart\"] = \"dragstart\";\n    DragEvents[\"dragEnd\"] = \"dragend\";\n    DragEvents[\"canDrop\"] = \"candrop\";\n    DragEvents[\"cancelDrop\"] = \"canceldrop\";\n    DragEvents[\"dropComplete\"] = \"dropcomplete\";\n    DragEvents[\"dragOut\"] = \"dragOut\";\n    DragEvents[\"dragIn\"] = \"dragIn\";\n})(DragEvents = exports.DragEvents || (exports.DragEvents = {}));\nvar DragMode;\n(function (DragMode) {\n    DragMode[\"target\"] = \"target\";\n    DragMode[\"both\"] = \"both\";\n    DragMode[\"source\"] = \"source\";\n})(DragMode = exports.DragMode || (exports.DragMode = {}));\nvar DragBehaviour;\n(function (DragBehaviour) {\n    DragBehaviour[\"child\"] = \"child\";\n    DragBehaviour[\"sibling\"] = \"sibling\";\n    DragBehaviour[\"complex\"] = \"complex\";\n})(DragBehaviour = exports.DragBehaviour || (exports.DragBehaviour = {}));\nvar SelectionEvents;\n(function (SelectionEvents) {\n    SelectionEvents[\"beforeUnSelect\"] = \"beforeunselect\";\n    SelectionEvents[\"afterUnSelect\"] = \"afterunselect\";\n    SelectionEvents[\"beforeSelect\"] = \"beforeselect\";\n    SelectionEvents[\"afterSelect\"] = \"afterselect\";\n})(SelectionEvents = exports.SelectionEvents || (exports.SelectionEvents = {}));\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Promise) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DataProxy = /** @class */ (function () {\n    function DataProxy(url) {\n        this.url = url;\n    }\n    DataProxy.prototype.load = function () {\n        return this._ajax(this.url);\n    };\n    DataProxy.prototype.save = function (data, mode) {\n        var modes = {\n            insert: \"POST\",\n            delete: \"DELETE\",\n            update: \"POST\"\n        };\n        return this._ajax(this.url, data, modes[mode] || \"POST\");\n    };\n    DataProxy.prototype._ajax = function (url, data, method) {\n        if (method === void 0) { method = \"GET\"; }\n        return new Promise(function (resolve, reject) {\n            var xhr = new XMLHttpRequest();\n            xhr.onload = function () {\n                if (xhr.status >= 200 && xhr.status < 300) {\n                    resolve(xhr.response || xhr.responseText);\n                }\n                else {\n                    reject({\n                        status: xhr.status,\n                        statusText: xhr.statusText\n                    });\n                }\n            };\n            xhr.onerror = function () {\n                reject({\n                    status: xhr.status,\n                    statusText: xhr.statusText\n                });\n            };\n            xhr.open(method, url);\n            xhr.setRequestHeader(\"Content-Type\", \"application/json\");\n            switch (method) {\n                case \"POST\":\n                case \"DELETE\":\n                case \"PUT\":\n                    xhr.send(JSON.stringify(data));\n                    break;\n                case \"GET\":\n                    xhr.send();\n                    break;\n                default:\n                    xhr.send();\n                    break;\n            }\n        });\n    };\n    return DataProxy;\n}());\nexports.DataProxy = DataProxy;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(10)))\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar GridEvents;\n(function (GridEvents) {\n    GridEvents[\"sort\"] = \"sort\";\n    GridEvents[\"expand\"] = \"expand\";\n    GridEvents[\"headerInput\"] = \"headerInput\";\n    GridEvents[\"cellClick\"] = \"cellClick\";\n    GridEvents[\"cellRightClick\"] = \"cellRightClick\";\n    GridEvents[\"cellMouseOver\"] = \"cellMouseOver\";\n    GridEvents[\"cellMouseDown\"] = \"cellMouseDown\";\n    GridEvents[\"cellDblClick\"] = \"cellDblClick\";\n    GridEvents[\"headerCellClick\"] = \"headerCellClick\";\n    GridEvents[\"footerCellClick\"] = \"footerCellClick\";\n    GridEvents[\"headerCellMouseOver\"] = \"headerCellMouseOver\";\n    GridEvents[\"footerCellMouseOver\"] = \"footerCellMouseOver\";\n    GridEvents[\"headerCellMouseDown\"] = \"headerCellMouseDown\";\n    GridEvents[\"footerCellMouseDown\"] = \"footerCellMouseDown\";\n    GridEvents[\"headerCellDblClick\"] = \"headerCellDblClick\";\n    GridEvents[\"footerCellDblClick\"] = \"footerCellDblClick\";\n})(GridEvents = exports.GridEvents || (exports.GridEvents = {}));\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(__webpack_require__(40));\n__export(__webpack_require__(87));\n__export(__webpack_require__(88));\n__export(__webpack_require__(89));\n__export(__webpack_require__(24));\n__export(__webpack_require__(9));\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getRealPosition(node) {\n    var rects = node.getBoundingClientRect();\n    return {\n        left: rects.left + window.pageXOffset,\n        right: rects.right + window.pageXOffset,\n        top: rects.top + window.pageYOffset,\n        bottom: rects.bottom + window.pageYOffset\n    };\n}\nexports.getRealPosition = getRealPosition;\nfunction calculatePosition(pos, config) {\n    var rightBorder = window.pageXOffset + window.innerWidth;\n    var bottomBorder = window.pageYOffset + window.innerHeight;\n    var style = {\n        left: null,\n        top: null,\n        minWidth: config.width + \"px\",\n        position: \"absolute\"\n    };\n    if (config.mode === \"bottom\") {\n        if (pos.left + config.width > rightBorder) {\n            style.left = pos.left - config.width + \"px\";\n        }\n        else {\n            style.left = pos.left + \"px\";\n        }\n        if (pos.bottom + config.height > bottomBorder) {\n            style.top = pos.top - config.height + \"px\";\n        }\n        else {\n            style.top = pos.bottom + \"px\";\n        }\n    }\n    else {\n        if (pos.right + config.width > rightBorder) {\n            style.left = pos.left - config.width + \"px\";\n        }\n        else {\n            style.left = pos.right + \"px\";\n        }\n        if (pos.top + config.height > bottomBorder) {\n            style.top = pos.bottom - config.height + \"px\";\n        }\n        else {\n            style.top = pos.top + \"px\";\n        }\n    }\n    return style;\n}\nexports.calculatePosition = calculatePosition;\nfunction addInGroups(groups, item) {\n    if (groups[item.group]) {\n        if (item.active) {\n            groups[item.group].active = item.id;\n        }\n        groups[item.group].elements.push(item.id);\n    }\n    else {\n        groups[item.group] = {\n            active: item.active ? item.id : null,\n            elements: [item.id]\n        };\n    }\n}\nexports.addInGroups = addInGroups;\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = __webpack_require__(2);\nvar AddColumn_1 = __webpack_require__(90);\nvar AddRow_1 = __webpack_require__(91);\nvar DeleteColumn_1 = __webpack_require__(92);\nvar DeleteRow_1 = __webpack_require__(93);\nvar GroupAction_1 = __webpack_require__(94);\nvar GroupColAction_1 = __webpack_require__(95);\nvar GroupRowAction_1 = __webpack_require__(96);\nvar LockCell_1 = __webpack_require__(97);\nvar RemoveCellStyles_1 = __webpack_require__(98);\nvar SetCellFormat_1 = __webpack_require__(99);\nvar SetCellStyle_1 = __webpack_require__(100);\nvar SetCellValue_1 = __webpack_require__(101);\nexports.actions = {\n    setCellStyle: SetCellStyle_1.SetCellStyle,\n    setCellValue: SetCellValue_1.SetCellValue,\n    setCellFormat: SetCellFormat_1.SetCellFormat,\n    removeCellStyles: RemoveCellStyles_1.RemoveCellStyles,\n    lockCell: LockCell_1.LockCell,\n    deleteRow: DeleteRow_1.DeleteRow,\n    addRow: AddRow_1.AddRow,\n    deleteColumn: DeleteColumn_1.DeleteColumn,\n    addColumn: AddColumn_1.AddColumn,\n    groupAction: GroupAction_1.GroupAction,\n    groupRowAction: GroupRowAction_1.GroupRowAction,\n    groupColAction: GroupColAction_1.GroupColAction\n};\nfunction getActionsPack(commandsPack, baseConfig) {\n    var actionsPack = commandsPack.map(function (config) {\n        var action = config.groupAction || config.action;\n        if (action) {\n            return new exports.actions[action](__assign({}, config, baseConfig));\n        }\n    });\n    return {\n        do: function () {\n            actionsPack.map(function (action) { return action.do(); });\n        },\n        undo: function () {\n            actionsPack.map(function (action) { return action.undo(); });\n        }\n    };\n}\nvar ActionsManager = /** @class */ (function () {\n    function ActionsManager(config) {\n        this._config = config;\n        this._actions = [];\n        this._redoActions = [];\n    }\n    ActionsManager.prototype.execute = function (command, config) {\n        if (Array.isArray(command)) {\n            var actionsPack = getActionsPack(command, this._config);\n            actionsPack.do();\n            this._actions.push(actionsPack);\n            return;\n        }\n        core_1.extend(config, this._config);\n        if (exports.actions[command]) {\n            var action = new exports.actions[command](config);\n            action.do();\n            this._actions.push(action);\n        }\n    };\n    ActionsManager.prototype.undo = function () {\n        var action = this._actions.pop();\n        if (action) {\n            action.undo();\n            this._redoActions.push(action);\n        }\n    };\n    ActionsManager.prototype.redo = function () {\n        var action = this._redoActions.pop();\n        if (action) {\n            action.do();\n            this._actions.push(action);\n        }\n    };\n    return ActionsManager;\n}());\nexports.ActionsManager = ActionsManager;\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ts_toolbar_1 = __webpack_require__(20);\nvar en_1 = __webpack_require__(6);\nvar format_1 = __webpack_require__(16);\nvar main_1 = __webpack_require__(1);\nfunction getColorpickerTemplate(color, type) {\n    return \"<div class=\\\"dxi dhx_button__icon dxi-format-color-\" + type + \" dhx_spreadsheet_colorpicker\\\" style=\\\"border-color: \" + color + \"\\\"></div>\";\n}\nexports.getColorpickerTemplate = getColorpickerTemplate;\nfunction updateToolbar(toolbar, cellInfo) {\n    cellInfo = __assign({ locked: false, format: \"common\" }, cellInfo);\n    var styles = __assign({ \"color\": \"#4C4C4C\", \"background\": \"#FFF\", \"text-align\": \"left\", \"font-style\": \"\", \"font-weight\": \"\", \"text-decoration\": \"\" }, dhx.css.get(cellInfo.css));\n    var updateStyles = function (css) {\n        for (var key in css) {\n            switch (key) {\n                case \"color\":\n                    toolbar.data.update(key, {\n                        html: getColorpickerTemplate(css[key] || \"#4C4C4C\", \"text\")\n                    });\n                    break;\n                case \"background\":\n                    toolbar.data.update(key, {\n                        html: getColorpickerTemplate(css[key] || \"#FFF\", \"fill\")\n                    });\n                    break;\n                case \"text-align\":\n                    toolbar.data.update(\"align-left\", { active: css[key] === \"left\" });\n                    toolbar.data.update(\"align-right\", { active: css[key] === \"right\" });\n                    toolbar.data.update(\"align-center\", { active: css[key] === \"center\" });\n                    break;\n                case \"font-weight\":\n                    toolbar.data.update(\"font-weight-bold\", { active: css[key] === \"bold\" });\n                    break;\n                case \"font-style\":\n                    toolbar.data.update(\"font-style-italic\", { active: css[key] === \"italic\" });\n                    break;\n                case \"text-decoration\":\n                    toolbar.data.update(\"text-decoration-underline\", { active: css[key] === \"underline\" });\n                    break;\n                default:\n                    break;\n            }\n        }\n    };\n    updateStyles(styles);\n    // reset format menu state\n    var formatItem = toolbar.data.getItem(\"format\");\n    if (formatItem) {\n        formatItem.childs.map(function (item) { return item.active = false; });\n    }\n    for (var key in cellInfo) {\n        switch (key) {\n            case \"locked\":\n                if (toolbar.data.getItem(\"lock\")) {\n                    toolbar.data.update(\"lock\", {\n                        active: cellInfo[key]\n                    });\n                }\n                break;\n            case \"format\":\n                var id = format_1.getDefaultFormatsMap()[cellInfo[key]] || \"common\";\n                var format = format_1.getFormat(id);\n                toolbar.data.update(\"format\", {\n                    value: format.name || id\n                });\n                if (toolbar.data.getItem(id)) {\n                    toolbar.data.update(id, {\n                        active: true\n                    });\n                }\n                break;\n            default:\n                break;\n        }\n    }\n}\nexports.updateToolbar = updateToolbar;\nfunction getToggledValue(grid, cell, name, value) {\n    var info = main_1.getCellInfo(grid, cell);\n    var css = dhx.css.get(info.css) || {};\n    return css[name] ? \"\" : value;\n}\nexports.getToggledValue = getToggledValue;\nfunction getFormatItem(name, mask, example) {\n    if (example === void 0) { example = \"2702.31\"; }\n    var val = format_1.getFormattedValue(example, mask);\n    return \"<div class=\\\"dhx_format-item\\\"><span class=\\\"dhx_format-name\\\">\" + (en_1.default[name] || name) + \" </span><span class=\\\"dhx_format-helper\\\">(\" + val + \")</span></div>\";\n}\nexports.getFormatItem = getFormatItem;\nfunction getFormatsDropdown(config) {\n    var formats = config.formats;\n    return formats.map(function (format) { return ({\n        id: format.id,\n        type: ts_toolbar_1.ItemType.customHTMLButton,\n        css: \"dhx_format-name-wrap\",\n        html: getFormatItem(format.name, format.mask, format.example)\n    }); });\n}\nexports.getFormatsDropdown = getFormatsDropdown;\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar button_1 = __webpack_require__(75);\nvar customHTMLButton_1 = __webpack_require__(76);\nvar dhx_button_1 = __webpack_require__(77);\nvar iconButton_1 = __webpack_require__(78);\nvar imageButton_1 = __webpack_require__(79);\nvar imageButtonText_1 = __webpack_require__(80);\nvar input_1 = __webpack_require__(81);\nvar menuItem_1 = __webpack_require__(82);\nvar separator_1 = __webpack_require__(83);\nvar spacer_1 = __webpack_require__(84);\nvar text_1 = __webpack_require__(85);\nvar types_1 = __webpack_require__(9);\nfunction itemfactory(item, events) {\n    if (item.$hidden) {\n        return null;\n    }\n    switch (item.type) {\n        case types_1.ItemType.button:\n            return button_1.button(item);\n        case types_1.ItemType.text:\n            return text_1.text(item);\n        case types_1.ItemType.separator:\n            return separator_1.separator(item);\n        case types_1.ItemType.spacer:\n            return spacer_1.spacer(item);\n        case types_1.ItemType.input:\n            return input_1.input(item, events);\n        case types_1.ItemType.imageButton:\n            return imageButton_1.imageButton(item);\n        case types_1.ItemType.iconButton:\n            return iconButton_1.iconButton(item);\n        case types_1.ItemType.selectButton:\n        case types_1.ItemType.menuItem:\n            return menuItem_1.menuItem(item);\n        case types_1.ItemType.imageButtonText:\n            return imageButtonText_1.imageButtonText(item);\n        case types_1.ItemType.customHTMLButton:\n            return customHTMLButton_1.customHTMLButton(item);\n        case types_1.ItemType.dhxButton:\n            return dhx_button_1.dhx_button(item);\n        case types_1.ItemType.block:\n        default:\n            throw new Error(\"unknown item type\");\n    }\n}\nexports.itemfactory = itemfactory;\nfunction createFactory(defaultType, forbiddenTypes) {\n    if (forbiddenTypes === void 0) { forbiddenTypes = []; }\n    var forbidden = {};\n    forbiddenTypes.forEach(function (type) { return forbidden[type] = true; });\n    return function (item, events) {\n        item.type = item.type || defaultType;\n        if (forbidden[item.type]) {\n            item.type = defaultType;\n        }\n        return itemfactory(item, events);\n    };\n}\nexports.createFactory = createFactory;\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = __webpack_require__(2);\nvar dom_1 = __webpack_require__(0);\nvar events_1 = __webpack_require__(7);\nvar hotkeys_1 = __webpack_require__(86);\nvar html_1 = __webpack_require__(3);\nvar view_1 = __webpack_require__(8);\nvar ts_data_1 = __webpack_require__(11);\nvar helper_1 = __webpack_require__(21);\nvar itemfactory_1 = __webpack_require__(24);\nvar types_1 = __webpack_require__(9);\nvar MenuBase = /** @class */ (function (_super) {\n    __extends(MenuBase, _super);\n    function MenuBase(element, config) {\n        var _this = _super.call(this, element, core_1.extend({\n            popupWidth: 175,\n            popupHeight: 36\n        }, config)) || this;\n        _this._isContextMenu = false;\n        _this._documentHaveListener = false;\n        _this.events = new events_1.EventSystem();\n        _this.data = new ts_data_1.TreeCollection({}, _this.events);\n        _this._documentClick = function (e) {\n            if (html_1.locate(e, \"dhx_widget_id\") !== _this._uid && _this._documentHaveListener) {\n                document.removeEventListener(\"click\", _this._documentClick);\n                _this._documentHaveListener = false;\n                _this._close();\n            }\n        };\n        _this._currentRoot = _this.data.getRoot();\n        _this._factory = itemfactory_1.createFactory(types_1.ItemType.menuItem);\n        _this._init();\n        _this._initHandlers();\n        _this._initEvents();\n        return _this;\n    }\n    MenuBase.prototype.paint = function () {\n        _super.prototype.paint.call(this);\n        this._vpopups.redraw();\n    };\n    MenuBase.prototype.disable = function (ids) {\n        this._setProp(ids, \"$disabled\", true);\n    };\n    MenuBase.prototype.enable = function (ids) {\n        this._setProp(ids, \"$disabled\", false);\n    };\n    MenuBase.prototype.show = function (ids) {\n        this._setProp(ids, \"$hidden\", false);\n    };\n    MenuBase.prototype.hide = function (ids) {\n        this._setProp(ids, \"$hidden\", true);\n    };\n    MenuBase.prototype.destructor = function () {\n        hotkeys_1.keyManager.removeHotKey(null, this);\n    };\n    MenuBase.prototype._close = function () {\n        if (this.config.navigationType === types_1.NavigationType.click) {\n            this._isActive = false;\n        }\n        clearTimeout(this._currentTimeout);\n        this._activeMenu = null;\n        this.paint();\n    };\n    MenuBase.prototype._init = function () {\n        var _this = this;\n        var render = function () { return dom_1.el(\"div\", __assign({ dhx_widget_id: _this._uid, class: \"menu-popups\" + (_this._isContextMenu ? \" context-menu\" : \"\") }, _this._handlers), _this._drawPopups()); };\n        this._vpopups = dom_1.create({\n            render: render\n        });\n        this._vpopups.mount(document.body);\n    };\n    MenuBase.prototype._initHandlers = function () {\n        var _this = this;\n        /*\n            for navigation type click:\n            first click open menu, _isActive = true\n            after navigation use mousemove\n            can be closed after outer click or menu leaf item click\n        */\n        this._isActive = this.config.navigationType !== types_1.NavigationType.click;\n        this._handlers = {\n            onmousemove: function (e) {\n                if (!_this._isActive) {\n                    return;\n                }\n                var elem = html_1.locateNode(e);\n                if (!elem) {\n                    _this._activeItemChange(null);\n                    return;\n                }\n                var id = elem.getAttribute(\"dhx_id\");\n                if (_this._activeMenu !== id) {\n                    _this._activeMenu = id;\n                    if (_this.data.haveChilds(id)) {\n                        var position = helper_1.getRealPosition(elem);\n                        _this.data.update(id, { $position: position }, false);\n                    }\n                    _this._activeItemChange(id);\n                }\n            },\n            onmouseleave: function () {\n                if (_this.config.navigationType !== types_1.NavigationType.click) { // maybe all time when mouse leave close menu\n                    _this._activeItemChange(null);\n                }\n            },\n            onclick: function (e) {\n                var element = html_1.locateNode(e);\n                if (!element) {\n                    return;\n                }\n                var id = element.getAttribute(\"dhx_id\");\n                var item = _this.data.getItem(id);\n                switch (item.type) {\n                    case types_1.ItemType.selectButton:\n                    case types_1.ItemType.menuItem:\n                        if (id === _this._currentRoot) {\n                            _this._close();\n                            return;\n                        }\n                        if (!_this._isActive) {\n                            _this._isActive = true;\n                        }\n                        _this._setRoot(id);\n                        _this._activeMenu = id;\n                        if (_this.data.haveChilds(id)) {\n                            var position = helper_1.getRealPosition(element);\n                            _this.data.update(id, { $position: position }, false);\n                            _this._activeItemChange(id);\n                        }\n                        else {\n                            _this._onMenuItemClick(id, e);\n                        }\n                        break;\n                    case types_1.ItemType.dhxButton:\n                    case types_1.ItemType.imageButtonText:\n                    case types_1.ItemType.iconButton:\n                    case types_1.ItemType.imageButton:\n                    case types_1.ItemType.button:\n                    case types_1.ItemType.customHTMLButton:\n                        _this._onMenuItemClick(id, e);\n                        break;\n                    case types_1.ItemType.separator:\n                    case types_1.ItemType.input:\n                    case types_1.ItemType.text:\n                    case types_1.ItemType.spacer:\n                        _this._close();\n                    default:\n                        return;\n                }\n            }\n        };\n    };\n    MenuBase.prototype._initEvents = function () {\n        var _this = this;\n        var timeout = null;\n        this.data.events.on(types_1.DataEvents.change, function () {\n            _this.paint();\n            if (timeout) {\n                clearTimeout(timeout);\n            }\n            timeout = setTimeout(function () {\n                _this._normalizeData();\n                _this._resetHotkeys();\n                timeout = null;\n                _this.paint();\n            }, 100);\n        });\n        this.events.on(types_1.ToolbarEvents.click, function (id) {\n            var item = _this.data.getItem(id);\n            var parent = _this.data.getItem(item.parent);\n            if (parent && parent.type === types_1.ItemType.selectButton) {\n                _this.data.update(item.parent, { value: item.value, icon: item.icon });\n            }\n            if (item.group) {\n                var group = _this._groups[item.group];\n                if (group.active) {\n                    _this.data.update(group.active, { active: false });\n                }\n                group.active = item.id;\n                _this.data.update(item.id, { active: true });\n            }\n        });\n    };\n    MenuBase.prototype._drawPopups = function () {\n        var _this = this;\n        var id = this._activeMenu;\n        if (!this._isContextMenu && !id) {\n            return null;\n        }\n        var root = this._currentRoot;\n        if (this._isContextMenu && !this._activePosition) {\n            return null;\n        }\n        var parentIds = this._getParents(id, root);\n        return parentIds.map(function (itemId) {\n            if (!_this.data.haveChilds(itemId)) {\n                return null;\n            }\n            var item = _this.data.getItem(itemId) || {}; // for root item\n            var count = 0;\n            var separators = 0;\n            _this.data.eachChild(itemId, function (child) {\n                if (child.$hidden) {\n                    return;\n                }\n                if (child.type === \"separator\" || child.separator) {\n                    separators++;\n                }\n                else {\n                    count++;\n                }\n            }, false);\n            var width = item.width || _this.config.popupWidth;\n            var position;\n            var height;\n            if (_this._isContextMenu && _this._activePosition && itemId === root) {\n                position = _this._activePosition;\n                height = _this.config.popupHeight * count + separators * 5;\n            }\n            else {\n                position = item.$position;\n                height = (position.bottom - position.top) * count + separators * 5; // separator 5px\n            }\n            var mode = _this._getMode(item, root, position === _this._activePosition);\n            return dom_1.el(\"div\", {\n                class: \"dhx_widget menu-popup\",\n                style: helper_1.calculatePosition(position, { mode: mode, width: width, height: height })\n            }, _this._drawMenuItems(itemId));\n        }).reverse();\n    };\n    MenuBase.prototype._onMenuItemClick = function (id, e) {\n        var item = this.data.getItem(id);\n        if (item.$disabled) {\n            return;\n        }\n        if (item.twoState) {\n            this.data.update(item.id, { active: !item.active });\n        }\n        this.events.fire(types_1.ToolbarEvents.click, [id, e]);\n        this._close();\n    };\n    MenuBase.prototype._activeItemChange = function (id) {\n        var _this = this;\n        if (id && !this._documentHaveListener) {\n            this._listenOuterClick();\n        }\n        if (id && this.data.haveChilds(id)) {\n            this.events.fire(types_1.ToolbarEvents.openMenu);\n            this._activeMenu = id;\n            clearTimeout(this._currentTimeout);\n            this.paint();\n        }\n        else {\n            this._activeMenu = id;\n            clearTimeout(this._currentTimeout);\n            this._currentTimeout = setTimeout(function () { return _this.paint(); }, 400);\n        }\n    };\n    MenuBase.prototype._resetHotkeys = function () {\n        var _this = this;\n        hotkeys_1.keyManager.removeHotKey(null, this);\n        this.data.map(function (item) {\n            if (item.hotkey) {\n                hotkeys_1.keyManager.addHotKey(item.hotkey, function () { return _this._onMenuItemClick(item.id, null); }, _this);\n            }\n        });\n    };\n    MenuBase.prototype._listenOuterClick = function () {\n        document.addEventListener(\"click\", this._documentClick);\n        this._documentHaveListener = true;\n    };\n    MenuBase.prototype._getMode = function (item, root, _active) {\n        if (_active === void 0) { _active = false; }\n        return item.parent === root ? \"bottom\" : \"right\";\n    };\n    MenuBase.prototype._drawMenuItems = function (id) {\n        var _this = this;\n        return this.data.map(function (item) { return _this._factory(item, _this.events); }, id, false);\n    };\n    MenuBase.prototype._normalizeData = function () {\n        var _this = this;\n        var root = this.data.getRoot();\n        var groups = {};\n        this.data.eachChild(root, function (item) {\n            if (_this.data.haveChilds(item.id) && item.parent !== _this.data.getRoot()) {\n                item.$openIcon = \"right\";\n            }\n            if (item.group) {\n                helper_1.addInGroups(groups, item);\n            }\n        }, true);\n        this._groups = groups;\n    };\n    MenuBase.prototype._setRoot = function (_id) {\n        return; // need only for toolbar\n    };\n    MenuBase.prototype._getParents = function (id, root) {\n        var parentIds = [];\n        var afterRoot = false;\n        var currentItem = this.data.getItem(id);\n        var disabled = currentItem && currentItem.$disabled;\n        this.data.eachParent(id, function (item) {\n            if (item.id === root) {\n                parentIds.push(item.id);\n                afterRoot = true;\n            }\n            else if (!afterRoot) {\n                parentIds.push(item.id);\n            }\n        }, !disabled);\n        if (this._isContextMenu && this._activePosition) {\n            parentIds.push(root);\n        }\n        return parentIds;\n    };\n    MenuBase.prototype._setProp = function (id, key, value) {\n        var _this = this;\n        var _a;\n        if (Array.isArray(id)) {\n            id.forEach(function (itemId) {\n                var _a;\n                return _this.data.update(itemId, (_a = {}, _a[key] = value, _a));\n            });\n        }\n        else {\n            this.data.update(id, (_a = {}, _a[key] = value, _a));\n        }\n    };\n    return MenuBase;\n}(view_1.View));\nexports.MenuBase = MenuBase;\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(__webpack_require__(27));\n__export(__webpack_require__(45));\n__export(__webpack_require__(28));\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar html_1 = __webpack_require__(3);\nvar tooltip_1 = __webpack_require__(28);\nvar Position;\n(function (Position) {\n    Position[\"right\"] = \"right\";\n    Position[\"bottom\"] = \"bottom\";\n    Position[\"center\"] = \"center\";\n})(Position = exports.Position || (exports.Position = {}));\nvar nodeTimeout = new WeakMap();\nvar messageStack = [];\nvar messageContainer = document.createElement(\"div\");\nmessageContainer.className = \"dhx-message-container\";\nfunction onExpire(node, fromClick) {\n    if (fromClick) {\n        clearTimeout(nodeTimeout.get(node));\n    }\n    var index = messageStack.indexOf(node);\n    if (index < 0) { // node in body\n        document.body.removeChild(node);\n        return;\n    }\n    messageContainer.removeChild(node);\n    messageStack.splice(index, 1);\n    if (messageStack.length === 0) {\n        document.body.removeChild(messageContainer);\n    }\n}\nfunction message(props) {\n    if (typeof props === \"string\") {\n        props = { text: props };\n    }\n    var messageBox = document.createElement(\"div\");\n    messageBox.className = \"dhx-message \" + (props.css || \"\");\n    messageBox.innerHTML = \"<span class=\\\"message-text\\\">\" + props.text + \"</span> <div class=\\\"dxi \" + props.icon + \"\\\"></div>\";\n    if (props.at) {\n        messageBox.style.position = \"absolute\";\n        var _a = props.at, node = _a.node, position = _a.position;\n        var elem = html_1.toNode(node);\n        var rects = elem.getBoundingClientRect();\n        document.body.appendChild(messageBox); // for calc bounings\n        var _b = messageBox.getBoundingClientRect(), width = _b.width, height = _b.height;\n        var _c = tooltip_1.findPosition(rects, position, width, height), left = _c.left, top_1 = _c.top, pos = _c.pos;\n        messageBox.className += \" \" + pos;\n        messageBox.style.left = left + \"px\";\n        messageBox.style.top = top_1 + \"px\";\n    }\n    else {\n        if (messageStack.length === 0) {\n            document.body.appendChild(messageContainer);\n        }\n        messageStack.push(messageBox);\n        messageContainer.appendChild(messageBox);\n    }\n    if (props.expire) {\n        var timeout = setTimeout(function () { return onExpire(messageBox); }, props.expire);\n        nodeTimeout.set(messageBox, timeout);\n    }\n    messageBox.onclick = function () { return onExpire(messageBox, true); };\n}\nexports.message = message;\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar html_1 = __webpack_require__(3);\nvar message_1 = __webpack_require__(27);\nvar RealPosition;\n(function (RealPosition) {\n    RealPosition[\"left\"] = \"left\";\n    RealPosition[\"right\"] = \"right\";\n    RealPosition[\"top\"] = \"top\";\n    RealPosition[\"bottom\"] = \"bottom\";\n    RealPosition[\"center\"] = \"center\";\n})(RealPosition = exports.RealPosition || (exports.RealPosition = {}));\nfunction findPosition(targetRect, position, width, height) {\n    var margin = 8; // margin top/bot, left/right\n    var pos;\n    var left;\n    var top;\n    switch (position) {\n        case message_1.Position.center:\n            left = targetRect.left + window.pageXOffset + (targetRect.width - width) / 2;\n            if (left + margin < window.pageXOffset) {\n                left = targetRect.left + window.pageXOffset;\n            }\n            top = targetRect.top + window.pageYOffset + (targetRect.height - height) / 2;\n            pos = RealPosition.center;\n            return { left: left, top: top, pos: pos };\n        case message_1.Position.right:\n            pos = RealPosition.right;\n            left = targetRect.right + window.pageXOffset;\n            if (left + width + margin > window.innerWidth + window.pageXOffset) { // set left\n                left = window.pageXOffset + targetRect.left - width;\n                pos = RealPosition.left;\n            }\n            top = window.pageYOffset + targetRect.top + (targetRect.height - height) / 2;\n            return { left: left, top: top, pos: pos };\n        case message_1.Position.bottom:\n            left = window.pageXOffset + targetRect.left + (targetRect.width - width) / 2;\n            if (left < window.pageXOffset) {\n                left = window.pageXOffset + targetRect.left;\n            }\n            pos = RealPosition.bottom;\n            top = window.pageYOffset + targetRect.bottom;\n            if (top + height + margin > window.innerHeight + window.pageYOffset) { // set top\n                top = window.pageYOffset + targetRect.top - height;\n                pos = RealPosition.top;\n            }\n            return { left: left, top: top, pos: pos };\n    }\n}\nexports.findPosition = findPosition;\n// tooltip init\nvar tooltipBox = document.createElement(\"div\");\nvar tooltipText = document.createElement(\"span\");\ntooltipText.className = \"tooltip-text\";\ntooltipBox.appendChild(tooltipText);\ntooltipBox.style.position = \"absolute\";\nvar timeoutId = null;\nvar lastNode = null;\nvar isActive = false;\nvar hideTimeout = null;\nfunction showTooltip(node, text, position, css, force) {\n    if (force === void 0) { force = false; }\n    var rects = node.getBoundingClientRect();\n    tooltipText.textContent = text;\n    document.body.appendChild(tooltipBox);\n    tooltipBox.className = \"dhx-tooltip\" + (force ? \" forced\" : \"\");\n    var _a = tooltipBox.getBoundingClientRect(), width = _a.width, height = _a.height;\n    var _b = findPosition(rects, position, width, height), left = _b.left, top = _b.top, pos = _b.pos;\n    switch (pos) {\n        case RealPosition.bottom:\n            tooltipBox.style.left = left + \"px\";\n            tooltipBox.style.top = top + \"px\";\n            break;\n        case RealPosition.top:\n            tooltipBox.style.left = left + \"px\";\n            tooltipBox.style.top = top + \"px\";\n            break;\n        case RealPosition.left:\n            tooltipBox.style.left = left + \"px\";\n            tooltipBox.style.top = top + \"px\";\n            break;\n        case RealPosition.right:\n            tooltipBox.style.left = left + \"px\";\n            tooltipBox.style.top = top + \"px\";\n            break;\n        case RealPosition.center:\n            tooltipBox.style.left = left + \"px\";\n            tooltipBox.style.top = top + \"px\";\n            break;\n    }\n    tooltipBox.className += \" \" + pos + \" \" + (css || \"\");\n    isActive = true;\n    if (!force) {\n        setTimeout(function () {\n            tooltipBox.className += \" animate-tooltip\";\n        });\n    }\n}\nfunction hideTooltip() {\n    if (lastNode) {\n        hideTimeout = setTimeout(function () {\n            document.body.removeChild(tooltipBox);\n            isActive = false;\n            hideTimeout = null;\n        }, 200);\n    }\n}\nfunction addListners(node, text, position, css, force) {\n    if (force === void 0) { force = false; }\n    var mousemove = function () {\n        if (isActive) {\n            return;\n        }\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n        timeoutId = setTimeout(function () {\n            showTooltip(node, text, position, css);\n        }, 750);\n    };\n    var mouseout = function () {\n        if (isActive) {\n            hideTooltip();\n        }\n        clearTimeout(timeoutId);\n        if (!force) {\n            document.removeEventListener(\"mousemove\", mousemove);\n        }\n        document.removeEventListener(\"mouseout\", mouseout);\n        document.removeEventListener(\"click\", mouseout);\n        lastNode = null;\n    };\n    if (force) {\n        showTooltip(node, text, position, css, force);\n    }\n    else {\n        document.addEventListener(\"mousemove\", mousemove);\n    }\n    document.addEventListener(\"mouseout\", mouseout);\n    document.addEventListener(\"click\", mouseout);\n}\n// default\nfunction tooltip(text, at) {\n    var node = html_1.toNode(at.node);\n    if (node === lastNode) {\n        return;\n    }\n    lastNode = node;\n    if (hideTimeout) {\n        clearTimeout(hideTimeout);\n        hideTimeout = null;\n        addListners(node, text, at.position, at.css, true);\n    }\n    else {\n        addListners(node, text, at.position || message_1.Position.bottom, at.css);\n    }\n}\nexports.tooltip = tooltip;\nfunction enableTooltip() {\n    document.addEventListener(\"mousemove\", _mousemove);\n}\nexports.enableTooltip = enableTooltip;\nfunction disableTooltip() {\n    document.removeEventListener(\"mousemove\", _mousemove);\n}\nexports.disableTooltip = disableTooltip;\nfunction _mousemove(e) {\n    var node = html_1.locateNode(e, \"dhx_tooltip_text\");\n    if (!node) {\n        return;\n    }\n    tooltip(node.getAttribute(\"dhx_tooltip_text\"), {\n        position: node.getAttribute(\"dhx_tooltip_position\") || message_1.Position.bottom,\n        node: node\n    });\n}\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PopupEvents;\n(function (PopupEvents) {\n    PopupEvents[\"beforeHide\"] = \"beforehide\";\n    PopupEvents[\"beforeShow\"] = \"beforeshow\";\n    PopupEvents[\"afterHide\"] = \"afterhide\";\n    PopupEvents[\"afterShow\"] = \"aftershow\";\n})(PopupEvents = exports.PopupEvents || (exports.PopupEvents = {}));\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nvar view_1 = __webpack_require__(8);\nvar Wrapper = /** @class */ (function (_super) {\n    __extends(Wrapper, _super);\n    function Wrapper(config) {\n        var _this = _super.call(this, null, config) || this;\n        var popup = _this._popup = document.createElement(\"div\");\n        popup.className = \"dhx-popup dhx_widget\";\n        popup.style.position = \"absolute\";\n        _this._initHandlers();\n        _this.mount(popup, dom_1.create({\n            render: function () { return _this.toVDOM(); }\n        }));\n        return _this;\n    }\n    Wrapper.prototype.attach = function (name, config) {\n        this._html = null;\n        if (typeof name === \"object\") {\n            this._ui = name;\n        }\n        else if (typeof name === \"string\") {\n            this._ui = new window.dhx[name](null, config);\n        }\n        else if (typeof name === \"function\") {\n            if (name.prototype instanceof view_1.View) {\n                this._ui = new name(null, config);\n            }\n            else {\n                this._ui = {\n                    getRootView: function () {\n                        return name(config);\n                    }\n                };\n            }\n        }\n        this.paint();\n        return this._ui;\n    };\n    Wrapper.prototype.attachHTML = function (html) {\n        this._html = html;\n        this.paint();\n    };\n    Wrapper.prototype.getWidget = function () {\n        return this._ui;\n    };\n    Wrapper.prototype.toVDOM = function () {\n        if (this._html) {\n            return dom_1.el(\".inner-html-content\", {\n                \".innerHTML\": this._html\n            });\n        }\n        var view = this._ui ? this._ui.getRootView() : null;\n        if (view && view.render) {\n            view = dom_1.inject(view);\n        }\n        return view;\n    };\n    return Wrapper;\n}(view_1.View));\nexports.Wrapper = Wrapper;\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ColorpickerEvents;\n(function (ColorpickerEvents) {\n    ColorpickerEvents[\"colorChange\"] = \"colorChange\";\n})(ColorpickerEvents = exports.ColorpickerEvents || (exports.ColorpickerEvents = {}));\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar events_1 = __webpack_require__(7);\nvar loader_1 = __webpack_require__(61);\nvar sort_1 = __webpack_require__(62);\nvar dataproxy_1 = __webpack_require__(18);\nvar helpers_1 = __webpack_require__(13);\nvar types_1 = __webpack_require__(12);\nvar core_1 = __webpack_require__(2);\nvar DataCollection = /** @class */ (function () {\n    function DataCollection(config, events) {\n        this.config = config || {};\n        this._order = [];\n        this._pull = {};\n        this._changes = { order: [] };\n        this._initOrder = null;\n        this._sort = new sort_1.Sort();\n        this._loader = new loader_1.Loader(this, this._changes);\n        this.events = events || new events_1.EventSystem(this);\n    }\n    DataCollection.prototype.add = function (obj, index) {\n        if (!this.events.fire(types_1.DataEvents.beforeAdd, [obj])) {\n            return;\n        }\n        var id = this._addCore(obj, index);\n        this._onChange(\"add\", obj.id, obj);\n        this.events.fire(types_1.DataEvents.afterAdd, [obj]);\n        return id;\n    };\n    DataCollection.prototype.remove = function (id) {\n        var obj = this._pull[id];\n        if (obj) {\n            if (!this.events.fire(types_1.DataEvents.beforeRemove, [obj])) {\n                return;\n            }\n            this._removeCore(obj.id);\n            this._onChange(\"remove\", id, obj);\n        }\n        this.events.fire(types_1.DataEvents.afterRemove, [obj]);\n    };\n    DataCollection.prototype.removeAll = function () {\n        this._removeAll();\n        this.events.fire(types_1.DataEvents.removeAll);\n        this.events.fire(types_1.DataEvents.change);\n    };\n    DataCollection.prototype.exists = function (id) {\n        return !!this._pull[id];\n    };\n    DataCollection.prototype.getNearId = function (id) {\n        var item = this._pull[id];\n        if (!item) {\n            return this._order[0].id || \"\";\n        }\n    };\n    DataCollection.prototype.getItem = function (id) {\n        return this._pull[id];\n    };\n    DataCollection.prototype.update = function (id, obj, silent) {\n        var item = this.getItem(id);\n        if (item) {\n            if (helpers_1.isEqualObj(obj, item)) {\n                return;\n            }\n            if (obj.id && id !== obj.id) {\n                helpers_1.dhxWarning(\"this method doesn't allow change id\");\n                if (helpers_1.isDebug()) {\n                    // tslint:disable-next-line:no-debugger\n                    debugger;\n                }\n            }\n            else {\n                core_1.extend(this._pull[id], obj, false);\n                if (this.config.update) {\n                    this.config.update(this._pull[id]);\n                }\n                if (!silent) {\n                    this._onChange(\"update\", id, this._pull[id]);\n                }\n            }\n        }\n        else {\n            helpers_1.dhxWarning(\"item not found\");\n        }\n    };\n    DataCollection.prototype.getIndex = function (id) {\n        var res = core_1.findIndex(this._order, function (item) { return item.id === id; });\n        if (this._pull[id] && res >= 0) {\n            return res;\n        }\n        return -1;\n    };\n    DataCollection.prototype.getId = function (index) {\n        if (!this._order[index]) {\n            return;\n        }\n        return this._order[index].id;\n    };\n    DataCollection.prototype.getLength = function () {\n        return this._order.length;\n    };\n    DataCollection.prototype.filter = function (rule, config) {\n        var _this = this;\n        config = core_1.extend({\n            add: false,\n            multiple: true\n        }, config);\n        if (!config.add) {\n            this._order = this._initOrder || this._order;\n            this._initOrder = null;\n        }\n        this._filters = this._filters || {};\n        if (!config.multiple || !rule) {\n            this._filters = {};\n        }\n        if (rule) {\n            if (typeof rule === \"function\") {\n                var f = \"_\";\n                this._filters[f] = {\n                    match: f,\n                    compare: rule\n                };\n            }\n            else {\n                if (!rule.match) {\n                    delete this._filters[rule.by];\n                }\n                else {\n                    rule.compare = rule.compare || (function (val, match) { return val === match; });\n                    this._filters[rule.by] = rule;\n                }\n            }\n            var fOrder = this._order.filter(function (item) {\n                return Object.keys(_this._filters).every(function (key) {\n                    return item[key] ?\n                        _this._filters[key].compare(item[key], _this._filters[key].match, item)\n                        : _this._filters[key].compare(item);\n                });\n            });\n            if (!this._initOrder) {\n                this._initOrder = this._order;\n                this._order = fOrder;\n            }\n        }\n        this.events.fire(types_1.DataEvents.change);\n    };\n    DataCollection.prototype.find = function (conf) {\n        for (var key in this._pull) {\n            var res = helpers_1.findByConf(this._pull[key], conf);\n            if (res) {\n                return res;\n            }\n        }\n        return null;\n    };\n    DataCollection.prototype.findAll = function (conf) {\n        var res = [];\n        for (var key in this._pull) {\n            var item = helpers_1.findByConf(this._pull[key], conf);\n            if (item) {\n                res.push(item);\n            }\n        }\n        return res;\n    };\n    DataCollection.prototype.sort = function (by) {\n        this._sort.sort(this._order, by);\n        if (this._initOrder && this._initOrder.length) {\n            this._sort.sort(this._initOrder, by);\n        }\n        this.events.fire(types_1.DataEvents.change);\n    };\n    DataCollection.prototype.copy = function (id, index, target, targetId) {\n        if (!this.exists(id)) {\n            return null;\n        }\n        var newid = core_1.uid();\n        if (target) {\n            if (targetId) {\n                target.add(__assign({}, this.getItem(id)), index, targetId);\n                return;\n            }\n            if (target.exists(id)) {\n                target.add(__assign({}, this.getItem(id), { id: newid }), index);\n                return newid;\n            }\n            else {\n                target.add(this.getItem(id), index);\n                return id;\n            }\n        }\n        this.add(__assign({}, this.getItem(id), { id: newid }), index);\n        return newid;\n    };\n    DataCollection.prototype.move = function (id, index, target, targetId) {\n        if (target && target !== this && this.exists(id)) {\n            var item = this.getItem(id);\n            if (target.exists(id)) {\n                item.id = core_1.uid();\n            }\n            if (targetId) {\n                item.parent = targetId;\n            }\n            target.add(item, index);\n            // remove data from original collection\n            this.remove(item.id);\n            return item.id;\n        }\n        if (this.getIndex(id) === index) {\n            return null;\n        }\n        // move other elements\n        var spliced = this._order.splice(this.getIndex(id), 1)[0];\n        if (index === -1) {\n            index = this._order.length;\n        }\n        this._order.splice(index, 0, spliced);\n        this.events.fire(types_1.DataEvents.change); // if target not this, it trigger add and remove\n        return id;\n    };\n    DataCollection.prototype.load = function (url, driver) {\n        if (typeof url === \"string\") {\n            url = new dataproxy_1.DataProxy(url);\n        }\n        return this._loader.load(url, driver);\n    };\n    DataCollection.prototype.parse = function (data, driver) {\n        this._removeAll();\n        return this._loader.parse(data, driver);\n    };\n    DataCollection.prototype.$parse = function (data) {\n        var apx = this.config.approximate;\n        if (apx) {\n            data = this._approximate(data, apx.value, apx.maxNum);\n        }\n        this._parse_data(data);\n        this.events.fire(types_1.DataEvents.change);\n        this.events.fire(types_1.DataEvents.load);\n    };\n    DataCollection.prototype.save = function (url) {\n        this._loader.save(url);\n    };\n    // todo: loop through the array and check saved statuses\n    DataCollection.prototype.isSaved = function () {\n        return !this._changes.order.length; // todo: bad solution, errors and holded elments are missed...\n    };\n    DataCollection.prototype.map = function (cb) {\n        var result = [];\n        for (var i = 0; i < this._order.length; i++) {\n            result.push(cb.call(this, this._order[i], i));\n        }\n        return result;\n    };\n    DataCollection.prototype.reduce = function (cb, acc) {\n        for (var i = 0; i < this._order.length; i++) {\n            acc = cb.call(this, acc, this._order[i], i);\n        }\n        return acc;\n    };\n    DataCollection.prototype.serialize = function () {\n        return this.map(function (item) {\n            var newItem = __assign({}, item);\n            Object.keys(newItem).forEach(function (key) {\n                if (key[0] === \"$\") {\n                    delete newItem[key];\n                }\n            });\n            return newItem;\n        });\n    };\n    DataCollection.prototype.getInitialData = function () {\n        return this._initOrder;\n    };\n    DataCollection.prototype._removeAll = function () {\n        this._pull = {};\n        this._order = [];\n        this._changes.order = [];\n        this._initOrder = null;\n    };\n    DataCollection.prototype._addCore = function (obj, index) {\n        if (this.config.init) {\n            obj = this.config.init(obj);\n        }\n        obj.id = obj.id ? obj.id.toString() : core_1.uid();\n        if (this._pull[obj.id]) {\n            helpers_1.dhxError(\"Item already exist\");\n        }\n        // todo: not ideal solution\n        if (this._initOrder && this._initOrder.length) {\n            this._addToOrder(this._initOrder, obj, index);\n        }\n        this._addToOrder(this._order, obj, index);\n        return obj.id;\n    };\n    DataCollection.prototype._removeCore = function (id) {\n        if (this.getIndex(id) >= 0) {\n            this._order = this._order.filter(function (el) { return el.id !== id; });\n            delete this._pull[id];\n        }\n        if (this._initOrder && this._initOrder.length) {\n            this._initOrder = this._initOrder.filter(function (el) { return el.id !== id; });\n        }\n    };\n    DataCollection.prototype._parse_data = function (data) {\n        var index = this._order.length;\n        if (this.config.prep) {\n            data = this.config.prep(data);\n        }\n        for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n            var obj = data_1[_i];\n            if (this.config.init) {\n                obj = this.config.init(obj);\n            }\n            obj.id = obj.id || core_1.uid();\n            this._pull[obj.id] = obj;\n            this._order[index++] = obj;\n        }\n    };\n    DataCollection.prototype._approximate = function (data, values, maxNum) {\n        var len = data.length;\n        var vlen = values.length;\n        var rlen = Math.floor(len / maxNum);\n        var newData = Array(Math.ceil(len / rlen));\n        var index = 0;\n        for (var i = 0; i < len; i += rlen) {\n            var newItem = core_1.copy(data[i]);\n            var end = Math.min(len, i + rlen);\n            for (var j = 0; j < vlen; j++) {\n                var sum = 0;\n                for (var z = i; z < end; z++) {\n                    sum += data[z][values[j]];\n                }\n                newItem[values[j]] = sum / (end - i);\n            }\n            newData[index++] = newItem;\n        }\n        return newData;\n    };\n    DataCollection.prototype._onChange = function (status, id, obj) {\n        for (var _i = 0, _a = this._changes.order; _i < _a.length; _i++) {\n            var item = _a[_i];\n            // update pending item if previous state is \"saving\" or if item not saved yet\n            if (item.id === id && !item.saving) {\n                // update item\n                if (item.error) {\n                    item.error = false;\n                }\n                item = __assign({}, item, { obj: obj, status: status });\n                this.events.fire(types_1.DataEvents.change, [id, status, obj]);\n                return;\n            }\n        }\n        this._changes.order.push({ id: id, status: status, obj: __assign({}, obj), saving: false });\n        this.events.fire(types_1.DataEvents.change, [id, status, obj]);\n    };\n    DataCollection.prototype._addToOrder = function (array, obj, index) {\n        if (index >= 0 && array[index]) {\n            this._pull[obj.id] = obj;\n            array.splice(index, 0, obj);\n        }\n        else {\n            this._pull[obj.id] = obj;\n            array.push(obj);\n        }\n    };\n    return DataCollection;\n}());\nexports.DataCollection = DataCollection;\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CsvDriver = /** @class */ (function () {\n    function CsvDriver(config) {\n        if (config === void 0) { config = {}; }\n        var initConfig = {\n            skipHeader: 0,\n            nameByHeader: false,\n            row: \"\\n\",\n            column: \",\",\n        };\n        this.config = __assign({}, initConfig, config);\n        if (this.config.nameByHeader) {\n            this.config.skipHeader = 1;\n        }\n    }\n    CsvDriver.prototype.getFields = function (row, headers) {\n        var parts = row.trim().split(this.config.column);\n        var obj = {};\n        for (var i = 0; i < parts.length; i++) {\n            obj[headers ? headers[i] : i + 1] = parts[i];\n        }\n        return obj;\n    };\n    CsvDriver.prototype.getRows = function (data) {\n        return data.trim().split(this.config.row);\n    };\n    CsvDriver.prototype.toJsonArray = function (data) {\n        var _this = this;\n        var rows = this.getRows(data);\n        var names = this.config.names;\n        if (this.config.skipHeader) {\n            var top_1 = rows.splice(0, this.config.skipHeader);\n            if (this.config.nameByHeader) {\n                names = top_1[0].trim().split(this.config.column);\n            }\n        }\n        return rows.map(function (row) { return _this.getFields(row, names); });\n    };\n    return CsvDriver;\n}());\nexports.CsvDriver = CsvDriver;\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar JsonDriver = /** @class */ (function () {\n    function JsonDriver() {\n    }\n    JsonDriver.prototype.toJsonArray = function (data) {\n        return this.getRows(data);\n    };\n    JsonDriver.prototype.getFields = function (row) {\n        return row;\n    };\n    JsonDriver.prototype.getRows = function (data) {\n        return typeof data === \"string\" ? JSON.parse(data) : data;\n    };\n    return JsonDriver;\n}());\nexports.JsonDriver = JsonDriver;\n\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = __webpack_require__(2);\nvar datacollection_1 = __webpack_require__(33);\nvar dataproxy_1 = __webpack_require__(18);\nvar helpers_1 = __webpack_require__(13);\nvar types_1 = __webpack_require__(12);\nfunction addToOrder(store, obj, parent, index) {\n    if (index !== undefined && index !== -1 && store[parent] && store[parent][index]) {\n        store[parent].splice(index, 0, obj);\n    }\n    else {\n        if (!store[parent]) {\n            store[parent] = [];\n        }\n        store[parent].push(obj);\n    }\n}\nvar TreeCollection = /** @class */ (function (_super) {\n    __extends(TreeCollection, _super);\n    function TreeCollection(config, events) {\n        var _a;\n        var _this = _super.call(this, config, events) || this;\n        var root = _this._root = \"_ROOT_\" + core_1.uid();\n        _this._childs = (_a = {}, _a[root] = [], _a);\n        _this._initChilds = null;\n        return _this;\n    }\n    TreeCollection.prototype.add = function (obj, index, parent) {\n        if (index === void 0) { index = -1; }\n        if (parent === void 0) { parent = this._root; }\n        if (typeof obj !== \"object\") {\n            obj = {\n                value: obj\n            };\n        }\n        obj.parent = obj.parent ? obj.parent.toString() : parent;\n        var id = _super.prototype.add.call(this, obj, index);\n        if (Array.isArray(obj.childs)) {\n            for (var _i = 0, _a = obj.childs; _i < _a.length; _i++) {\n                var clild = _a[_i];\n                this.add(clild, -1, obj.id);\n            }\n        }\n        return id;\n    };\n    TreeCollection.prototype.getRoot = function () {\n        return this._root;\n    };\n    TreeCollection.prototype.getParent = function (id, asObj) {\n        if (asObj === void 0) { asObj = false; }\n        if (!this._pull[id]) {\n            return null;\n        }\n        var parent = this._pull[id].parent;\n        return asObj ? this._pull[parent] : parent;\n    };\n    TreeCollection.prototype.getChilds = function (id) {\n        if (this._childs && this._childs[id]) {\n            return this._childs[id];\n        }\n        return [];\n    };\n    TreeCollection.prototype.getLength = function (id) {\n        if (id === void 0) { id = this._root; }\n        if (!this._childs[id]) {\n            return null;\n        }\n        return this._childs[id].length;\n    };\n    TreeCollection.prototype.removeAll = function (id) {\n        var _a;\n        if (id) {\n            var childs = this._childs[id].slice();\n            for (var _i = 0, childs_1 = childs; _i < childs_1.length; _i++) {\n                var child = childs_1[_i];\n                this.remove(child.id);\n            }\n        }\n        else {\n            _super.prototype.removeAll.call(this);\n            var root = this._root;\n            this._initChilds = null;\n            this._childs = (_a = {}, _a[root] = [], _a);\n        }\n    };\n    TreeCollection.prototype.getIndex = function (id) {\n        var parent = this.getParent(id);\n        if (!parent || !this._childs[parent]) {\n            return -1;\n        }\n        return core_1.findIndex(this._childs[parent], function (item) { return item.id === id; });\n    };\n    TreeCollection.prototype.sort = function (conf) {\n        var childs = this._childs;\n        for (var key in childs) {\n            this._sort.sort(childs[key], conf);\n        }\n        this.events.fire(types_1.DataEvents.change);\n    };\n    TreeCollection.prototype.map = function (cb, parent, direct) {\n        if (parent === void 0) { parent = this._root; }\n        if (direct === void 0) { direct = true; }\n        var result = [];\n        if (!this.haveChilds(parent)) {\n            return result;\n        }\n        for (var i = 0; i < this._childs[parent].length; i++) {\n            result.push(cb.call(this, this._childs[parent][i], i));\n            if (direct) {\n                var childResult = this.map(cb, this._childs[parent][i].id, direct);\n                result = result.concat(childResult);\n            }\n        }\n        return result;\n    };\n    TreeCollection.prototype.filter = function (conf) {\n        if (!conf) {\n            this.restoreOrder();\n            return;\n        }\n        if (!this._initChilds) {\n            this._initChilds = this._childs;\n        }\n        conf.type = conf.type || types_1.TreeFilterType.all;\n        var newChilds = {};\n        this._recursiveFilter(conf, this._root, 0, newChilds);\n        this._childs = newChilds;\n        this.events.fire(types_1.DataEvents.change);\n    };\n    TreeCollection.prototype.restoreOrder = function () {\n        if (this._initChilds) {\n            this._childs = this._initChilds;\n            this._initChilds = null;\n        }\n        this.events.fire(types_1.DataEvents.change);\n    };\n    TreeCollection.prototype.copy = function (id, index, target, targetId) {\n        if (target === void 0) { target = this; }\n        if (targetId === void 0) { targetId = this._root; }\n        if (!this.exists(id)) {\n            return null;\n        }\n        var childs = __assign({}, this._childs);\n        var currentChilds = childs[id];\n        if (target === this && !this.canCopy(id, targetId)) {\n            return null;\n        }\n        if (!(target instanceof TreeCollection)) { // copy to datacollection\n            target.add(this._pull[id]);\n            return;\n        }\n        if (this.exists(id)) {\n            var item = __assign({}, this.getItem(id));\n            if (target.exists(id)) {\n                item.id = core_1.uid();\n            }\n            else {\n                item.id = id;\n            }\n            item.parent = targetId;\n            target.add(item, index);\n            id = item.id;\n        }\n        if (currentChilds) {\n            for (var _i = 0, currentChilds_1 = currentChilds; _i < currentChilds_1.length; _i++) {\n                var child = currentChilds_1[_i];\n                var childId = child.id;\n                var childIndex = this.getIndex(childId);\n                this.copy(childId, childIndex, target, id);\n            }\n        }\n        return id;\n    };\n    TreeCollection.prototype.move = function (id, index, target, targetId) {\n        if (target === void 0) { target = this; }\n        if (targetId === void 0) { targetId = this._root; }\n        if (!this.exists(id)) {\n            return null;\n        }\n        if (target !== this) {\n            if (!(target instanceof TreeCollection)) { // move to datacollection\n                target.add(this._pull[id]);\n                this.remove(id);\n                return;\n            }\n            var returnId = this.copy(id, index, target, targetId);\n            this.remove(id);\n            return returnId;\n        }\n        // move inside\n        if (!this.canCopy(id, targetId)) {\n            return null;\n        }\n        var parent = this.getParent(id);\n        var parentIndex = this.getIndex(id);\n        // get item from parent array and move to target array\n        var spliced = this._childs[parent].splice(parentIndex, 1)[0];\n        spliced.parent = targetId; // need for next moving, ... not best solution, may be full method for get item\n        if (!this._childs[parent].length) {\n            delete this._childs[parent];\n        }\n        if (!this.haveChilds(targetId)) {\n            this._childs[targetId] = [];\n        }\n        if (index === -1) {\n            index = this._childs[targetId].push(spliced);\n        }\n        else {\n            this._childs[targetId].splice(index, 0, spliced);\n        }\n        this.events.fire(types_1.DataEvents.change);\n        return id;\n    };\n    TreeCollection.prototype.eachChild = function (id, cb, direct, checkItem) {\n        if (direct === void 0) { direct = true; }\n        if (checkItem === void 0) { checkItem = function () { return true; }; }\n        if (!this.haveChilds(id)) {\n            return;\n        }\n        for (var i = 0; i < this._childs[id].length; i++) {\n            cb.call(this, this._childs[id][i], i);\n            if (direct && checkItem(this._childs[id][i])) {\n                this.eachChild(this._childs[id][i].id, cb, direct, checkItem);\n            }\n        }\n    };\n    TreeCollection.prototype.getNearId = function (id) {\n        return id; // for selection\n    };\n    TreeCollection.prototype.loadChilds = function (id, driver) {\n        var _this = this;\n        if (driver === void 0) { driver = \"json\"; }\n        var url = this.config.autoload + \"?id=\" + id;\n        var proxy = new dataproxy_1.DataProxy(url);\n        proxy.load().then(function (data) {\n            driver = helpers_1.toDataDriver(driver);\n            data = driver.toJsonArray(data);\n            _this._parse_data(data, id);\n            _this.events.fire(types_1.DataEvents.change);\n        });\n    };\n    TreeCollection.prototype.refreshChilds = function (id, driver) {\n        if (driver === void 0) { driver = \"json\"; }\n        this.removeAll(id);\n        this.loadChilds(id, driver);\n    };\n    TreeCollection.prototype.eachParent = function (id, cb, self) {\n        if (self === void 0) { self = false; }\n        var item = this.getItem(id);\n        if (!item) {\n            return;\n        }\n        if (self) {\n            cb.call(this, item);\n        }\n        if (item.parent === this._root) {\n            return;\n        }\n        var parent = this.getItem(item.parent);\n        cb.call(this, parent);\n        this.eachParent(item.parent, cb);\n    };\n    TreeCollection.prototype.haveChilds = function (id) {\n        return id in this._childs;\n    };\n    TreeCollection.prototype.canCopy = function (id, target) {\n        if (id === target) {\n            return false;\n        }\n        var canCopy = true;\n        this.eachParent(target, function (item) { return item.id === id ? canCopy = false : null; }); // locate return string\n        return canCopy;\n    };\n    TreeCollection.prototype.serialize = function (fn) {\n        return this._serialize(this._root, fn);\n    };\n    TreeCollection.prototype.getId = function (index, parent) {\n        if (parent === void 0) { parent = this._root; }\n        if (!this._childs[parent] || !this._childs[parent][index]) {\n            return;\n        }\n        return this._childs[parent][index].id;\n    };\n    TreeCollection.prototype._removeAll = function (id) {\n        var _a;\n        if (id) {\n            var childs = this._childs[id].slice();\n            for (var _i = 0, childs_2 = childs; _i < childs_2.length; _i++) {\n                var child = childs_2[_i];\n                this.remove(child.id);\n            }\n        }\n        else {\n            _super.prototype._removeAll.call(this);\n            var root = this._root;\n            this._initChilds = null;\n            this._childs = (_a = {}, _a[root] = [], _a);\n        }\n    };\n    TreeCollection.prototype._removeCore = function (id) {\n        if (this._pull[id]) {\n            var parent_1 = this.getParent(id);\n            this._childs[parent_1] = this._childs[parent_1].filter(function (item) { return item.id !== id; });\n            if (parent_1 !== this._root && !this._childs[parent_1].length) {\n                delete this._childs[parent_1];\n            }\n            if (this._initChilds && this._initChilds[parent_1]) {\n                this._initChilds[parent_1] = this._initChilds[parent_1].filter(function (item) { return item.id !== id; });\n                if (parent_1 !== this._root && !this._initChilds[parent_1].length) {\n                    delete this._initChilds[parent_1];\n                }\n            }\n            this._fastDeleteChilds(this._childs, id);\n            if (this._initChilds) {\n                this._fastDeleteChilds(this._initChilds, id);\n            }\n        }\n    };\n    TreeCollection.prototype._addToOrder = function (_order, obj, index) {\n        var childs = this._childs;\n        var initChilds = this._initChilds;\n        var parent = obj.parent;\n        this._pull[obj.id] = obj;\n        addToOrder(childs, obj, parent, index);\n        if (initChilds) {\n            addToOrder(initChilds, obj, parent, index);\n        }\n    };\n    TreeCollection.prototype._parse_data = function (data, parent) {\n        if (parent === void 0) { parent = this._root; }\n        for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n            var obj = data_1[_i];\n            if (this.config.init) {\n                obj = this.config.init(obj);\n            }\n            if (typeof obj !== \"object\") {\n                obj = {\n                    value: obj\n                };\n            }\n            obj.id = obj.id ? obj.id.toString() : core_1.uid();\n            obj.parent = obj.parent ? obj.parent.toString() : parent;\n            this._pull[obj.id] = obj;\n            if (!this._childs[obj.parent]) {\n                this._childs[obj.parent] = [];\n            }\n            this._childs[obj.parent].push(obj);\n            if (obj.childs && obj.childs instanceof Object) {\n                this._parse_data(obj.childs, obj.id);\n            }\n        }\n    };\n    TreeCollection.prototype._fastDeleteChilds = function (target, id) {\n        if (this._pull[id]) {\n            delete this._pull[id];\n        }\n        if (!target[id]) {\n            return;\n        }\n        for (var i = 0; i < target[id].length; i++) {\n            this._fastDeleteChilds(target, target[id][i].id);\n        }\n        delete target[id];\n    };\n    TreeCollection.prototype._recursiveFilter = function (conf, current, level, newChilds) {\n        var _this = this;\n        var childs = this._childs[current];\n        if (!childs) {\n            return;\n        }\n        var condition = function (item) {\n            switch (conf.type) {\n                case types_1.TreeFilterType.all: {\n                    return true;\n                }\n                case types_1.TreeFilterType.specific: {\n                    return level === conf.specific;\n                }\n                case types_1.TreeFilterType.leafs: {\n                    return !_this.haveChilds(item.id);\n                }\n            }\n        };\n        if (conf.by && conf.match) {\n            var customRule = function (item) { return !condition(item) || item[conf.by].toString().toLowerCase().indexOf(conf.match.toString().toLowerCase()) !== -1; };\n            newChilds[current] = childs.filter(customRule);\n        }\n        else if (conf.rule && typeof conf.rule === \"function\") {\n            var customRule = function (item) { return !condition(item) || conf.rule(item); };\n            var filtered = childs.filter(customRule);\n            if (filtered.length) {\n                newChilds[current] = filtered;\n            }\n        }\n        for (var _i = 0, childs_3 = childs; _i < childs_3.length; _i++) {\n            var child = childs_3[_i];\n            this._recursiveFilter(conf, child.id, level + 1, newChilds);\n        }\n    };\n    TreeCollection.prototype._serialize = function (parent, fn) {\n        var _this = this;\n        if (parent === void 0) { parent = this._root; }\n        return this.map(function (item) {\n            var itemCopy = {};\n            for (var key in item) {\n                if (key === \"parent\" || key === \"childs\") {\n                    continue;\n                }\n                itemCopy[key] = item[key];\n            }\n            if (fn) {\n                itemCopy = fn(itemCopy);\n            }\n            if (_this.haveChilds(item.id)) {\n                itemCopy.childs = _this._serialize(item.id, fn);\n            }\n            return itemCopy;\n        }, parent, false);\n    };\n    return TreeCollection;\n}(datacollection_1.DataCollection));\nexports.TreeCollection = TreeCollection;\n\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(__webpack_require__(66));\n__export(__webpack_require__(19));\n\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction normalizeArray(obj, name) {\n    if (!obj[name]) {\n        return;\n    }\n    if (typeof obj[name] === \"string\") {\n        obj[name] = [{\n                text: \"\" + obj[name]\n            }];\n    }\n    else {\n        obj[name] = obj[name].map(function (el) {\n            if (typeof el === \"string\") {\n                el = { text: el };\n            }\n            return el;\n        });\n    }\n}\nfunction normalizeColumns(columns) {\n    for (var _i = 0, columns_1 = columns; _i < columns_1.length; _i++) {\n        var col = columns_1[_i];\n        col.$cellCss = col.$cellCss || {};\n        normalizeArray(col, \"header\");\n        normalizeArray(col, \"footer\");\n        col.width = col.width || 100;\n    }\n}\nexports.normalizeColumns = normalizeColumns;\nfunction countColumns(config, columns) {\n    var headerRowsCount = 0;\n    var totalWidth = 0;\n    var colspans = false;\n    var rowsHeadersCount = 0;\n    var footer = false;\n    columns.map(function (col) {\n        headerRowsCount = Math.max(headerRowsCount, col.header.length);\n        totalWidth += col.width;\n        if (col.footer && !footer) {\n            footer = true;\n        }\n        if (!colspans) {\n            for (var _i = 0, _a = col.header; _i < _a.length; _i++) {\n                var head = _a[_i];\n                if (head.colspan) {\n                    colspans = true;\n                    return;\n                }\n            }\n        }\n    });\n    // fill missing cells\n    columns.map(function (col) {\n        if (col.header.length < headerRowsCount) {\n            for (var i = 0; i < headerRowsCount; i++) {\n                col.header[i] = col.header[i] || { text: \"\" };\n            }\n        }\n        col.header.map(function (head) {\n            head.css = head.css || \"\";\n            if (!head.text && !/dhx_cell_empty/.test(head.css)) {\n                head.css += \" dhx_cell_empty\";\n            }\n        });\n        // find header columns indexes\n        if (col.header[0].text === \"\") {\n            rowsHeadersCount++;\n        }\n    });\n    config.$totalWidth = totalWidth;\n    config.$headerLevel = headerRowsCount;\n    config.$colspans = colspans;\n    config.$footer = footer;\n    return rowsHeadersCount;\n}\nexports.countColumns = countColumns;\nfunction calculatePositions(width, height, scroll, conf) {\n    var avrColWidth = conf.$totalWidth / conf.columns.length;\n    var colPerPage = Math.round(width / avrColWidth);\n    var rowPerPage = Math.round(height / conf.rowHeight);\n    var reserve = 1;\n    var y = Math.round(scroll.top / conf.rowHeight) || 0;\n    var yStart = y - reserve >= 0 ? y - reserve : 0;\n    var yEnd = y + rowPerPage + reserve;\n    var x = 0;\n    var scrollLeft = scroll.left;\n    for (var i = 0; i < conf.columns.length; i++) {\n        var col = conf.columns[i];\n        scrollLeft = scrollLeft - col.width;\n        if (scrollLeft + (avrColWidth / 2) > 0) {\n            x++;\n        }\n        else {\n            break;\n        }\n    }\n    var xStart = x - reserve >= 0 ? x - reserve : 0;\n    var xEnd = x + colPerPage + reserve;\n    return {\n        xStart: xStart,\n        xEnd: xEnd,\n        yStart: yStart,\n        yEnd: yEnd\n    };\n}\nexports.calculatePositions = calculatePositions;\nfunction getUnique(arr, name) {\n    return arr\n        .filter(function (item, index, array) {\n        return index === array.reduce(function (acc, t, i) { return (acc = t[name] === item[name] ? i : acc); }, -1);\n    })\n        .sort(function (a, b) { return a[name] > b[name] ? 1 : -1; });\n}\nexports.getUnique = getUnique;\n\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nvar types_1 = __webpack_require__(19);\nfunction onInput(eventSystem, colId, filter, e) {\n    eventSystem.fire(types_1.GridEvents.headerInput, [e.target.value, colId, filter]);\n}\nfunction applyMathMethod(column, config, method) {\n    var id = column.id;\n    var columnData = config.data.map(function (item) { return parseFloat(item[id]) || 0; });\n    var roots = columnData;\n    if (config.type === \"tree\") {\n        roots = config.data.reduce(function (total, item) {\n            if (item.$level === 0) {\n                total.push((parseFloat(item[id]) || 0));\n            }\n            return total;\n        }, []);\n    }\n    return method(columnData, roots);\n}\nexports.content = {\n    inputFilter: {\n        toHtml: function (column, config) { return dom_1.el(\"input\", {\n            type: \"text\",\n            class: \"dhx_grid_filter\",\n            oninput: [onInput, config.events, column.id, \"inputFilter\"],\n            style: {\n                width: column.width - 20\n            },\n            _key: column.id\n        }); },\n        match: function (value, match) { return new RegExp(\"^\" + match, \"i\").test(value); }\n    },\n    selectFilter: {\n        toHtml: function (column, config) { return dom_1.el(\"select\", {\n            type: \"text\",\n            class: \"dhx_grid_filter\",\n            oninput: [onInput, config.events, column.id, \"selectFilter\"],\n            style: {\n                width: column.width - 20\n            },\n            _key: column.id\n        }, [\n            dom_1.el(\"option\", { value: \"\" }, \"\")\n        ].concat(column.$uniqueData.map(function (col) { return dom_1.el(\"option\", { value: col[column.id] }, col[column.id]); }))); },\n        match: function (value, match) { return value === match; }\n    },\n    sum: {\n        calculate: function (_col, roots) { return roots.reduce(function (sum, c) { return sum += parseFloat(c) || 0; }, 0).toFixed(3); },\n        toHtml: function (column, config) { return applyMathMethod(column, config, this.calculate); }\n    },\n    avg: {\n        calculate: function (_col, roots) { return (roots.reduce(function (sum, c) { return sum += c; }, 0) / _col.length).toFixed(3); },\n        toHtml: function (column, config) { return applyMathMethod(column, config, this.calculate); }\n    },\n    min: {\n        calculate: function (col) { return Math.min.apply(Math, col).toFixed(3); },\n        toHtml: function (column, config) { return applyMathMethod(column, config, this.calculate); }\n    },\n    max: {\n        calculate: function (col) { return Math.max.apply(Math, col).toFixed(3); },\n        toHtml: function (column, config) { return applyMathMethod(column, config, this.calculate); }\n    },\n    count: {\n        calculate: function (_col, roots) { return roots.reduce(function (count, c) { return count += c; }, 0); },\n        toHtml: function (column, config) { return applyMathMethod(column, config, this.calculate); }\n    }\n};\n\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = __webpack_require__(2);\nvar dom_1 = __webpack_require__(0);\nvar html_1 = __webpack_require__(3);\nvar ts_message_1 = __webpack_require__(26);\nvar types_1 = __webpack_require__(9);\nvar helper_1 = __webpack_require__(21);\nvar itemfactory_1 = __webpack_require__(24);\nvar MenuBase_1 = __webpack_require__(25);\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar(element, config) {\n        var _this = _super.call(this, element, core_1.extend({\n            navigationType: \"click\"\n        }, config)) || this;\n        _this._currentRoot = null;\n        _this._factory = itemfactory_1.createFactory(types_1.ItemType.button);\n        var render = function () { return _this._draw(); };\n        _this.mount(element, dom_1.create({ render: render }));\n        return _this;\n    }\n    Toolbar.prototype.getValues = function () {\n        var state = {};\n        this.data.eachChild(this.data.getRoot(), function (item) {\n            if (item.twoState) {\n                state[item.id] = item.active;\n            }\n            else if (item.type === types_1.ItemType.input) {\n                state[item.id] = item.value;\n            }\n        }, false);\n        for (var key in this._groups) {\n            if (this._groups[key].active) {\n                state[key] = this._groups[key].active;\n            }\n        }\n        return state;\n    };\n    Toolbar.prototype.setValues = function (state) {\n        for (var key in state) {\n            if (this._groups[key]) {\n                if (this._groups[key].active) {\n                    this.data.update(this._groups[key].active, { active: false });\n                    this._groups[key].active = state[key];\n                    this.data.update(state[key], { active: true });\n                }\n            }\n            else {\n                var item = this.data.getItem(key);\n                if (item.type === types_1.ItemType.input) {\n                    this.data.update(key, { value: state[key] });\n                }\n                else {\n                    this.data.update(key, { active: state[key] });\n                }\n            }\n        }\n    };\n    Toolbar.prototype._initHandlers = function () {\n        var _this = this;\n        _super.prototype._initHandlers.call(this);\n        this._onInput = function (e) {\n            var id = html_1.locate(e);\n            _this.data.update(id, { value: e.target.value });\n        };\n        this._showTooltip = function (e) {\n            var elem = html_1.locateNode(e);\n            if (!elem) {\n                return;\n            }\n            var id = elem.getAttribute(\"dhx_id\");\n            var item = _this.data.getItem(id);\n            if (item.tooltip) {\n                ts_message_1.tooltip(item.tooltip, {\n                    node: elem,\n                    position: ts_message_1.Position.bottom\n                });\n            }\n        };\n    };\n    Toolbar.prototype._draw = function () {\n        var _this = this;\n        return dom_1.el(\".toolbar.dhx_widget\" + (this.config.css ? \".\" + this.config.css : \"\"), {\n            dhx_widget_id: this._uid,\n            onclick: this._handlers.onclick,\n            oninput: this._onInput,\n            onmouseover: this._showTooltip\n        }, this.data.map(function (item) { return _this._factory(item, _this.events); }, this.data.getRoot(), false));\n    };\n    Toolbar.prototype._getMode = function (item, root) {\n        return item.id === root ? \"bottom\" : \"right\";\n    };\n    Toolbar.prototype._close = function () {\n        this._activeMenu = null;\n        this._activePosition = null;\n        this._currentRoot = null;\n        this.paint();\n    };\n    Toolbar.prototype._normalizeData = function () {\n        var _this = this;\n        var root = this.data.getRoot();\n        var groups = {};\n        this.data.eachChild(root, function (item) {\n            if (item.type === types_1.ItemType.menuItem || item.type === types_1.ItemType.selectButton) {\n                if (_this.data.haveChilds(item.id)) {\n                    _this.data.eachChild(item.id, function (child) { return child.type = child.type || types_1.ItemType.menuItem; }, false);\n                    if (item.parent !== root) {\n                        item.$openIcon = \"right\";\n                    }\n                    else {\n                        item.$openIcon = \"bot\";\n                    }\n                }\n            }\n            if (item.group) {\n                helper_1.addInGroups(groups, item);\n            }\n        }, true);\n        this._groups = groups;\n    };\n    Toolbar.prototype._setRoot = function (id) {\n        if (this.data.getParent(id) === this.data.getRoot()) { // if we clicked on item which not belong root, we cant set it as root item\n            this._currentRoot = id;\n        }\n    };\n    return Toolbar;\n}(MenuBase_1.MenuBase));\nexports.Toolbar = Toolbar;\n\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar format_1 = __webpack_require__(16);\nvar main_1 = __webpack_require__(1);\nfunction getLastCopyingCell(firstCell, lastCell) {\n    var isRangeLargeByX;\n    var isRange = main_1.isRangeId(firstCell);\n    if (isRange) {\n        var _a = firstCell.split(\":\"), first = _a[0], last = _a[1];\n        isRangeLargeByX = getCellsDiff(first, last).isLargerByX;\n        firstCell = last;\n    }\n    var firstCellIndex = main_1.getCellIndex(firstCell);\n    var _b = getCellsDiff(firstCell, lastCell), x = _b.x, y = _b.y, isLargerByX = _b.isLargerByX;\n    var nextY = firstCellIndex.row + y;\n    var nextX = firstCellIndex.col + x;\n    var col = isLargerByX ? nextX : firstCellIndex.col;\n    var row = isLargerByX ? firstCellIndex.row : nextY;\n    return main_1.getCellNameByIndex(row, col);\n}\nexports.getLastCopyingCell = getLastCopyingCell;\nfunction getCellsDiff(firstCell, lastCell) {\n    var firstCellIndex = main_1.getCellIndex(firstCell);\n    var lastCellIndex = main_1.getCellIndex(lastCell);\n    var x = lastCellIndex.col - firstCellIndex.col;\n    var y = lastCellIndex.row - firstCellIndex.row;\n    return {\n        x: x,\n        y: y,\n        isLargerByX: Math.abs(x) > Math.abs(y)\n    };\n}\nexports.getCellsDiff = getCellsDiff;\nfunction getProgressionStep(progression) {\n    var items = progression.map(function (item) { return parseFloat(item); });\n    var sum = items.reduce(function (total, elem) { return total + elem; }, 0);\n    var len = items.length;\n    return (2 * (sum / len) - 2 * items[0]) / (len - 1);\n}\nexports.getProgressionStep = getProgressionStep;\nfunction getAutoFilledCells(values, focused, selected) {\n    var numbers = values.filter(function (item) { return format_1.isNumeric(item); });\n    if (numbers.length === 1) {\n        numbers.push(+numbers[0] + 1);\n    }\n    var focusedCellsArr = main_1.getCellsArray(focused);\n    var step = getProgressionStep(numbers);\n    var isCellGreater = function (a, b) {\n        var aa = main_1.getCellIndex(a);\n        var bb = main_1.getCellIndex(b);\n        if (aa.row === bb.row) {\n            return aa.col > bb.col;\n        }\n        else {\n            return aa.row > bb.row;\n        }\n    };\n    var last = parseFloat(numbers[numbers.length - 1]);\n    var current = 0;\n    var focusedFirst = focused.split(\":\")[0];\n    var selectedFirst = selected.split(\":\")[0];\n    var negativeDir = isCellGreater(focusedFirst, selectedFirst);\n    if (negativeDir) {\n        step = -step;\n        last = parseFloat(numbers[0]);\n        current = numbers.length - 1;\n    }\n    var targetCells = main_1.getCellsArray(selected).filter(function (c) { return focusedCellsArr.indexOf(c) === -1; });\n    var res = targetCells.map(function () {\n        var newVal = values[current];\n        if (format_1.isNumeric(values[current])) {\n            last = last + step;\n            newVal = last.toFixed(5);\n        }\n        if (negativeDir) {\n            current = values[current - 1] !== undefined ? current - 1 : numbers.length - 1;\n        }\n        else {\n            current = values[current + 1] !== undefined ? current + 1 : 0;\n        }\n        return newVal;\n    });\n    if (negativeDir) {\n        res = res.reverse();\n    }\n    return {\n        cells: targetCells[0] + \":\" + targetCells[targetCells.length - 1],\n        value: res\n    };\n}\nexports.getAutoFilledCells = getAutoFilledCells;\n\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CssManager_1 = __webpack_require__(43);\nexports.css = CssManager_1.cssManager;\nvar en_1 = __webpack_require__(6);\nvar ts_message_1 = __webpack_require__(26);\nexports.message = ts_message_1.message;\nvar d = window.dhx = window.dhx || {};\nexports.i18n = d.i18n || {};\nexports.i18n.setLocale = function (component, value) {\n    var target = exports.i18n[component];\n    for (var key in value) {\n        target[key] = value[key];\n    }\n};\nexports.i18n.spreadsheet = exports.i18n.spreadsheet || en_1.default;\nd.css = d.css || CssManager_1.cssManager;\n__webpack_require__(50);\nvar Spreadsheet_1 = __webpack_require__(53);\nexports.Spreadsheet = Spreadsheet_1.Spreadsheet;\n\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = __webpack_require__(2);\nvar CssManager = /** @class */ (function () {\n    function CssManager() {\n        this._classes = {};\n        var styles = document.createElement(\"style\");\n        styles.id = \"dhx_generated_styles\";\n        this._styleCont = document.head.appendChild(styles);\n    }\n    CssManager.prototype.update = function () {\n        // move style element to the bottom of head\n        document.head.appendChild(this._styleCont);\n        this._styleCont.innerHTML = this._generateCss();\n    };\n    CssManager.prototype.remove = function (className) {\n        delete this._classes[className];\n        this.update();\n    };\n    CssManager.prototype.add = function (cssList, customId, silent) {\n        if (silent === void 0) { silent = false; }\n        var cssString = this._toCssString(cssList);\n        var id = this._findSameClassId(cssString);\n        if (id && customId && customId !== id) {\n            this._classes[customId] = this._classes[id];\n            return customId;\n        }\n        if (id) {\n            return id;\n        }\n        return this._addNewClass(cssString, customId, silent);\n    };\n    CssManager.prototype.get = function (className) {\n        if (this._classes[className]) {\n            var props = {};\n            var css = this._classes[className].split(\";\");\n            for (var _i = 0, css_1 = css; _i < css_1.length; _i++) {\n                var item = css_1[_i];\n                if (item) {\n                    var prop = item.split(\":\");\n                    props[prop[0]] = prop[1];\n                }\n            }\n            return props;\n        }\n        return null;\n    };\n    CssManager.prototype._findSameClassId = function (cssString) {\n        for (var key in this._classes) {\n            if (cssString === this._classes[key]) {\n                return key;\n            }\n        }\n        return null;\n    };\n    CssManager.prototype._addNewClass = function (cssString, customId, silent) {\n        var id = customId || \"dhx_generated_class_\" + core_1.uid();\n        this._classes[id] = cssString;\n        if (!silent) {\n            this.update();\n        }\n        return id;\n    };\n    CssManager.prototype._toCssString = function (cssList) {\n        var cssString = \"\";\n        for (var key in cssList) {\n            var prop = cssList[key];\n            var name_1 = key.replace(/[A-Z]{1}/g, function (letter) { return \"-\" + letter.toLowerCase(); });\n            cssString += name_1 + \":\" + prop + \";\";\n        }\n        return cssString;\n    };\n    CssManager.prototype._generateCss = function () {\n        var result = \"\";\n        for (var key in this._classes) {\n            var cssProps = this._classes[key];\n            result += \".\" + key + \"{\" + cssProps + \"}\\n\";\n        }\n        return result;\n    };\n    return CssManager;\n}());\nexports.CssManager = CssManager;\nexports.cssManager = new CssManager();\n\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports) {\n\nif (Element && !Element.prototype.matches) {\n    var proto = Element.prototype;\n    proto.matches = proto.matchesSelector ||\n        proto.mozMatchesSelector || proto.msMatchesSelector ||\n        proto.oMatchesSelector || proto.webkitMatchesSelector;\n}\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Promise) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar en_1 = __webpack_require__(49);\nfunction blockKeys(e) {\n    var active = document.activeElement;\n    if (!active.classList.contains(\"apply-button\") && !active.classList.contains(\"reject-button\")) {\n        e.preventDefault();\n    }\n}\nfunction blockScreen(css) {\n    var blocker = document.createElement(\"div\");\n    blocker.className = \"dhx-blocker \" + (css || \"\");\n    document.body.appendChild(blocker);\n    document.addEventListener(\"keydown\", blockKeys);\n    return function () {\n        document.body.removeChild(blocker);\n        document.removeEventListener(\"keydown\", blockKeys);\n    };\n}\nexports.blockScreen = blockScreen;\nfunction alert(props) {\n    var apply = props.buttons && props.buttons[0] ? props.buttons[0] : en_1.default.apply;\n    var unblock = blockScreen(props.blockerCss);\n    return new Promise(function (res) {\n        var alertBox = document.createElement(\"div\");\n        alertBox.className = \"dhx-alert \" + (props.css || \"\");\n        alertBox.innerHTML = \"\\n\\t\\t\\t<div class=\\\"message-box-header\\\">\\n\\t\\t\\t\\t<div class=\\\"mesage-box-title\\\">\" + props.header + \"</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"alert-message\\\">\" + props.text + \"</div>\\n\\t\\t\\t<div class=\\\"action-button \" + (props.buttonsAlignment ? props.buttonsAlignment : \"\") + \"\\\">\\n\\t\\t\\t\\t<button class=\\\"apply-button alert-btn dhx_btn dhx_btn--flat\\\">\" + apply + \"</button>\\n\\t\\t\\t</div>\";\n        document.body.appendChild(alertBox);\n        alertBox.querySelector(\".apply-button\").focus();\n        alertBox.querySelector(\"button\").addEventListener(\"click\", function () {\n            unblock();\n            document.body.removeChild(alertBox);\n            res(true);\n        });\n    });\n}\nexports.alert = alert;\nfunction confirm(props) {\n    var apply = props.buttons && props.buttons[1] ? props.buttons[1] : en_1.default.apply;\n    var reject = props.buttons && props.buttons[0] ? props.buttons[0] : en_1.default.reject;\n    var unblock = blockScreen(props.blockerCss);\n    return new Promise(function (res) {\n        var answer = function (val) {\n            unblock();\n            confirmBox.removeEventListener(\"click\", clickHandler);\n            document.body.removeChild(confirmBox);\n            res(val);\n        };\n        var confirmBox = document.createElement(\"div\");\n        confirmBox.className = \"dhx-confirm \" + (props.css || \"\");\n        confirmBox.innerHTML = \"\\n\\t\\t\\t<div class=\\\"message-box-header\\\">\\n\\t\\t\\t\\t<div class=\\\"mesage-box-title\\\">\" + props.header + \"</div>\\n\\t\\t\\t</div>\\n\\t\\t\\t<div class=\\\"confirm-message\\\">\" + props.text + \"</div>\\n\\t\\t\\t<div class=\\\"action-button \" + (props.buttonsAlignment ? props.buttonsAlignment : \"\") + \"\\\">\\n\\t\\t\\t\\t<button class=\\\"reject-button dhx_btn dhx_btn--link\\\">\" + reject + \"</button>\\n\\t\\t\\t\\t<button class=\\\"apply-button dhx_btn dhx_btn--flat\\\">\" + apply + \"</button>\\n\\t\\t\\t</div>\";\n        document.body.appendChild(confirmBox);\n        confirmBox.querySelector(\".reject-button\").focus();\n        var clickHandler = function (e) {\n            if (e.target.tagName === \"BUTTON\") {\n                answer(e.target.classList.contains(\"apply-button\"));\n            }\n        };\n        confirmBox.addEventListener(\"click\", clickHandler);\n    });\n}\nexports.confirm = confirm;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(10)))\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, window, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, window, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(window, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\n__webpack_require__(47);\nexports.setImmediate = setImmediate;\nexports.clearImmediate = clearImmediate;\n\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global, process) {(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(29), __webpack_require__(48)))\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar locale = {\n    apply: \"apply\",\n    reject: \"reject\"\n};\nexports.default = locale;\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n/* 51 */,\n/* 52 */,\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ts_colorpicker_1 = __webpack_require__(54);\nvar dom_1 = __webpack_require__(0);\nvar events_1 = __webpack_require__(7);\nvar html_1 = __webpack_require__(3);\nvar view_1 = __webpack_require__(8);\nvar ts_data_1 = __webpack_require__(11);\nvar ts_grid_1 = __webpack_require__(37);\nvar ts_layout_1 = __webpack_require__(72);\nvar ts_toolbar_1 = __webpack_require__(20);\nvar ActionsManager_1 = __webpack_require__(22);\nvar context_1 = __webpack_require__(102);\nvar menu_1 = __webpack_require__(103);\nvar toolbar_1 = __webpack_require__(104);\nvar EditLine_1 = __webpack_require__(105);\nvar actions_1 = __webpack_require__(15);\nvar buffer_1 = __webpack_require__(106);\nvar CustomCsvDriver_1 = __webpack_require__(107);\nvar format_1 = __webpack_require__(16);\nvar main_1 = __webpack_require__(1);\nvar selection_1 = __webpack_require__(41);\nvar toolbar_2 = __webpack_require__(23);\nvar hotkeys_1 = __webpack_require__(108);\nvar en_1 = __webpack_require__(6);\nvar Selection_1 = __webpack_require__(111);\nvar types_1 = __webpack_require__(4);\nvar core_1 = __webpack_require__(2);\nvar Exporter_1 = __webpack_require__(113);\nvar XlsxDriver_1 = __webpack_require__(114);\nvar XlsxProxy_1 = __webpack_require__(115);\nvar Spreadsheet = /** @class */ (function (_super) {\n    __extends(Spreadsheet, _super);\n    function Spreadsheet(container, config) {\n        var _this = _super.call(this, container, config) || this;\n        _this.container = html_1.toNode(container);\n        _this._sizes = {\n            rowsCount: 1000,\n            colsCount: 200\n        };\n        _this.config = main_1.extendConfig({\n            rowsCount: { validate: function (val) { return val >= 0; }, default: 1000 },\n            colsCount: { validate: function (val) { return val >= 0; }, default: 25 },\n            menu: { validate: function (val) { return typeof val === \"boolean\"; }, default: false },\n            editLine: { validate: function (val) { return typeof val === \"boolean\"; }, default: true },\n            readonly: { validate: function (val) { return typeof val === \"boolean\"; }, default: false },\n            autoFormat: { validate: function (val) { return typeof val === \"boolean\"; }, default: true },\n            importModulePath: { validate: function (val) { return typeof val === \"string\"; }, default: \"https://cdn.dhtmlx.com/libs/excel2json/1.0/worker.js\" },\n            exportModulePath: { validate: function (val) { return typeof val === \"string\"; }, default: \"https://cdn.dhtmlx.com/libs/json2excel/1.0/worker.js\" },\n            formats: { validate: function (val) { return val instanceof Array; }, default: [] },\n        }, _this.config);\n        _this.events = new events_1.EventSystem();\n        format_1.initFormat(_this);\n        _this._initLayout();\n        _this._colorPicker = new ts_colorpicker_1.Colorpicker();\n        _this._setEventsHandlers();\n        _this._actionsManager = new ActionsManager_1.ActionsManager({\n            spreadsheet: _this,\n            editLine: _this._editLine,\n            grid: _this._grid\n        });\n        _this._buffer = new buffer_1.BufferManager(_this, _this._grid, _this._callAction);\n        _this.selection = new Selection_1.Selection(_this, _this._grid, _this._buffer);\n        var gridRoot = _this._grid.getRootView();\n        gridRoot.hooks = gridRoot.hooks || {};\n        gridRoot.hooks.didMount = function (vm) {\n            if (!_this.config.readonly) {\n                vm.node.el.addEventListener(\"contextmenu\", function (e) {\n                    _this.contextMenu.data.update(\"lock\", {\n                        value: _this.isLocked(_this.selection.getSelectedCell()) ? en_1.default.unlockCell : en_1.default.lockCell\n                    });\n                    _this.contextMenu.showAt(e);\n                    e.preventDefault();\n                });\n            }\n            gridRoot.hooks.didRedraw = function (view) {\n                _this.events.fire(types_1.SpreadsheetEvents.gridRedraw, [view]);\n            };\n        };\n        _this._generateGridStruct();\n        hotkeys_1.initHotkeys(_this, _this._grid, _this._buffer);\n        _this.selection.setSelectedCell(\"A1\");\n        _this.export = new Exporter_1.Exporter(_this, _this._grid);\n        return _this;\n    }\n    Spreadsheet.prototype.destructor = function () {\n        this._layout.getRootView().unmount();\n        this.contextMenu.destructor();\n        this.menu.destructor();\n        this.toolbar.destructor();\n    };\n    Spreadsheet.prototype.paint = function () {\n        if (this.config.rowsCount !== this._sizes.rowsCount ||\n            this.config.colsCount !== this._sizes.colsCount) {\n            this._generateGridStruct();\n        }\n        this._layout.paint();\n        this._grid.paint();\n    };\n    Spreadsheet.prototype.load = function (url, type) {\n        var _this = this;\n        // [todo]\n        if (type === \"xlsx\") {\n            if (!main_1.isWasmSupported()) {\n                throw new Error(\"WebAssembly is not supported by your browser\");\n            }\n            this._xlsxProxy = this._xlsxProxy || new XlsxProxy_1.XlsxProxy(this);\n            return this._xlsxProxy.load(url).then(function (data) {\n                _this.parse(data, type);\n            });\n        }\n        var proxy = ts_data_1.toProxy(url);\n        return proxy.load().then(function (data) { _this.parse(data, type); });\n    };\n    Spreadsheet.prototype.parse = function (data, type) {\n        var _a;\n        if (type === \"csv\") {\n            type = new CustomCsvDriver_1.CustomCsvDriver();\n        }\n        if (type === \"xlsx\") {\n            type = new XlsxDriver_1.XlsxDriver();\n        }\n        var driver = ts_data_1.toDataDriver(type || \"json\");\n        data = driver.toJsonArray(data, this, this._grid);\n        this._grid.data.map(function (item) {\n            for (var key in item) {\n                if (key !== \"id\" && key !== \"$index\") {\n                    item[key] = \"\";\n                }\n            }\n        });\n        this._grid.config.columns.map(function (col) {\n            col.$cellCss = {};\n        });\n        if (\"styles\" in data) {\n            var styles = data.styles;\n            for (var key in styles) {\n                var css = styles[key];\n                dhx.css.add(css, key);\n            }\n            data = data.data;\n            dhx.css.update();\n        }\n        this._updateGridSizes(data);\n        for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n            var item = data_1[_i];\n            var id = main_1.getCellIds(this._grid, item.cell);\n            var clean = format_1.getCleanValue(item.value);\n            var isNumber = format_1.isNumeric(clean);\n            var value = void 0;\n            var format = void 0;\n            if (isNumber) {\n                format = item.format || (this.config.autoFormat ? format_1.detectCellFormat(item.value) : \"\");\n                if (this.config.autoFormat && format.indexOf(\"%\") > -1) {\n                    value = (parseFloat(clean) / 100).toFixed(4);\n                }\n                else {\n                    value = clean;\n                }\n            }\n            else {\n                value = item.value;\n            }\n            this._grid.data.update(id.row, (_a = {},\n                _a[id.col] = value,\n                _a), true);\n            if (item.css) {\n                this._grid.addCellCss(id.row, id.col, item.css);\n                main_1.updateCellInfo(this._grid, item.cell.toUpperCase(), {\n                    css: item.css\n                });\n            }\n            main_1.updateCellInfo(this._grid, item.cell.toUpperCase(), {\n                format: format\n            });\n        }\n        this._grid.data.events.fire(ts_data_1.DataEvents.change);\n        this.selection.setSelectedCell(\"A1\");\n    };\n    Spreadsheet.prototype.serialize = function () {\n        var _this = this;\n        var data = [];\n        var styles = {};\n        this._grid.data.map(function (item) {\n            for (var key in item) {\n                if (key !== \"id\" && key !== \"$index\") {\n                    var cell = main_1.getCellNameById(_this._grid, item.id, key);\n                    var value = item[key];\n                    var cellObj = { cell: cell };\n                    if (item.$info && item.$info[key] && item.$info[key].css) {\n                        cellObj.css = item.$info[key].css;\n                        styles[cellObj.css] = dhx.css.get(cellObj.css);\n                    }\n                    if (item.$info && item.$info[key] && item.$info[key].format !== undefined) {\n                        var formatObj = format_1.getFormat(format_1.getDefaultFormatsMap()[item.$info[key].format]);\n                        cellObj.format = (formatObj && formatObj.id) || item.$info[key].format;\n                    }\n                    if (value) {\n                        cellObj.value = value;\n                    }\n                    if (cell && (cellObj.value || cellObj.css)) {\n                        data.push(cellObj);\n                    }\n                }\n            }\n        });\n        var columns = this._grid.config.columns.reduce(function (sizes, col, i) {\n            if (i !== 0 && col.width !== 120) {\n                sizes[i] = { width: col.width };\n            }\n            return sizes;\n        }, {});\n        if (Object.keys(styles).length > 0) {\n            return {\n                data: data,\n                styles: styles,\n                columns: columns,\n                formats: this.config.formats\n            };\n        }\n        return data;\n    };\n    Spreadsheet.prototype.setValue = function (cell, value) {\n        if (!cell) {\n            return;\n        }\n        this._checkForMissedCells(cell);\n        if (!this.events.fire(types_1.SpreadsheetEvents.beforeValueChange, [cell, value])) {\n            return;\n        }\n        var id = main_1.getCellIds(this._grid, cell);\n        this._callAction({\n            row: id.row,\n            col: id.col,\n            cell: cell,\n            val: value,\n            action: types_1.Actions.setCellValue,\n            groupAction: types_1.Actions.groupAction\n        });\n        this._grid.paint();\n        this.events.fire(types_1.SpreadsheetEvents.afterValueChange, [cell, value]);\n    };\n    Spreadsheet.prototype.getValue = function (cell) {\n        if (!cell) {\n            return;\n        }\n        cell = cell.toUpperCase();\n        if (main_1.isRangeId(cell)) {\n            var values_1 = [];\n            this.eachCell(function (_c, v) {\n                values_1.push(v);\n            }, cell);\n            return values_1;\n        }\n        var id = main_1.getCellIds(this._grid, cell);\n        var item = this._grid.data.getItem(id.row);\n        if (item) {\n            return item[id.col];\n        }\n    };\n    Spreadsheet.prototype.eachCell = function (cb, range) {\n        range = range || this.selection.getSelectedCell();\n        var cells = main_1.getCellsArray(range);\n        for (var _i = 0, cells_1 = cells; _i < cells_1.length; _i++) {\n            var cell = cells_1[_i];\n            var _a = main_1.getCellIds(this._grid, cell), row = _a.row, col = _a.col;\n            var rowObj = this._grid.data.getItem(row);\n            var val = rowObj ? rowObj[col] : null;\n            if (val !== undefined) {\n                cb(cell, val);\n            }\n        }\n    };\n    Spreadsheet.prototype.getStyle = function (cell) {\n        var _this = this;\n        if (!cell) {\n            return;\n        }\n        if (main_1.isRangeId(cell)) {\n            var styles_1 = [];\n            this.eachCell(function (c) {\n                styles_1.push(_this.getStyle(c) || {});\n            }, cell);\n            return styles_1;\n        }\n        var info = main_1.getCellInfo(this._grid, cell);\n        return dhx.css.get(info.css);\n    };\n    Spreadsheet.prototype.setStyle = function (cell, style) {\n        if (!cell || !style) {\n            return;\n        }\n        if (!this.events.fire(types_1.SpreadsheetEvents.beforeStyleChange, [cell, style])) {\n            return;\n        }\n        var _a = main_1.getCellIds(this._grid, cell), row = _a.row, col = _a.col;\n        if (!Object.keys(style).length) {\n            this._callAction({\n                row: row,\n                col: col,\n                cell: cell,\n                action: types_1.Actions.removeCellStyles,\n                groupAction: types_1.Actions.groupAction\n            });\n            return;\n        }\n        this._callAction({\n            val: style,\n            row: row,\n            col: col,\n            cell: cell,\n            action: types_1.Actions.setCellStyle,\n            groupAction: types_1.Actions.groupAction\n        });\n    };\n    Spreadsheet.prototype.getFormat = function (cell) {\n        var _this = this;\n        if (main_1.isRangeId(cell)) {\n            var formats_1 = [];\n            this.eachCell(function (c) {\n                formats_1.push(main_1.getCellInfo(_this._grid, c).format || \"\");\n            }, cell);\n            return formats_1;\n        }\n        var formatMask = main_1.getCellInfo(this._grid, cell).format;\n        var formatAlias = format_1.getDefaultFormatsMap()[formatMask];\n        return formatAlias || formatMask;\n    };\n    Spreadsheet.prototype.setFormat = function (cell, format) {\n        this._callAction({\n            val: format,\n            cell: cell,\n            action: types_1.Actions.setCellFormat,\n            groupAction: types_1.Actions.groupAction\n        });\n    };\n    Spreadsheet.prototype.isLocked = function (cell) {\n        var _this = this;\n        var id = main_1.getCellIds(this._grid, cell);\n        if (\"start\" in id) {\n            var locked_1 = false;\n            this.eachCell(function (cellId) {\n                if (!locked_1) {\n                    var info = main_1.getCellInfo(_this._grid, cellId).locked;\n                    locked_1 = info;\n                }\n            }, cell);\n            return locked_1;\n        }\n        var isLocked = main_1.getCellInfo(this._grid, cell).locked;\n        return !!isLocked;\n    };\n    Spreadsheet.prototype.lock = function (cell) {\n        var id = main_1.getCellIds(this._grid, cell);\n        this._callAction({\n            row: id.row,\n            col: id.col,\n            val: true,\n            cell: cell,\n            action: types_1.Actions.lockCell,\n            groupAction: types_1.Actions.groupAction\n        });\n        this._grid.paint();\n    };\n    Spreadsheet.prototype.unlock = function (cell) {\n        var id = main_1.getCellIds(this._grid, cell);\n        this._callAction({\n            row: id.row,\n            col: id.col,\n            val: false,\n            cell: cell,\n            action: types_1.Actions.lockCell,\n            groupAction: types_1.Actions.groupAction\n        });\n        this._grid.paint();\n    };\n    Spreadsheet.prototype.addRow = function (cell) {\n        if (!this.events.fire(types_1.SpreadsheetEvents.beforeRowAdd, [cell])) {\n            return;\n        }\n        this._callAction({\n            cell: cell,\n            action: types_1.Actions.addRow,\n            groupAction: types_1.Actions.groupRowAction\n        });\n        this.events.fire(types_1.SpreadsheetEvents.afterRowAdd, [cell]);\n    };\n    Spreadsheet.prototype.deleteRow = function (cell) {\n        if (!this.events.fire(types_1.SpreadsheetEvents.beforeRowDelete, [cell])) {\n            return;\n        }\n        var id = main_1.getCellIds(this._grid, cell);\n        this._callAction({\n            row: id.row,\n            col: id.col,\n            cell: cell,\n            action: types_1.Actions.deleteRow,\n            groupAction: types_1.Actions.groupRowAction\n        });\n        this.events.fire(types_1.SpreadsheetEvents.afterRowDelete, [cell]);\n    };\n    Spreadsheet.prototype.addColumn = function (cell) {\n        if (!this.events.fire(types_1.SpreadsheetEvents.beforeColumnAdd, [cell])) {\n            return;\n        }\n        this._callAction({\n            cell: cell,\n            action: types_1.Actions.addColumn,\n            groupAction: types_1.Actions.groupColAction\n        });\n        this.events.fire(types_1.SpreadsheetEvents.afterColumnAdd, [cell]);\n    };\n    Spreadsheet.prototype.deleteColumn = function (cell) {\n        if (!this.events.fire(types_1.SpreadsheetEvents.beforeColumnDelete, [cell])) {\n            return;\n        }\n        this._callAction({\n            cell: cell,\n            action: types_1.Actions.deleteColumn,\n            groupAction: types_1.Actions.groupColAction\n        });\n        this.events.fire(types_1.SpreadsheetEvents.afterColumnDelete, [cell]);\n    };\n    Spreadsheet.prototype.undo = function () {\n        this._actionsManager.undo();\n    };\n    Spreadsheet.prototype.redo = function () {\n        this._actionsManager.redo();\n    };\n    Spreadsheet.prototype.startEdit = function (cell, initialValue) {\n        if (this.config.readonly) {\n            return;\n        }\n        var focused = this.selection.getFocusedCell();\n        if (!cell) {\n            cell = focused;\n        }\n        cell = cell.toUpperCase();\n        this._checkForMissedCells(cell);\n        if (!this.events.fire(types_1.SpreadsheetEvents.beforeEditStart, [cell, initialValue])) {\n            return;\n        }\n        if (this.isLocked(cell)) {\n            return;\n        }\n        if (focused !== cell) {\n            this.endEdit(true);\n            this.selection.setSelectedCell(cell);\n        }\n        var cellInfo = main_1.getCellInfo(this._grid, cell);\n        if (!cellInfo.edited) {\n            main_1.updateCellInfo(this._grid, cell, { edited: true, nextValue: initialValue });\n            this.events.fire(types_1.SpreadsheetEvents.afterEditStart, [cell, initialValue]);\n        }\n    };\n    Spreadsheet.prototype.endEdit = function (withoutSave) {\n        var focused = this.selection.getFocusedCell();\n        var cellInfo = main_1.getCellInfo(this._grid, focused);\n        if (cellInfo.edited) {\n            if (!this.events.fire(types_1.SpreadsheetEvents.beforeEditEnd, [focused, cellInfo.nextValue])) {\n                return;\n            }\n            if (!withoutSave && cellInfo.nextValue !== undefined) {\n                this.setValue(focused, cellInfo.nextValue);\n            }\n            cellInfo.edited = false;\n            cellInfo.nextValue = undefined;\n            this._editLine.setValue(this.getValue(focused));\n            this._editLine.blur();\n            this.events.fire(types_1.SpreadsheetEvents.afterEditEnd, [focused, cellInfo.nextValue]);\n        }\n    };\n    Spreadsheet.prototype._callAction = function (config) {\n        if (!config || this.config.readonly) {\n            return;\n        }\n        if (Array.isArray(config)) {\n            this._actionsManager.execute(config);\n            return;\n        }\n        if (main_1.isRangeId(config.cell)) {\n            this._actionsManager.execute(config.groupAction, config);\n            return;\n        }\n        this._actionsManager.execute(config.action, config);\n    };\n    Spreadsheet.prototype._initLayout = function () {\n        this._grid = new ts_grid_1.Grid(null, {\n            rowHeight: 32,\n            width: 100,\n            height: 100,\n            headerRowHeight: 32,\n            disableHeaderSort: true,\n            splitAt: 1\n        });\n        this.menu = new ts_toolbar_1.Menu(null, { navigationType: \"click\" });\n        this.menu.data.parse(menu_1.getMenuStruct(this.config));\n        this.toolbar = new ts_toolbar_1.Toolbar();\n        var toolbarStruct = toolbar_1.getToolbarStruct(this.config.toolbarBlocks, this.config);\n        this.toolbar.data.parse(toolbarStruct);\n        this.contextMenu = new ts_toolbar_1.ContextMenu();\n        this.contextMenu.data.parse(context_1.getContextMenuStruct());\n        this._editLine = new EditLine_1.EditLine(null, { events: this.events });\n        var layout = this._layout = new ts_layout_1.Layout(this.container, {\n            height: \"100%\", rows: [\n                { id: \"menu\", css: \"menu_wrapper\" },\n                { id: \"toolbar\", css: \"toolbar_wrapper\" },\n                { id: \"editLine\", css: \"editLine_wrapper\" },\n                { id: \"grid\", css: \"dhx-spreadsheet-grid\" },\n            ],\n            css: \"dhx-spreadsheet\"\n        });\n        layout.cell(\"menu\").attach(this.menu, this);\n        layout.cell(\"toolbar\").attach(this.toolbar, this);\n        layout.cell(\"grid\").attach(this._grid, this);\n        layout.cell(\"editLine\").attach(this._editLine, this);\n        if (!this.config.editLine || this.config.readonly) {\n            layout.cell(\"editLine\").hide();\n        }\n        if (!this.config.menu || this.config.readonly) {\n            layout.cell(\"menu\").hide();\n        }\n        if (this.config.readonly || !toolbarStruct || !toolbarStruct.length) {\n            layout.cell(\"toolbar\").hide();\n        }\n        this.mount(null, this._layout.getRootView());\n    };\n    Spreadsheet.prototype._generateGridStruct = function () {\n        var _this = this;\n        var values = this.serialize();\n        var _a = this.config, rowsCount = _a.rowsCount, colsCount = _a.colsCount;\n        if (rowsCount > 70000 || colsCount > 200) {\n            this.config.rowsCount = Math.min(this.config.rowsCount, 70000);\n            this.config.colsCount = Math.min(this.config.colsCount, 200);\n        }\n        var rows = [];\n        for (var i = 1; i <= rowsCount; i++) {\n            var row = { id: \"\" + i, $index: i };\n            for (var k = 1; k <= colsCount; k++) {\n                row[k] = \"\";\n            }\n            rows.push(row);\n        }\n        var cols = [\n            {\n                id: \"$index\",\n                width: 40,\n                header: [{ text: \"\" }],\n                template: function (_val, row) { return _this._grid.data.getIndex(row.id) + 1; }\n            }\n        ];\n        var inputVisible = false;\n        var blurHandler = function (e) {\n            requestAnimationFrame(function () {\n                if (!inputVisible) {\n                    return;\n                }\n                _this._restoreFocus(e);\n            });\n        };\n        var inserted = function (node) {\n            var input = node.el;\n            input.focus();\n            input.setSelectionRange(input.value.length, input.value.length);\n            input.addEventListener(\"blur\", blurHandler);\n            _this._editLine.setValue(input.value);\n            inputVisible = true;\n        };\n        var removed = function () {\n            inputVisible = false;\n            document.removeEventListener(\"blur\", blurHandler);\n        };\n        var onInput = function (cell, e) {\n            if (inputVisible) {\n                _this.events.fire(types_1.SpreadsheetEvents.cellInput, [cell, e.target.value]);\n            }\n        };\n        var selected;\n        this.events.on(types_1.SpreadsheetEvents.gridRedraw, function () {\n            selected = null;\n        });\n        var template = function (val, row, col) {\n            if (!selected) {\n                selected = _this.selection.getFocusedCell();\n            }\n            var getProp = function (prop) { return row.$info && row.$info[col.id] && row.$info[col.id][prop]; };\n            var isLocked = getProp(\"locked\");\n            var isEdit = getProp(\"edited\");\n            var nextValue = getProp(\"nextValue\");\n            var css = getProp(\"css\");\n            var styles = dhx.css.get(css);\n            var format = getProp(\"format\") || \"\";\n            var cell = col.$letter + row.$index;\n            var cellValue = (nextValue === undefined || nextValue === null) ? val : nextValue;\n            if (selected && isEdit) {\n                return dom_1.el(\"input.dhx_cell_input\", {\n                    oninput: [onInput, cell],\n                    _hooks: {\n                        didInsert: inserted,\n                        didRemove: removed\n                    },\n                    class: css,\n                    _key: \"selection_input\",\n                    dhx_id: \"cell_input\",\n                    value: cellValue\n                });\n            }\n            var typedCellValue = format ?\n                format_1.getFormattedValue(cellValue, format)\n                : cellValue;\n            // [dirty]\n            var cellFloat = (styles && styles[\"text-align\"] === \"right\") ? \"right\" : \"none\";\n            return dom_1.el(\".dhx_spreadsheet_cell.dhx_noselect\", {\n                style: {\n                    float: cellFloat\n                }\n            }, [\n                isLocked && dom_1.el(\".dhx_lock_icon.dxi.dxi-key\"),\n                typedCellValue\n            ]);\n        };\n        for (var i = 1; i <= colsCount; i++) {\n            var letter = main_1.getLetterFromNumber(i);\n            cols.push({\n                id: \"\" + i,\n                width: 120,\n                $letter: letter,\n                header: [{\n                        text: actions_1.getHeaderCell(letter, i)\n                    }],\n                template: template\n            });\n        }\n        this._grid.setHeader(cols);\n        this._grid.data.parse(rows);\n        this.parse(values);\n        this._sizes.rowsCount = this.config.rowsCount;\n        this._sizes.colsCount = this.config.colsCount;\n    };\n    Spreadsheet.prototype._checkForMissedCells = function (cell) {\n        var index = main_1.isRangeId(cell) ? main_1.getRangeIndexes(cell).end : main_1.getCellIndex(cell);\n        if (index.row > this.config.rowsCount || index.col > this.config.colsCount) {\n            this.config.rowsCount = Math.max(this.config.rowsCount, index.row + 1);\n            this.config.colsCount = Math.max(this.config.colsCount, index.col);\n            this._generateGridStruct();\n        }\n    };\n    Spreadsheet.prototype._updateGridSizes = function (data) {\n        var dimensions = data.reduce(function (total, item) {\n            var index = main_1.getCellIndex(item.cell);\n            total.row = Math.max(total.row, index.row + 1);\n            total.col = Math.max(total.col, index.col);\n            return total;\n        }, { row: this.config.rowsCount, col: this.config.colsCount });\n        if (dimensions.row > this.config.rowsCount || dimensions.col > this.config.colsCount) {\n            this.config.rowsCount = Math.max(dimensions.row + 1, this.config.rowsCount);\n            this.config.colsCount = Math.max(dimensions.col + 1, this.config.colsCount);\n            this._generateGridStruct();\n        }\n    };\n    Spreadsheet.prototype._updateToolbar = function (cell) {\n        if (cell !== this.selection.getFocusedCell()) {\n            return;\n        }\n        var info = main_1.getCellInfo(this._grid, cell);\n        toolbar_2.updateToolbar(this.toolbar, info);\n    };\n    Spreadsheet.prototype._setEventsHandlers = function () {\n        var _this = this;\n        this.events.on(types_1.SpreadsheetEvents.editLineInput, function (val) {\n            var cell = _this.selection.getFocusedCell();\n            _this.events.fire(types_1.SpreadsheetEvents.cellInput, [cell, val]);\n        });\n        this.events.on(types_1.SpreadsheetEvents.editLineFocus, function () {\n            var cell = _this.selection.getFocusedCell();\n            _this.startEdit(cell);\n            requestAnimationFrame(function () {\n                _this._editLine.focus();\n            });\n        });\n        this.events.on(types_1.SpreadsheetEvents.cellInput, function (cell, val) {\n            if (_this.isLocked(cell)) {\n                return;\n            }\n            main_1.updateCellInfo(_this._grid, cell, {\n                nextValue: val\n            });\n            _this._grid.paint();\n        });\n        this._grid.events.on(ts_grid_1.GridEvents.cellMouseDown, function () {\n            _this.contextMenu._close();\n        });\n        this.events.on(types_1.SpreadsheetEvents.beforeSelectionSet, function () {\n            if (_this.config.readonly) {\n                return false;\n            }\n            _this.endEdit();\n        });\n        this.events.on(types_1.SpreadsheetEvents.afterSelectionSet, function () {\n            _this._grid.paint();\n        });\n        this.events.on(types_1.SpreadsheetEvents.afterFocusSet, function (cell) {\n            var val = _this.getValue(cell);\n            var info = main_1.getCellInfo(_this._grid, cell);\n            toolbar_2.updateToolbar(_this.toolbar, info);\n            _this._editLine.setValue(val);\n            if (info.locked) {\n                _this._editLine.lock();\n            }\n            _this._grid.paint();\n        });\n        this.events.on(types_1.SpreadsheetEvents.afterStyleChange, function (cell) {\n            _this._updateToolbar(cell);\n        });\n        this.events.on(types_1.SpreadsheetEvents.afterFormatChange, function (cell) {\n            _this._updateToolbar(cell);\n        });\n        this.events.on(types_1.SpreadsheetEvents.afterEditStart, function () {\n            _this._grid.paint();\n        });\n        this.events.on(types_1.SpreadsheetEvents.afterEditEnd, function () {\n            _this._grid.paint();\n        });\n        this.toolbar.events.on(ts_toolbar_1.ToolbarEvents.click, function (id, e) {\n            _this._handleAction(id, e);\n        });\n        this.contextMenu.events.on(ts_toolbar_1.ToolbarEvents.click, function (id, e) {\n            _this._handleAction(id, e);\n        });\n        this.menu.events.on(ts_toolbar_1.ToolbarEvents.click, function (id, e) {\n            _this._handleAction(id, e);\n        });\n        this._colorPicker.events.on(ts_colorpicker_1.ColorpickerEvents.colorChange, function (color) {\n            var _a;\n            var selected = _this.selection.getSelectedCell();\n            _this.setStyle(selected, (_a = {}, _a[_this._colorpickerTarget] = color, _a));\n            // restore widget focus\n            requestAnimationFrame(function () {\n                _this._colorpickerTarget = null;\n                hotkeys_1.focusHandler.setFocusState(true);\n                if (_this._activeInput) {\n                    _this._activeInput.focus();\n                    _this._activeInput = null;\n                }\n            });\n        });\n        this.events.on(types_1.SpreadsheetEvents.editLineBlur, function (_val, e) {\n            _this._restoreFocus(e);\n        });\n        this.events.on(types_1.SpreadsheetEvents.groupFill, function (focused, selected) {\n            _this._fillCells(focused, selected);\n        });\n    };\n    Spreadsheet.prototype._handleAction = function (action, e) {\n        var _a;\n        var selected = this.selection.getSelectedCell();\n        // restore widget focus\n        requestAnimationFrame(function () {\n            hotkeys_1.focusHandler.setFocusState(true);\n        });\n        // [dirty]\n        var format = \"\";\n        var formatIndex = core_1.findIndex(this.config.formats, function (f) { return f.id === action; });\n        if (formatIndex !== -1) {\n            format = action;\n            action = \"format\";\n        }\n        switch (action) {\n            case \"undo\":\n                this._actionsManager.undo();\n                break;\n            case \"redo\":\n                this._actionsManager.redo();\n                break;\n            case \"color\":\n            case \"background\":\n                this._colorpickerTarget = action;\n                var info = main_1.getCellInfo(this._grid, selected);\n                var css = dhx.css.get(info.css) || {};\n                var def = {\n                    background: \"#FFFFFF\",\n                    color: \"#4C4C4C\"\n                };\n                var color = css[action] || def[action];\n                this._colorPicker.setValue(color);\n                var btn = html_1.locateNode(e, \"dhx_id\");\n                this._colorPicker.show(btn);\n                break;\n            case \"align-left\":\n            case \"align-right\":\n            case \"align-center\":\n            case \"align-justify\":\n                var align = action.split(\"-\")[1];\n                this.setStyle(selected, { \"text-align\": align });\n                break;\n            case \"font-weight-bold\":\n            case \"font-style-italic\":\n            case \"text-decoration-underline\":\n                var idArr = action.split(\"-\");\n                var val = idArr.pop();\n                var key = idArr.join(\"-\");\n                val = toolbar_2.getToggledValue(this._grid, selected, key, val);\n                this.setStyle(selected, (_a = {}, _a[key] = val, _a));\n                break;\n            case \"clear-value\":\n                this.setValue(selected, \"\");\n                break;\n            case \"clear-styles\":\n                this.setStyle(selected, {});\n                break;\n            case \"clear-all\":\n                this._callAction([\n                    {\n                        cell: selected,\n                        action: types_1.Actions.setCellStyle,\n                        groupAction: main_1.isRangeId(selected) ? types_1.Actions.groupAction : null,\n                        val: \"\"\n                    },\n                    {\n                        cell: selected,\n                        action: types_1.Actions.setCellValue,\n                        groupAction: main_1.isRangeId(selected) ? types_1.Actions.groupAction : null,\n                        val: \"\"\n                    }\n                ]);\n                break;\n            case \"lock\":\n                if (this.isLocked(selected)) {\n                    this.unlock(selected);\n                    return;\n                }\n                this.lock(selected);\n                break;\n            case \"remove-row\":\n                this.deleteRow(selected);\n                break;\n            case \"add-row\":\n                this.addRow(selected);\n                break;\n            case \"remove-col\":\n                this.deleteColumn(selected);\n                break;\n            case \"add-col\":\n                this.addColumn(selected);\n                break;\n            case \"help\":\n                window.open(\"https://dhtmlx-docs.gitbook.io/spreadsheet-user-guide/\");\n                break;\n            case \"format\":\n                this.setFormat(selected, format);\n                this.paint();\n                break;\n            case \"export-xlsx\":\n                this.export.xlsx();\n                break;\n            case \"import-xlsx\":\n                this.load(\"\", \"xlsx\");\n                break;\n            default:\n                break;\n        }\n    };\n    Spreadsheet.prototype._fillCells = function (focused, selected) {\n        var _this = this;\n        var focusedCells = [focused];\n        var selectedCells = [selected];\n        if (main_1.isRangeId(focused)) {\n            var largerByX = selection_1.getCellsDiff(focused.split(\":\")[1], selected.split(\":\")[1]).isLargerByX;\n            var dir = largerByX ? \"row\" : \"col\";\n            var matrix = main_1.getRangeMatrix(focused, dir);\n            focusedCells = matrix.map(function (row) {\n                return row.length > 1 ? row[0] + \":\" + row[row.length - 1] : row[0];\n            });\n            selectedCells = main_1.getRangeMatrix(selected, dir).map(function (row) {\n                return row.length > 1 ? row[0] + \":\" + row[row.length - 1] : row[0];\n            });\n        }\n        var actions = focusedCells.reduce(function (acc, row, i) {\n            var value = _this.getValue(row);\n            var cells = selectedCells[i];\n            if (Array.isArray(value)) {\n                if (row === cells) {\n                    return acc;\n                }\n                var filled = selection_1.getAutoFilledCells(value, row, cells);\n                cells = filled.cells;\n                value = filled.value;\n            }\n            var styles = _this.getStyle(row);\n            var format = _this.getFormat(row);\n            acc.push({\n                cell: cells,\n                action: types_1.Actions.setCellFormat,\n                groupAction: main_1.isRangeId(cells) ? types_1.Actions.groupAction : null,\n                val: format\n            }, {\n                cell: cells,\n                action: types_1.Actions.setCellStyle,\n                groupAction: main_1.isRangeId(cells) ? types_1.Actions.groupAction : null,\n                val: styles\n            }, {\n                cell: cells,\n                action: types_1.Actions.setCellValue,\n                groupAction: main_1.isRangeId(cells) ? types_1.Actions.groupAction : null,\n                val: value\n            });\n            return acc;\n        }, []);\n        this._callAction(actions);\n        this.selection.setSelectedCell(selected);\n    };\n    Spreadsheet.prototype._restoreFocus = function (e) {\n        var editLineContainer = this._editLine.getRootView().node.el;\n        var focusedCell = this.selection.getFocusedCell();\n        if (focusedCell && !main_1.getCellInfo(this._grid, focusedCell).edited) {\n            return;\n        }\n        if (!hotkeys_1.focusHandler.getFocusState()) {\n            if (this._colorpickerTarget) {\n                this._activeInput = e.target;\n                return;\n            }\n            this.endEdit();\n            return;\n        }\n        var target = e.target;\n        var relatedTarget = e.relatedTarget;\n        if (editLineContainer.contains(relatedTarget)) {\n            return;\n        }\n        if (editLineContainer.contains(target)\n            && relatedTarget\n            && relatedTarget.getAttribute(\"dhx_id\") === \"cell_input\") {\n            return;\n        }\n        var input = target;\n        input.focus();\n        // [dirty]\n        setTimeout(function () {\n            input.setSelectionRange(input.value.length, input.value.length);\n        }, 100);\n    };\n    return Spreadsheet;\n}(view_1.View));\nexports.Spreadsheet = Spreadsheet;\n\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(__webpack_require__(55));\n__export(__webpack_require__(32));\n\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nvar events_1 = __webpack_require__(7);\nvar html_1 = __webpack_require__(3);\nvar view_1 = __webpack_require__(8);\nvar ts_popup_1 = __webpack_require__(57);\nvar colorHelpers_1 = __webpack_require__(59);\nvar colors_1 = __webpack_require__(60);\nvar types_1 = __webpack_require__(32);\nvar Colorpicker = /** @class */ (function (_super) {\n    __extends(Colorpicker, _super);\n    function Colorpicker(config) {\n        if (config === void 0) { config = { css: \"\" }; }\n        var _this = _super.call(this, null, config) || this;\n        _this._handleGripMove = function (e) {\n            var paletteRect = _this.getRootView().refs.picker_palette.el.getBoundingClientRect();\n            var top = e.clientY - paletteRect.top;\n            var left = e.clientX - paletteRect.left;\n            _this._calculatePaletteGrip(top, left);\n            _this.paint();\n        };\n        _this._handleRangeMove = function (e) {\n            var rangeRect = _this.getRootView().refs.hue_range.el.getBoundingClientRect();\n            var rangeGripWidth = 3;\n            var left = e.clientX - rangeRect.left - rangeGripWidth;\n            _this._calculateRangeGrip(left);\n            _this.paint();\n        };\n        _this._popup = new ts_popup_1.Popup({\n            css: \" dhx_colorpicker_popup \" + _this.config.css\n        });\n        _this.events = new events_1.EventSystem(_this);\n        _this._pickerState = {\n            hsv: { h: 0, s: 1, v: 1 },\n            currentView: \"palette\",\n            customColors: [],\n            customHex: \"\"\n        };\n        _this._handlers = {\n            click: {\n                \".dhx_palette_cell\": _this._onColorClick.bind(_this)\n            },\n            mousedown: function (e) {\n                var name = html_1.locate(e);\n                _this._pickerState.customHex = \"\";\n                var target = _this.getRootView().refs[name].el.getBoundingClientRect();\n                if (name === \"picker_palette\") {\n                    _this._calculatePaletteGrip(e.clientY - target.top, e.clientX - target.left);\n                }\n                else {\n                    _this._calculateRangeGrip(e.clientX - target.left);\n                }\n                var handler = name === \"picker_palette\" ? _this._handleGripMove : _this._handleRangeMove;\n                document.addEventListener(\"mousemove\", handler);\n                document.addEventListener(\"mouseup\", function () {\n                    document.removeEventListener(\"mousemove\", handler);\n                });\n                _this.paint();\n            },\n            buttonsClick: function (button) {\n                _this._pickerState.currentView = \"palette\";\n                _this.paint();\n                if (button === \"cancel\") {\n                    return;\n                }\n                if (button === \"apply\" && _this._pickerState.customColors.indexOf(_this._pickerState.background) === -1) {\n                    _this._pickerState.customColors.push(_this._pickerState.background);\n                }\n                _this._selected = _this._pickerState.background;\n                _this.events.fire(types_1.ColorpickerEvents.colorChange, [_this._selected]);\n                setTimeout(function () {\n                    _this._popup.hide();\n                }, 1);\n            },\n            customColorClick: function () {\n                _this._pickerState.currentView = \"picker\";\n                _this.paint();\n            },\n            oninput: function (e) {\n                if (_this._inputTimeout) {\n                    clearTimeout(_this._inputTimeout);\n                }\n                _this._inputTimeout = setTimeout(function () {\n                    var val = e.target.value;\n                    if (val.indexOf(\"#\") === -1) {\n                        val = \"#\" + val;\n                    }\n                    _this._pickerState.customHex = val;\n                    if (colorHelpers_1.isHex(val)) {\n                        _this._pickerState.hsv = colorHelpers_1.HexToHSV(val);\n                        _this.paint();\n                    }\n                }, 100);\n            },\n            contextmenu: {\n                \".dhx_palette_cell\": function (e, node) {\n                    e.preventDefault();\n                    var color = _this._pickerState.customColors.indexOf(node.data.color);\n                    if (color !== -1) {\n                        _this._pickerState.customColors.splice(color, 1);\n                    }\n                    _this.paint();\n                    return;\n                }\n            }\n        };\n        var view = dom_1.create({ render: function () { return _this._getContent(); } });\n        _this.mount(_this._popup, view);\n        return _this;\n    }\n    Colorpicker.prototype.setValue = function (value) {\n        this._selected = value || null;\n    };\n    Colorpicker.prototype.show = function (node, side) {\n        if (side === void 0) { side = \"bottom\"; }\n        this._popup.show(html_1.toNode(node), { mode: side, centering: true });\n    };\n    Colorpicker.prototype.hide = function () {\n        this._popup.hide();\n    };\n    Colorpicker.prototype._calculatePaletteGrip = function (top, left) {\n        var paletteRect = this.getRootView().refs.picker_palette.el.getBoundingClientRect();\n        var bottom = paletteRect.height;\n        var right = paletteRect.width;\n        top = top < 0 ? 0 : top > bottom ? bottom : top;\n        left = left < 0 ? 0 : left > right ? right : left;\n        var pLeft = Math.round(left / (right / 100));\n        var pTop = 100 - Math.round(top / (bottom / 100));\n        this._pickerState.hsv.s = pLeft / 100;\n        this._pickerState.hsv.v = pTop / 100;\n    };\n    Colorpicker.prototype._calculateRangeGrip = function (left) {\n        var rangeBox = this.getRootView().refs.hue_range.el.getBoundingClientRect();\n        var right = rangeBox.width;\n        left = left < 0 ? 0 : left > right ? right : left;\n        this._pickerState.rangeLeft = left;\n        this._pickerState.hsv.h = Math.round(360 * (left / right));\n    };\n    Colorpicker.prototype._getCells = function (colors, cellClass) {\n        var _this = this;\n        if (cellClass === void 0) { cellClass = \"\"; }\n        return colors.reduce(function (cells, color) {\n            var selected = _this._selected === color ? \"dhx_selected\" : \"\";\n            cells.push(dom_1.el(\".dhx_palette_cell\", {\n                class: selected + \" \" + cellClass,\n                _data: { color: color },\n                style: \"background:\" + color\n            }));\n            return cells;\n        }, []);\n    };\n    Colorpicker.prototype._onColorClick = function (_ev, node) {\n        this._selected = node.data.color;\n        this.events.fire(types_1.ColorpickerEvents.colorChange, [this._selected]);\n        this._popup.hide();\n    };\n    Colorpicker.prototype._getGrayShades = function () {\n        return dom_1.el(\".dhx_palette_row\", this._getCells(colors_1.grayShades));\n    };\n    Colorpicker.prototype._getPalette = function () {\n        var _this = this;\n        return colors_1.palette.reduce(function (total, row) {\n            total.push(dom_1.el(\".dhx_palette_col\", _this._getCells(row.colors)));\n            return total;\n        }, []);\n    };\n    Colorpicker.prototype._getPicker = function () {\n        var rgb = colorHelpers_1.HSVtoRGB(this._pickerState.hsv);\n        this._pickerState.background = colorHelpers_1.RGBToHex(rgb);\n        var currentBackground = colorHelpers_1.RGBToHex(colorHelpers_1.HSVtoRGB({ h: this._pickerState.hsv.h, s: 1, v: 1 }));\n        var root = this.getRootView();\n        var box = root.refs ?\n            root.refs.picker_palette.el.getBoundingClientRect()\n            : { height: 200, width: 218, x: 0, y: 0 };\n        var height = box.height - 2;\n        var width = box.width - 2;\n        var gripTop = (height - this._pickerState.hsv.v * height) - 4;\n        var gripLeft = (this._pickerState.hsv.s * width) - 4;\n        var rangeWidth = box.width - 6;\n        var rangeGripLeft = rangeWidth - ((360 - this._pickerState.hsv.h) / 360) * rangeWidth;\n        var inputValue = this._pickerState.customHex ?\n            this._pickerState.customHex.replace(\"#\", \"\")\n            : this._pickerState.background.replace(\"#\", \"\");\n        return dom_1.el(\".picker_wrap\", {}, [\n            dom_1.el(\".dhx_picker_palette\", {\n                style: {\n                    height: 132,\n                    background: currentBackground\n                },\n                onmousedown: this._handlers.mousedown,\n                dhx_id: \"picker_palette\",\n                _ref: \"picker_palette\"\n            }, [\n                dom_1.el(\".dhx_palette_grip\", {\n                    style: {\n                        top: gripTop,\n                        left: gripLeft\n                    }\n                })\n            ]),\n            dom_1.el(\".dhx_hue_range\", {\n                style: { height: 16 },\n                onmousedown: this._handlers.mousedown,\n                dhx_id: \"hue_range\",\n                _key: \"hue_range\",\n                _ref: \"hue_range\"\n            }, [\n                dom_1.el(\".dhx_range_grip\", { style: { left: rangeGripLeft } })\n            ]),\n            dom_1.el(\".dhx_color_value\", [\n                dom_1.el(\".dhx_current_color\", { style: { background: this._pickerState.background } }),\n                dom_1.el(\".dhx_hex_input_wrap\", [\n                    dom_1.el(\"input\", { class: \"dhx_hex_input\", value: inputValue, oninput: this._handlers.oninput, maxlength: \"7\", _key: \"hex_input\" })\n                ])\n            ]),\n            dom_1.el(\".dhx_picker_buttons\", [\n                dom_1.el(\"button\", { class: \"dhx_btn dhx_btn--link dhx_cancel\", onclick: [this._handlers.buttonsClick, \"cancel\"] }, \"cancel\"),\n                dom_1.el(\"button\", { class: \"dhx_btn dhx_btn--flat dhx_apply\", onclick: [this._handlers.buttonsClick, \"apply\"] }, \"apply\")\n            ])\n        ]);\n    };\n    Colorpicker.prototype._getContent = function () {\n        var view = this._pickerState.currentView === \"palette\" ? [\n            this._getGrayShades()\n        ].concat((this._getPalette()), [\n            dom_1.el(\".dhx_custom_colors\", [\n                dom_1.el(\".dhx_custom_colors_header\", [\"Custom colors\", dom_1.el(\"span.hint\", \" (Right click to delete)\")]),\n                dom_1.el(\".dhx_custom_palette.dhx_palette_row\", this._getCells(this._pickerState.customColors, \"custom_color_cell\").concat([\n                    dom_1.el(\".dhx_show_picker\", { class: \"dxi dxi-plus\", onclick: this._handlers.customColorClick })\n                ]))\n            ]),\n        ]) :\n            [this._getPicker()];\n        return dom_1.el(\".dhx_colorpicker_wrap\", [\n            dom_1.el(\".dhx_palette\", {\n                onclick: this._handlers.click,\n                oncontextmenu: this._handlers.contextmenu\n            }, view)\n        ]);\n    };\n    return Colorpicker;\n}(view_1.View));\nexports.Colorpicker = Colorpicker;\n\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n* Copyright (c) 2017, Leon Sorokin\n* All rights reserved. (MIT Licensed)\n*\n* domvm.js (DOM ViewModel)\n* A thin, fast, dependency-free vdom view layer\n* @preserve https://github.com/leeoniya/domvm (v3.2.6, micro build)\n*/\n\n(function (global, factory) {\n\t true ? module.exports = factory() :\n\tundefined;\n}(this, (function () { 'use strict';\n\n// NOTE: if adding a new *VNode* type, make it < COMMENT and renumber rest.\n// There are some places that test <= COMMENT to assert if node is a VNode\n\n// VNode types\nvar ELEMENT\t= 1;\nvar TEXT\t\t= 2;\nvar COMMENT\t= 3;\n\n// placeholder types\nvar VVIEW\t\t= 4;\nvar VMODEL\t\t= 5;\n\nvar ENV_DOM = typeof window !== \"undefined\";\nvar win = ENV_DOM ? window : {};\nvar rAF = win.requestAnimationFrame;\n\nvar emptyObj = {};\n\nfunction noop() {}\n\nvar isArr = Array.isArray;\n\nfunction isSet(val) {\n\treturn val != null;\n}\n\nfunction isPlainObj(val) {\n\treturn val != null && val.constructor === Object;\t\t//  && typeof val === \"object\"\n}\n\nfunction insertArr(targ, arr, pos, rem) {\n\ttarg.splice.apply(targ, [pos, rem].concat(arr));\n}\n\nfunction isVal(val) {\n\tvar t = typeof val;\n\treturn t === \"string\" || t === \"number\";\n}\n\nfunction isFunc(val) {\n\treturn typeof val === \"function\";\n}\n\nfunction isProm(val) {\n\treturn typeof val === \"object\" && isFunc(val.then);\n}\n\n\n\nfunction assignObj(targ) {\n\tvar args = arguments;\n\n\tfor (var i = 1; i < args.length; i++)\n\t\t{ for (var k in args[i])\n\t\t\t{ targ[k] = args[i][k]; } }\n\n\treturn targ;\n}\n\n// export const defProp = Object.defineProperty;\n\nfunction deepSet(targ, path, val) {\n\tvar seg;\n\n\twhile (seg = path.shift()) {\n\t\tif (path.length === 0)\n\t\t\t{ targ[seg] = val; }\n\t\telse\n\t\t\t{ targ[seg] = targ = targ[seg] || {}; }\n\t}\n}\n\n/*\nexport function deepUnset(targ, path) {\n\tvar seg;\n\n\twhile (seg = path.shift()) {\n\t\tif (path.length === 0)\n\t\t\ttarg[seg] = val;\n\t\telse\n\t\t\ttarg[seg] = targ = targ[seg] || {};\n\t}\n}\n*/\n\nfunction sliceArgs(args, offs) {\n\tvar arr = [];\n\tfor (var i = offs; i < args.length; i++)\n\t\t{ arr.push(args[i]); }\n\treturn arr;\n}\n\nfunction cmpObj(a, b) {\n\tfor (var i in a)\n\t\t{ if (a[i] !== b[i])\n\t\t\t{ return false; } }\n\n\treturn true;\n}\n\nfunction cmpArr(a, b) {\n\tvar alen = a.length;\n\n\tif (b.length !== alen)\n\t\t{ return false; }\n\n\tfor (var i = 0; i < alen; i++)\n\t\t{ if (a[i] !== b[i])\n\t\t\t{ return false; } }\n\n\treturn true;\n}\n\n// https://github.com/darsain/raft\n// rAF throttler, aggregates multiple repeated redraw calls within single animframe\nfunction raft(fn) {\n\tif (!rAF)\n\t\t{ return fn; }\n\n\tvar id, ctx, args;\n\n\tfunction call() {\n\t\tid = 0;\n\t\tfn.apply(ctx, args);\n\t}\n\n\treturn function() {\n\t\tctx = this;\n\t\targs = arguments;\n\t\tif (!id) { id = rAF(call); }\n\t};\n}\n\nfunction curry(fn, args, ctx) {\n\treturn function() {\n\t\treturn fn.apply(ctx, args);\n\t};\n}\n\n/*\nexport function prop(val, cb, ctx, args) {\n\treturn function(newVal, execCb) {\n\t\tif (newVal !== undefined && newVal !== val) {\n\t\t\tval = newVal;\n\t\t\texecCb !== false && isFunc(cb) && cb.apply(ctx, args);\n\t\t}\n\n\t\treturn val;\n\t};\n}\n*/\n\n/*\n// adapted from https://github.com/Olical/binary-search\nexport function binaryKeySearch(list, item) {\n    var min = 0;\n    var max = list.length - 1;\n    var guess;\n\n\tvar bitwise = (max <= 2147483647) ? true : false;\n\tif (bitwise) {\n\t\twhile (min <= max) {\n\t\t\tguess = (min + max) >> 1;\n\t\t\tif (list[guess].key === item) { return guess; }\n\t\t\telse {\n\t\t\t\tif (list[guess].key < item) { min = guess + 1; }\n\t\t\t\telse { max = guess - 1; }\n\t\t\t}\n\t\t}\n\t} else {\n\t\twhile (min <= max) {\n\t\t\tguess = Math.floor((min + max) / 2);\n\t\t\tif (list[guess].key === item) { return guess; }\n\t\t\telse {\n\t\t\t\tif (list[guess].key < item) { min = guess + 1; }\n\t\t\t\telse { max = guess - 1; }\n\t\t\t}\n\t\t}\n\t}\n\n    return -1;\n}\n*/\n\n// https://en.wikipedia.org/wiki/Longest_increasing_subsequence\n// impl borrowed from https://github.com/ivijs/ivi\nfunction longestIncreasingSubsequence(a) {\n\tvar p = a.slice();\n\tvar result = [];\n\tresult.push(0);\n\tvar u;\n\tvar v;\n\n\tfor (var i = 0, il = a.length; i < il; ++i) {\n\t\tvar j = result[result.length - 1];\n\t\tif (a[j] < a[i]) {\n\t\t\tp[i] = j;\n\t\t\tresult.push(i);\n\t\t\tcontinue;\n\t\t}\n\n\t\tu = 0;\n\t\tv = result.length - 1;\n\n\t\twhile (u < v) {\n\t\t\tvar c = ((u + v) / 2) | 0;\n\t\t\tif (a[result[c]] < a[i]) {\n\t\t\t\tu = c + 1;\n\t\t\t} else {\n\t\t\t\tv = c;\n\t\t\t}\n\t\t}\n\n\t\tif (a[i] < a[result[u]]) {\n\t\t\tif (u > 0) {\n\t\t\t\tp[i] = result[u - 1];\n\t\t\t}\n\t\t\tresult[u] = i;\n\t\t}\n\t}\n\n\tu = result.length;\n\tv = result[u - 1];\n\n\twhile (u-- > 0) {\n\t\tresult[u] = v;\n\t\tv = p[v];\n\t}\n\n\treturn result;\n}\n\n// based on https://github.com/Olical/binary-search\nfunction binaryFindLarger(item, list) {\n\tvar min = 0;\n\tvar max = list.length - 1;\n\tvar guess;\n\n\tvar bitwise = (max <= 2147483647) ? true : false;\n\tif (bitwise) {\n\t\twhile (min <= max) {\n\t\t\tguess = (min + max) >> 1;\n\t\t\tif (list[guess] === item) { return guess; }\n\t\t\telse {\n\t\t\t\tif (list[guess] < item) { min = guess + 1; }\n\t\t\t\telse { max = guess - 1; }\n\t\t\t}\n\t\t}\n\t} else {\n\t\twhile (min <= max) {\n\t\t\tguess = Math.floor((min + max) / 2);\n\t\t\tif (list[guess] === item) { return guess; }\n\t\t\telse {\n\t\t\t\tif (list[guess] < item) { min = guess + 1; }\n\t\t\t\telse { max = guess - 1; }\n\t\t\t}\n\t\t}\n\t}\n\n\treturn (min == list.length) ? null : min;\n\n//\treturn -1;\n}\n\nfunction isEvProp(name) {\n\treturn name[0] === \"o\" && name[1] === \"n\";\n}\n\nfunction isSplProp(name) {\n\treturn name[0] === \"_\";\n}\n\nfunction isStyleProp(name) {\n\treturn name === \"style\";\n}\n\nfunction repaint(node) {\n\tnode && node.el && node.el.offsetHeight;\n}\n\nfunction isHydrated(vm) {\n\treturn vm.node != null && vm.node.el != null;\n}\n\n// tests interactive props where real val should be compared\nfunction isDynProp(tag, attr) {\n//\tswitch (tag) {\n//\t\tcase \"input\":\n//\t\tcase \"textarea\":\n//\t\tcase \"select\":\n//\t\tcase \"option\":\n\t\t\tswitch (attr) {\n\t\t\t\tcase \"value\":\n\t\t\t\tcase \"checked\":\n\t\t\t\tcase \"selected\":\n//\t\t\t\tcase \"selectedIndex\":\n\t\t\t\t\treturn true;\n\t\t\t}\n//\t}\n\n\treturn false;\n}\n\nfunction getVm(n) {\n\tn = n || emptyObj;\n\twhile (n.vm == null && n.parent)\n\t\t{ n = n.parent; }\n\treturn n.vm;\n}\n\nfunction VNode() {}\n\nvar VNodeProto = VNode.prototype = {\n\tconstructor: VNode,\n\n\ttype:\tnull,\n\n\tvm:\t\tnull,\n\n\t// all this stuff can just live in attrs (as defined) just have getters here for it\n\tkey:\tnull,\n\tref:\tnull,\n\tdata:\tnull,\n\thooks:\tnull,\n\tns:\t\tnull,\n\n\tel:\t\tnull,\n\n\ttag:\tnull,\n\tattrs:\tnull,\n\tbody:\tnull,\n\n\tflags:\t0,\n\n\t_class:\tnull,\n\t_diff:\tnull,\n\n\t// pending removal on promise resolution\n\t_dead:\tfalse,\n\t// part of longest increasing subsequence?\n\t_lis:\tfalse,\n\n\tidx:\tnull,\n\tparent:\tnull,\n\n\t/*\n\t// break out into optional fluent module\n\tkey:\tfunction(val) { this.key\t= val; return this; },\n\tref:\tfunction(val) { this.ref\t= val; return this; },\t\t// deep refs\n\tdata:\tfunction(val) { this.data\t= val; return this; },\n\thooks:\tfunction(val) { this.hooks\t= val; return this; },\t\t// h(\"div\").hooks()\n\thtml:\tfunction(val) { this.html\t= true; return this.body(val); },\n\n\tbody:\tfunction(val) { this.body\t= val; return this; },\n\t*/\n};\n\nfunction defineText(body) {\n\tvar node = new VNode;\n\tnode.type = TEXT;\n\tnode.body = body;\n\treturn node;\n}\n\n// creates a one-shot self-ending stream that redraws target vm\n// TODO: if it's already registered by any parent vm, then ignore to avoid simultaneous parent & child refresh\n\nvar tagCache = {};\n\nvar RE_ATTRS = /\\[(\\w+)(?:=(\\w+))?\\]/g;\n\nfunction cssTag(raw) {\n\t{\n\t\tvar cached = tagCache[raw];\n\n\t\tif (cached == null) {\n\t\t\tvar tag, id, cls, attr;\n\n\t\t\ttagCache[raw] = cached = {\n\t\t\t\ttag:\t(tag\t= raw.match( /^[-\\w]+/))\t\t?\ttag[0]\t\t\t\t\t\t: \"div\",\n\t\t\t\tid:\t\t(id\t\t= raw.match( /#([-\\w]+)/))\t\t? \tid[1]\t\t\t\t\t\t: null,\n\t\t\t\tclass:\t(cls\t= raw.match(/\\.([-\\w.]+)/))\t\t?\tcls[1].replace(/\\./g, \" \")\t: null,\n\t\t\t\tattrs:\tnull,\n\t\t\t};\n\n\t\t\twhile (attr = RE_ATTRS.exec(raw)) {\n\t\t\t\tif (cached.attrs == null)\n\t\t\t\t\t{ cached.attrs = {}; }\n\t\t\t\tcached.attrs[attr[1]] = attr[2] || \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn cached;\n\t}\n}\n\n// (de)optimization flags\n\n// forces slow bottom-up removeChild to fire deep willRemove/willUnmount hooks,\nvar DEEP_REMOVE = 1;\n// prevents inserting/removing/reordering of children\nvar FIXED_BODY = 2;\n// enables fast keyed lookup of children via binary search, expects homogeneous keyed body\nvar KEYED_LIST = 4;\n// indicates an vnode match/diff/recycler function for body\nvar LAZY_LIST = 8;\n\nfunction initElementNode(tag, attrs, body, flags) {\n\tvar node = new VNode;\n\n\tnode.type = ELEMENT;\n\n\tif (isSet(flags))\n\t\t{ node.flags = flags; }\n\n\tnode.attrs = attrs;\n\n\tvar parsed = cssTag(tag);\n\n\tnode.tag = parsed.tag;\n\n\t// meh, weak assertion, will fail for id=0, etc.\n\tif (parsed.id || parsed.class || parsed.attrs) {\n\t\tvar p = node.attrs || {};\n\n\t\tif (parsed.id && !isSet(p.id))\n\t\t\t{ p.id = parsed.id; }\n\n\t\tif (parsed.class) {\n\t\t\tnode._class = parsed.class;\t\t// static class\n\t\t\tp.class = parsed.class + (isSet(p.class) ? (\" \" + p.class) : \"\");\n\t\t}\n\t\tif (parsed.attrs) {\n\t\t\tfor (var key in parsed.attrs)\n\t\t\t\t{ if (!isSet(p[key]))\n\t\t\t\t\t{ p[key] = parsed.attrs[key]; } }\n\t\t}\n\n//\t\tif (node.attrs !== p)\n\t\t\tnode.attrs = p;\n\t}\n\n\tvar mergedAttrs = node.attrs;\n\n\tif (isSet(mergedAttrs)) {\n\t\tif (isSet(mergedAttrs._key))\n\t\t\t{ node.key = mergedAttrs._key; }\n\n\t\tif (isSet(mergedAttrs._ref))\n\t\t\t{ node.ref = mergedAttrs._ref; }\n\n\t\tif (isSet(mergedAttrs._hooks))\n\t\t\t{ node.hooks = mergedAttrs._hooks; }\n\n\t\tif (isSet(mergedAttrs._data))\n\t\t\t{ node.data = mergedAttrs._data; }\n\n\t\tif (isSet(mergedAttrs._flags))\n\t\t\t{ node.flags = mergedAttrs._flags; }\n\n\t\tif (!isSet(node.key)) {\n\t\t\tif (isSet(node.ref))\n\t\t\t\t{ node.key = node.ref; }\n\t\t\telse if (isSet(mergedAttrs.id))\n\t\t\t\t{ node.key = mergedAttrs.id; }\n\t\t\telse if (isSet(mergedAttrs.name))\n\t\t\t\t{ node.key = mergedAttrs.name + (mergedAttrs.type === \"radio\" || mergedAttrs.type === \"checkbox\" ? mergedAttrs.value : \"\"); }\n\t\t}\n\t}\n\n\tif (body != null)\n\t\t{ node.body = body; }\n\n\treturn node;\n}\n\nfunction setRef(vm, name, node) {\n\tvar path = [\"refs\"].concat(name.split(\".\"));\n\tdeepSet(vm, path, node);\n}\n\nfunction setDeepRemove(node) {\n\twhile (node = node.parent)\n\t\t{ node.flags |= DEEP_REMOVE; }\n}\n\n// vnew, vold\nfunction preProc(vnew, parent, idx, ownVm) {\n\tif (vnew.type === VMODEL || vnew.type === VVIEW)\n\t\t{ return; }\n\n\tvnew.parent = parent;\n\tvnew.idx = idx;\n\tvnew.vm = ownVm;\n\n\tif (vnew.ref != null)\n\t\t{ setRef(getVm(vnew), vnew.ref, vnew); }\n\n\tvar nh = vnew.hooks,\n\t\tvh = ownVm && ownVm.hooks;\n\n\tif (nh && (nh.willRemove || nh.didRemove) ||\n\t\tvh && (vh.willUnmount || vh.didUnmount))\n\t\t{ setDeepRemove(vnew); }\n\n\tif (isArr(vnew.body))\n\t\t{ preProcBody(vnew); }\n\telse {}\n}\n\nfunction preProcBody(vnew) {\n\tvar body = vnew.body;\n\n\tfor (var i = 0; i < body.length; i++) {\n\t\tvar node2 = body[i];\n\n\t\t// remove false/null/undefined\n\t\tif (node2 === false || node2 == null)\n\t\t\t{ body.splice(i--, 1); }\n\t\t// flatten arrays\n\t\telse if (isArr(node2)) {\n\t\t\tinsertArr(body, node2, i--, 1);\n\t\t}\n\t\telse {\n\t\t\tif (node2.type == null)\n\t\t\t\t{ body[i] = node2 = defineText(\"\"+node2); }\n\n\t\t\tif (node2.type === TEXT) {\n\t\t\t\t// remove empty text nodes\n\t\t\t\tif (node2.body == null || node2.body === \"\")\n\t\t\t\t\t{ body.splice(i--, 1); }\n\t\t\t\t// merge with previous text node\n\t\t\t\telse if (i > 0 && body[i-1].type === TEXT) {\n\t\t\t\t\tbody[i-1].body += node2.body;\n\t\t\t\t\tbody.splice(i--, 1);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\t{ preProc(node2, vnew, i, null); }\n\t\t\t}\n\t\t\telse\n\t\t\t\t{ preProc(node2, vnew, i, null); }\n\t\t}\n\t}\n}\n\nvar unitlessProps = {\n\tanimationIterationCount: true,\n\tboxFlex: true,\n\tboxFlexGroup: true,\n\tboxOrdinalGroup: true,\n\tcolumnCount: true,\n\tflex: true,\n\tflexGrow: true,\n\tflexPositive: true,\n\tflexShrink: true,\n\tflexNegative: true,\n\tflexOrder: true,\n\tgridRow: true,\n\tgridColumn: true,\n\torder: true,\n\tlineClamp: true,\n\n\tborderImageOutset: true,\n\tborderImageSlice: true,\n\tborderImageWidth: true,\n\tfontWeight: true,\n\tlineHeight: true,\n\topacity: true,\n\torphans: true,\n\ttabSize: true,\n\twidows: true,\n\tzIndex: true,\n\tzoom: true,\n\n\tfillOpacity: true,\n\tfloodOpacity: true,\n\tstopOpacity: true,\n\tstrokeDasharray: true,\n\tstrokeDashoffset: true,\n\tstrokeMiterlimit: true,\n\tstrokeOpacity: true,\n\tstrokeWidth: true\n};\n\nfunction autoPx(name, val) {\n\t{\n\t\t// typeof val === 'number' is faster but fails for numeric strings\n\t\treturn !isNaN(val) && !unitlessProps[name] ? (val + \"px\") : val;\n\t}\n}\n\n// assumes if styles exist both are objects or both are strings\nfunction patchStyle(n, o) {\n\tvar ns =     (n.attrs || emptyObj).style;\n\tvar os = o ? (o.attrs || emptyObj).style : null;\n\n\t// replace or remove in full\n\tif (ns == null || isVal(ns))\n\t\t{ n.el.style.cssText = ns; }\n\telse {\n\t\tfor (var nn in ns) {\n\t\t\tvar nv = ns[nn];\n\n\t\t\tif (os == null || nv != null && nv !== os[nn])\n\t\t\t\t{ n.el.style[nn] = autoPx(nn, nv); }\n\t\t}\n\n\t\t// clean old\n\t\tif (os) {\n\t\t\tfor (var on in os) {\n\t\t\t\tif (ns[on] == null)\n\t\t\t\t\t{ n.el.style[on] = \"\"; }\n\t\t\t}\n\t\t}\n\t}\n}\n\nvar didQueue = [];\n\nfunction fireHook(hooks, name, o, n, immediate) {\n\tif (hooks != null) {\n\t\tvar fn = o.hooks[name];\n\n\t\tif (fn) {\n\t\t\tif (name[0] === \"d\" && name[1] === \"i\" && name[2] === \"d\") {\t// did*\n\t\t\t\t//\tconsole.log(name + \" should queue till repaint\", o, n);\n\t\t\t\timmediate ? repaint(o.parent) && fn(o, n) : didQueue.push([fn, o, n]);\n\t\t\t}\n\t\t\telse {\t\t// will*\n\t\t\t\t//\tconsole.log(name + \" may delay by promise\", o, n);\n\t\t\t\treturn fn(o, n);\t\t// or pass  done() resolver\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction drainDidHooks(vm) {\n\tif (didQueue.length) {\n\t\trepaint(vm.node);\n\n\t\tvar item;\n\t\twhile (item = didQueue.shift())\n\t\t\t{ item[0](item[1], item[2]); }\n\t}\n}\n\nvar doc = ENV_DOM ? document : null;\n\nfunction closestVNode(el) {\n\twhile (el._node == null)\n\t\t{ el = el.parentNode; }\n\treturn el._node;\n}\n\nfunction createElement(tag, ns) {\n\tif (ns != null)\n\t\t{ return doc.createElementNS(ns, tag); }\n\treturn doc.createElement(tag);\n}\n\nfunction createTextNode(body) {\n\treturn doc.createTextNode(body);\n}\n\nfunction createComment(body) {\n\treturn doc.createComment(body);\n}\n\n// ? removes if !recycled\nfunction nextSib(sib) {\n\treturn sib.nextSibling;\n}\n\n// ? removes if !recycled\nfunction prevSib(sib) {\n\treturn sib.previousSibling;\n}\n\n// TODO: this should collect all deep proms from all hooks and return Promise.all()\nfunction deepNotifyRemove(node) {\n\tvar vm = node.vm;\n\n\tvar wuRes = vm != null && fireHook(vm.hooks, \"willUnmount\", vm, vm.data);\n\n\tvar wrRes = fireHook(node.hooks, \"willRemove\", node);\n\n\tif ((node.flags & DEEP_REMOVE) === DEEP_REMOVE && isArr(node.body)) {\n\t\tfor (var i = 0; i < node.body.length; i++)\n\t\t\t{ deepNotifyRemove(node.body[i]); }\n\t}\n\n\treturn wuRes || wrRes;\n}\n\nfunction _removeChild(parEl, el, immediate) {\n\tvar node = el._node, vm = node.vm;\n\n\tif (isArr(node.body)) {\n\t\tif ((node.flags & DEEP_REMOVE) === DEEP_REMOVE) {\n\t\t\tfor (var i = 0; i < node.body.length; i++)\n\t\t\t\t{ _removeChild(el, node.body[i].el); }\n\t\t}\n\t\telse\n\t\t\t{ deepUnref(node); }\n\t}\n\n\tdelete el._node;\n\n\tparEl.removeChild(el);\n\n\tfireHook(node.hooks, \"didRemove\", node, null, immediate);\n\n\tif (vm != null) {\n\t\tfireHook(vm.hooks, \"didUnmount\", vm, vm.data, immediate);\n\t\tvm.node = null;\n\t}\n}\n\n// todo: should delay parent unmount() by returning res prom?\nfunction removeChild(parEl, el) {\n\tvar node = el._node;\n\n\t// already marked for removal\n\tif (node._dead) { return; }\n\n\tvar res = deepNotifyRemove(node);\n\n\tif (res != null && isProm(res)) {\n\t\tnode._dead = true;\n\t\tres.then(curry(_removeChild, [parEl, el, true]));\n\t}\n\telse\n\t\t{ _removeChild(parEl, el); }\n}\n\nfunction deepUnref(node) {\n\tvar obody = node.body;\n\n\tfor (var i = 0; i < obody.length; i++) {\n\t\tvar o2 = obody[i];\n\t\tdelete o2.el._node;\n\n\t\tif (o2.vm != null)\n\t\t\t{ o2.vm.node = null; }\n\n\t\tif (isArr(o2.body))\n\t\t\t{ deepUnref(o2); }\n\t}\n}\n\nfunction clearChildren(parent) {\n\tvar parEl = parent.el;\n\n\tif ((parent.flags & DEEP_REMOVE) === 0) {\n\t\tisArr(parent.body) && deepUnref(parent);\n\t\tparEl.textContent = null;\n\t}\n\telse {\n\t\tvar el = parEl.firstChild;\n\n\t\tdo {\n\t\t\tvar next = nextSib(el);\n\t\t\tremoveChild(parEl, el);\n\t\t} while (el = next);\n\t}\n}\n\n// todo: hooks\nfunction insertBefore(parEl, el, refEl) {\n\tvar node = el._node, inDom = el.parentNode != null;\n\n\t// el === refEl is asserted as a no-op insert called to fire hooks\n\tvar vm = (el === refEl || !inDom) ? node.vm : null;\n\n\tif (vm != null)\n\t\t{ fireHook(vm.hooks, \"willMount\", vm, vm.data); }\n\n\tfireHook(node.hooks, inDom ? \"willReinsert\" : \"willInsert\", node);\n\tparEl.insertBefore(el, refEl);\n\tfireHook(node.hooks, inDom ? \"didReinsert\" : \"didInsert\", node);\n\n\tif (vm != null)\n\t\t{ fireHook(vm.hooks, \"didMount\", vm, vm.data); }\n}\n\nfunction insertAfter(parEl, el, refEl) {\n\tinsertBefore(parEl, el, refEl ? nextSib(refEl) : null);\n}\n\nvar onemit = {};\n\nfunction emitCfg(cfg) {\n\tassignObj(onemit, cfg);\n}\n\nfunction emit(evName) {\n\tvar targ = this,\n\t\tsrc = targ;\n\n\tvar args = sliceArgs(arguments, 1).concat(src, src.data);\n\n\tdo {\n\t\tvar evs = targ.onemit;\n\t\tvar fn = evs ? evs[evName] : null;\n\n\t\tif (fn) {\n\t\t\tfn.apply(targ, args);\n\t\t\tbreak;\n\t\t}\n\t} while (targ = targ.parent());\n\n\tif (onemit[evName])\n\t\t{ onemit[evName].apply(targ, args); }\n}\n\nvar onevent = noop;\n\nfunction config(newCfg) {\n\tonevent = newCfg.onevent || onevent;\n\n\t{\n\t\tif (newCfg.onemit)\n\t\t\t{ emitCfg(newCfg.onemit); }\n\t}\n\n\t\n}\n\nfunction bindEv(el, type, fn) {\n\tel[type] = fn;\n}\n\nfunction exec(fn, args, e, node, vm) {\n\tvar out = fn.apply(vm, args.concat([e, node, vm, vm.data]));\n\n\t// should these respect out === false?\n\tvm.onevent(e, node, vm, vm.data, args);\n\tonevent.call(null, e, node, vm, vm.data, args);\n\n\tif (out === false) {\n\t\te.preventDefault();\n\t\te.stopPropagation();\n\t}\n}\n\nfunction handle(e) {\n\tvar node = closestVNode(e.target);\n\tvar vm = getVm(node);\n\n\tvar evDef = e.currentTarget._node.attrs[\"on\" + e.type], fn, args;\n\n\tif (isArr(evDef)) {\n\t\tfn = evDef[0];\n\t\targs = evDef.slice(1);\n\t\texec(fn, args, e, node, vm);\n\t}\n\telse {\n\t\tfor (var sel in evDef) {\n\t\t\tif (e.target.matches(sel)) {\n\t\t\t\tvar evDef2 = evDef[sel];\n\n\t\t\t\tif (isArr(evDef2)) {\n\t\t\t\t\tfn = evDef2[0];\n\t\t\t\t\targs = evDef2.slice(1);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tfn = evDef2;\n\t\t\t\t\targs = [];\n\t\t\t\t}\n\n\t\t\t\texec(fn, args, e, node, vm);\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction patchEvent(node, name, nval, oval) {\n\tif (nval === oval)\n\t\t{ return; }\n\n\tvar el = node.el;\n\n\tif (nval == null || isFunc(nval))\n\t\t{ bindEv(el, name, nval); }\n\telse if (oval == null)\n\t\t{ bindEv(el, name, handle); }\n}\n\nfunction remAttr(node, name, asProp) {\n\tif (name[0] === \".\") {\n\t\tname = name.substr(1);\n\t\tasProp = true;\n\t}\n\n\tif (asProp)\n\t\t{ node.el[name] = \"\"; }\n\telse\n\t\t{ node.el.removeAttribute(name); }\n}\n\n// setAttr\n// diff, \".\", \"on*\", bool vals, skip _*, value/checked/selected selectedIndex\nfunction setAttr(node, name, val, asProp, initial) {\n\tvar el = node.el;\n\n\tif (val == null)\n\t\t{ !initial && remAttr(node, name, false); }\t\t// will also removeAttr of style: null\n\telse if (node.ns != null)\n\t\t{ el.setAttribute(name, val); }\n\telse if (name === \"class\")\n\t\t{ el.className = val; }\n\telse if (name === \"id\" || typeof val === \"boolean\" || asProp)\n\t\t{ el[name] = val; }\n\telse if (name[0] === \".\")\n\t\t{ el[name.substr(1)] = val; }\n\telse\n\t\t{ el.setAttribute(name, val); }\n}\n\nfunction patchAttrs(vnode, donor, initial) {\n\tvar nattrs = vnode.attrs || emptyObj;\n\tvar oattrs = donor.attrs || emptyObj;\n\n\tif (nattrs === oattrs) {\n\t\t\n\t}\n\telse {\n\t\tfor (var key in nattrs) {\n\t\t\tvar nval = nattrs[key];\n\t\t\tvar isDyn = isDynProp(vnode.tag, key);\n\t\t\tvar oval = isDyn ? vnode.el[key] : oattrs[key];\n\n\t\t\tif (nval === oval) {}\n\t\t\telse if (isStyleProp(key))\n\t\t\t\t{ patchStyle(vnode, donor); }\n\t\t\telse if (isSplProp(key)) {}\n\t\t\telse if (isEvProp(key))\n\t\t\t\t{ patchEvent(vnode, key, nval, oval); }\n\t\t\telse\n\t\t\t\t{ setAttr(vnode, key, nval, isDyn, initial); }\n\t\t}\n\n\t\t// TODO: bench style.cssText = \"\" vs removeAttribute(\"style\")\n\t\tfor (var key in oattrs) {\n\t\t\t!(key in nattrs) &&\n\t\t\t!isSplProp(key) &&\n\t\t\tremAttr(vnode, key, isDynProp(vnode.tag, key) || isEvProp(key));\n\t\t}\n\t}\n}\n\nfunction createView(view, data, key, opts) {\n\tif (view.type === VVIEW) {\n\t\tdata\t= view.data;\n\t\tkey\t\t= view.key;\n\t\topts\t= view.opts;\n\t\tview\t= view.view;\n\t}\n\n\treturn new ViewModel(view, data, key, opts);\n}\n\n//import { XML_NS, XLINK_NS } from './defineSvgElement';\nfunction hydrateBody(vnode) {\n\tfor (var i = 0; i < vnode.body.length; i++) {\n\t\tvar vnode2 = vnode.body[i];\n\t\tvar type2 = vnode2.type;\n\n\t\t// ELEMENT,TEXT,COMMENT\n\t\tif (type2 <= COMMENT)\n\t\t\t{ insertBefore(vnode.el, hydrate(vnode2)); }\t\t// vnode.el.appendChild(hydrate(vnode2))\n\t\telse if (type2 === VVIEW) {\n\t\t\tvar vm = createView(vnode2.view, vnode2.data, vnode2.key, vnode2.opts)._redraw(vnode, i, false);\t\t// todo: handle new data updates\n\t\t\ttype2 = vm.node.type;\n\t\t\tinsertBefore(vnode.el, hydrate(vm.node));\n\t\t}\n\t\telse if (type2 === VMODEL) {\n\t\t\tvar vm = vnode2.vm;\n\t\t\tvm._redraw(vnode, i);\t\t\t\t\t// , false\n\t\t\ttype2 = vm.node.type;\n\t\t\tinsertBefore(vnode.el, vm.node.el);\t\t// , hydrate(vm.node)\n\t\t}\n\t}\n}\n\n//  TODO: DRY this out. reusing normal patch here negatively affects V8's JIT\nfunction hydrate(vnode, withEl) {\n\tif (vnode.el == null) {\n\t\tif (vnode.type === ELEMENT) {\n\t\t\tvnode.el = withEl || createElement(vnode.tag, vnode.ns);\n\n\t\t//\tif (vnode.tag === \"svg\")\n\t\t//\t\tvnode.el.setAttributeNS(XML_NS, 'xmlns:xlink', XLINK_NS);\n\n\t\t\tif (vnode.attrs != null)\n\t\t\t\t{ patchAttrs(vnode, emptyObj, true); }\n\n\t\t\tif ((vnode.flags & LAZY_LIST) === LAZY_LIST)\t// vnode.body instanceof LazyList\n\t\t\t\t{ vnode.body.body(vnode); }\n\n\t\t\tif (isArr(vnode.body))\n\t\t\t\t{ hydrateBody(vnode); }\n\t\t\telse if (vnode.body != null && vnode.body !== \"\")\n\t\t\t\t{ vnode.el.textContent = vnode.body; }\n\t\t}\n\t\telse if (vnode.type === TEXT)\n\t\t\t{ vnode.el = withEl || createTextNode(vnode.body); }\n\t\telse if (vnode.type === COMMENT)\n\t\t\t{ vnode.el = withEl || createComment(vnode.body); }\n\t}\n\n\tvnode.el._node = vnode;\n\n\treturn vnode.el;\n}\n\n// prevent GCC from inlining some large funcs (which negatively affects Chrome's JIT)\n//window.syncChildren = syncChildren;\nwindow.lisMove = lisMove;\n\nfunction nextNode(node, body) {\n\treturn body[node.idx + 1];\n}\n\nfunction prevNode(node, body) {\n\treturn body[node.idx - 1];\n}\n\nfunction parentNode(node) {\n\treturn node.parent;\n}\n\nvar BREAK = 1;\nvar BREAK_ALL = 2;\n\nfunction syncDir(advSib, advNode, insert, sibName, nodeName, invSibName, invNodeName, invInsert) {\n\treturn function(node, parEl, body, state, convTest, lis) {\n\t\tvar sibNode, tmpSib;\n\n\t\tif (state[sibName] != null) {\n\t\t\t// skip dom elements not created by domvm\n\t\t\tif ((sibNode = state[sibName]._node) == null) {\n\t\t\t\tstate[sibName] = advSib(state[sibName]);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (parentNode(sibNode) !== node) {\n\t\t\t\ttmpSib = advSib(state[sibName]);\n\t\t\t\tsibNode.vm != null ? sibNode.vm.unmount(true) : removeChild(parEl, state[sibName]);\n\t\t\t\tstate[sibName] = tmpSib;\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (state[nodeName] == convTest)\n\t\t\t{ return BREAK_ALL; }\n\t\telse if (state[nodeName].el == null) {\n\t\t\tinsert(parEl, hydrate(state[nodeName]), state[sibName]);\t// should lis be updated here?\n\t\t\tstate[nodeName] = advNode(state[nodeName], body);\t\t// also need to advance sib?\n\t\t}\n\t\telse if (state[nodeName].el === state[sibName]) {\n\t\t\tstate[nodeName] = advNode(state[nodeName], body);\n\t\t\tstate[sibName] = advSib(state[sibName]);\n\t\t}\n\t\t// head->tail or tail->head\n\t\telse if (!lis && sibNode === state[invNodeName]) {\n\t\t\ttmpSib = state[sibName];\n\t\t\tstate[sibName] = advSib(tmpSib);\n\t\t\tinvInsert(parEl, tmpSib, state[invSibName]);\n\t\t\tstate[invSibName] = tmpSib;\n\t\t}\n\t\telse {\n\t\t\tif (lis && state[sibName] != null)\n\t\t\t\t{ return lisMove(advSib, advNode, insert, sibName, nodeName, parEl, body, sibNode, state); }\n\n\t\t\treturn BREAK;\n\t\t}\n\t};\n}\n\nfunction lisMove(advSib, advNode, insert, sibName, nodeName, parEl, body, sibNode, state) {\n\tif (sibNode._lis) {\n\t\tinsert(parEl, state[nodeName].el, state[sibName]);\n\t\tstate[nodeName] = advNode(state[nodeName], body);\n\t}\n\telse {\n\t\t// find closest tomb\n\t\tvar t = binaryFindLarger(sibNode.idx, state.tombs);\n\t\tsibNode._lis = true;\n\t\tvar tmpSib = advSib(state[sibName]);\n\t\tinsert(parEl, state[sibName], t != null ? body[state.tombs[t]].el : t);\n\n\t\tif (t == null)\n\t\t\t{ state.tombs.push(sibNode.idx); }\n\t\telse\n\t\t\t{ state.tombs.splice(t, 0, sibNode.idx); }\n\n\t\tstate[sibName] = tmpSib;\n\t}\n}\n\nvar syncLft = syncDir(nextSib, nextNode, insertBefore, \"lftSib\", \"lftNode\", \"rgtSib\", \"rgtNode\", insertAfter);\nvar syncRgt = syncDir(prevSib, prevNode, insertAfter, \"rgtSib\", \"rgtNode\", \"lftSib\", \"lftNode\", insertBefore);\n\nfunction syncChildren(node, donor) {\n\tvar obody\t= donor.body,\n\t\tparEl\t= node.el,\n\t\tbody\t= node.body,\n\t\tstate = {\n\t\t\tlftNode:\tbody[0],\n\t\t\trgtNode:\tbody[body.length - 1],\n\t\t\tlftSib:\t\t((obody)[0] || emptyObj).el,\n\t\t\trgtSib:\t\t(obody[obody.length - 1] || emptyObj).el,\n\t\t};\n\n\tconverge:\n\twhile (1) {\n//\t\tfrom_left:\n\t\twhile (1) {\n\t\t\tvar l = syncLft(node, parEl, body, state, null, false);\n\t\t\tif (l === BREAK) { break; }\n\t\t\tif (l === BREAK_ALL) { break converge; }\n\t\t}\n\n//\t\tfrom_right:\n\t\twhile (1) {\n\t\t\tvar r = syncRgt(node, parEl, body, state, state.lftNode, false);\n\t\t\tif (r === BREAK) { break; }\n\t\t\tif (r === BREAK_ALL) { break converge; }\n\t\t}\n\n\t\tsortDOM(node, parEl, body, state);\n\t\tbreak;\n\t}\n}\n\n// TODO: also use the state.rgtSib and state.rgtNode bounds, plus reduce LIS range\nfunction sortDOM(node, parEl, body, state) {\n\tvar kids = Array.prototype.slice.call(parEl.childNodes);\n\tvar domIdxs = [];\n\n\tfor (var k = 0; k < kids.length; k++) {\n\t\tvar n = kids[k]._node;\n\n\t\tif (n.parent === node)\n\t\t\t{ domIdxs.push(n.idx); }\n\t}\n\n\t// list of non-movable vnode indices (already in correct order in old dom)\n\tvar tombs = longestIncreasingSubsequence(domIdxs).map(function (i) { return domIdxs[i]; });\n\n\tfor (var i = 0; i < tombs.length; i++)\n\t\t{ body[tombs[i]]._lis = true; }\n\n\tstate.tombs = tombs;\n\n\twhile (1) {\n\t\tvar r = syncLft(node, parEl, body, state, null, true);\n\t\tif (r === BREAK_ALL) { break; }\n\t}\n}\n\nfunction alreadyAdopted(vnode) {\n\treturn vnode.el._node.parent !== vnode.parent;\n}\n\nfunction takeSeqIndex(n, obody, fromIdx) {\n\treturn obody[fromIdx];\n}\n\nfunction findSeqThorough(n, obody, fromIdx) {\t\t// pre-tested isView?\n\tfor (; fromIdx < obody.length; fromIdx++) {\n\t\tvar o = obody[fromIdx];\n\n\t\tif (o.vm != null) {\n\t\t\t// match by key & viewFn || vm\n\t\t\tif (n.type === VVIEW && o.vm.view === n.view && o.vm.key === n.key || n.type === VMODEL && o.vm === n.vm)\n\t\t\t\t{ return o; }\n\t\t}\n\t\telse if (!alreadyAdopted(o) && n.tag === o.tag && n.type === o.type && n.key === o.key && (n.flags & ~DEEP_REMOVE) === (o.flags & ~DEEP_REMOVE))\n\t\t\t{ return o; }\n\t}\n\n\treturn null;\n}\n\nfunction findHashKeyed(n, obody, fromIdx) {\n\treturn obody[obody._keys[n.key]];\n}\n\n/*\n// list must be a sorted list of vnodes by key\nfunction findBinKeyed(n, list) {\n\tvar idx = binaryKeySearch(list, n.key);\n\treturn idx > -1 ? list[idx] : null;\n}\n*/\n\n// have it handle initial hydrate? !donor?\n// types (and tags if ELEM) are assumed the same, and donor exists\nfunction patch(vnode, donor) {\n\tfireHook(donor.hooks, \"willRecycle\", donor, vnode);\n\n\tvar el = vnode.el = donor.el;\n\n\tvar obody = donor.body;\n\tvar nbody = vnode.body;\n\n\tel._node = vnode;\n\n\t// \"\" => \"\"\n\tif (vnode.type === TEXT && nbody !== obody) {\n\t\tel.nodeValue = nbody;\n\t\treturn;\n\t}\n\n\tif (vnode.attrs != null || donor.attrs != null)\n\t\t{ patchAttrs(vnode, donor, false); }\n\n\t// patch events\n\n\tvar oldIsArr = isArr(obody);\n\tvar newIsArr = isArr(nbody);\n\tvar lazyList = (vnode.flags & LAZY_LIST) === LAZY_LIST;\n\n//\tvar nonEqNewBody = nbody != null && nbody !== obody;\n\n\tif (oldIsArr) {\n\t\t// [] => []\n\t\tif (newIsArr || lazyList)\n\t\t\t{ patchChildren(vnode, donor); }\n\t\t// [] => \"\" | null\n\t\telse if (nbody !== obody) {\n\t\t\tif (nbody != null)\n\t\t\t\t{ el.textContent = nbody; }\n\t\t\telse\n\t\t\t\t{ clearChildren(donor); }\n\t\t}\n\t}\n\telse {\n\t\t// \"\" | null => []\n\t\tif (newIsArr) {\n\t\t\tclearChildren(donor);\n\t\t\thydrateBody(vnode);\n\t\t}\n\t\t// \"\" | null => \"\" | null\n\t\telse if (nbody !== obody) {\n\t\t\tif (el.firstChild)\n\t\t\t\t{ el.firstChild.nodeValue = nbody; }\n\t\t\telse\n\t\t\t\t{ el.textContent = nbody; }\n\t\t}\n\t}\n\n\tfireHook(donor.hooks, \"didRecycle\", donor, vnode);\n}\n\n// larger qtys of KEYED_LIST children will use binary search\n//const SEQ_FAILS_MAX = 100;\n\n// TODO: modify vtree matcher to work similar to dom reconciler for keyed from left -> from right -> head/tail -> binary\n// fall back to binary if after failing nri - nli > SEQ_FAILS_MAX\n// while-advance non-keyed fromIdx\n// [] => []\nfunction patchChildren(vnode, donor) {\n\tvar nbody\t\t= vnode.body,\n\t\tnlen\t\t= nbody.length,\n\t\tobody\t\t= donor.body,\n\t\tolen\t\t= obody.length,\n\t\tisLazy\t\t= (vnode.flags & LAZY_LIST) === LAZY_LIST,\n\t\tisFixed\t\t= (vnode.flags & FIXED_BODY) === FIXED_BODY,\n\t\tisKeyed\t\t= (vnode.flags & KEYED_LIST) === KEYED_LIST,\n\t\tdomSync\t\t= !isFixed && vnode.type === ELEMENT,\n\t\tdoFind\t\t= true,\n\t\tfind\t\t= (\n\t\t\tisKeyed ? findHashKeyed :\t\t\t\t// keyed lists/lazyLists\n\t\t\tisFixed || isLazy ? takeSeqIndex :\t\t// unkeyed lazyLists and FIXED_BODY\n\t\t\tfindSeqThorough\t\t\t\t\t\t\t// more complex stuff\n\t\t);\n\n\tif (isKeyed) {\n\t\tvar keys = {};\n\t\tfor (var i = 0; i < obody.length; i++)\n\t\t\t{ keys[obody[i].key] = i; }\n\t\tobody._keys = keys;\n\t}\n\n\tif (domSync && nlen === 0) {\n\t\tclearChildren(donor);\n\t\tif (isLazy)\n\t\t\t{ vnode.body = []; }\t// nbody.tpl(all);\n\t\treturn;\n\t}\n\n\tvar donor2,\n\t\tnode2,\n\t\tfoundIdx,\n\t\tpatched = 0,\n\t\teverNonseq = false,\n\t\tfromIdx = 0;\t\t// first unrecycled node (search head)\n\n\tif (isLazy) {\n\t\tvar fnode2 = {key: null};\n\t\tvar nbodyNew = Array(nlen);\n\t}\n\n\tfor (var i = 0; i < nlen; i++) {\n\t\tif (isLazy) {\n\t\t\tvar remake = false;\n\t\t\tvar diffRes = null;\n\n\t\t\tif (doFind) {\n\t\t\t\tif (isKeyed)\n\t\t\t\t\t{ fnode2.key = nbody.key(i); }\n\n\t\t\t\tdonor2 = find(fnode2, obody, fromIdx);\n\t\t\t}\n\n\t\t\tif (donor2 != null) {\n                foundIdx = donor2.idx;\n\t\t\t\tdiffRes = nbody.diff(i, donor2);\n\n\t\t\t\t// diff returns same, so cheaply adopt vnode without patching\n\t\t\t\tif (diffRes === true) {\n\t\t\t\t\tnode2 = donor2;\n\t\t\t\t\tnode2.parent = vnode;\n\t\t\t\t\tnode2.idx = i;\n\t\t\t\t\tnode2._lis = false;\n\t\t\t\t}\n\t\t\t\t// diff returns new diffVals, so generate new vnode & patch\n\t\t\t\telse\n\t\t\t\t\t{ remake = true; }\n\t\t\t}\n\t\t\telse\n\t\t\t\t{ remake = true; }\n\n\t\t\tif (remake) {\n\t\t\t\tnode2 = nbody.tpl(i);\t\t\t// what if this is a VVIEW, VMODEL, injected element?\n\t\t\t\tpreProc(node2, vnode, i);\n\n\t\t\t\tnode2._diff = diffRes != null ? diffRes : nbody.diff(i);\n\n\t\t\t\tif (donor2 != null)\n\t\t\t\t\t{ patch(node2, donor2); }\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// TODO: flag tmp FIXED_BODY on unchanged nodes?\n\n\t\t\t\t// domSync = true;\t\tif any idx changes or new nodes added/removed\n\t\t\t}\n\n\t\t\tnbodyNew[i] = node2;\n\t\t}\n\t\telse {\n\t\t\tvar node2 = nbody[i];\n\t\t\tvar type2 = node2.type;\n\n\t\t\t// ELEMENT,TEXT,COMMENT\n\t\t\tif (type2 <= COMMENT) {\n\t\t\t\tif (donor2 = doFind && find(node2, obody, fromIdx)) {\n\t\t\t\t\tpatch(node2, donor2);\n\t\t\t\t\tfoundIdx = donor2.idx;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (type2 === VVIEW) {\n\t\t\t\tif (donor2 = doFind && find(node2, obody, fromIdx)) {\t\t// update/moveTo\n\t\t\t\t\tfoundIdx = donor2.idx;\n\t\t\t\t\tvar vm = donor2.vm._update(node2.data, vnode, i);\t\t// withDOM\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\t{ var vm = createView(node2.view, node2.data, node2.key, node2.opts)._redraw(vnode, i, false); }\t// createView, no dom (will be handled by sync below)\n\n\t\t\t\ttype2 = vm.node.type;\n\t\t\t}\n\t\t\telse if (type2 === VMODEL) {\n\t\t\t\t// if the injected vm has never been rendered, this vm._update() serves as the\n\t\t\t\t// initial vtree creator, but must avoid hydrating (creating .el) because syncChildren()\n\t\t\t\t// which is responsible for mounting below (and optionally hydrating), tests .el presence\n\t\t\t\t// to determine if hydration & mounting are needed\n\t\t\t\tvar withDOM = isHydrated(node2.vm);\n\n\t\t\t\tvar vm = node2.vm._update(node2.data, vnode, i, withDOM);\n\t\t\t\ttype2 = vm.node.type;\n\t\t\t}\n\t\t}\n\n\t\t// found donor & during a sequential search ...at search head\n\t\tif (!isKeyed && donor2 != null) {\n\t\t\tif (foundIdx === fromIdx) {\n\t\t\t\t// advance head\n\t\t\t\tfromIdx++;\n\t\t\t\t// if all old vnodes adopted and more exist, stop searching\n\t\t\t\tif (fromIdx === olen && nlen > olen) {\n\t\t\t\t\t// short-circuit find, allow loop just create/init rest\n\t\t\t\t\tdonor2 = null;\n\t\t\t\t\tdoFind = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\t{ everNonseq = true; }\n\n\t\t\tif (olen > 100 && everNonseq && ++patched % 10 === 0)\n\t\t\t\t{ while (fromIdx < olen && alreadyAdopted(obody[fromIdx]))\n\t\t\t\t\t{ fromIdx++; } }\n\t\t}\n\t}\n\n\t// replace List w/ new body\n\tif (isLazy)\n\t\t{ vnode.body = nbodyNew; }\n\n\tdomSync && syncChildren(vnode, donor);\n}\n\n// view + key serve as the vm's unique identity\nfunction ViewModel(view, data, key, opts) {\n\tvar vm = this;\n\n\tvm.view = view;\n\tvm.data = data;\n\tvm.key = key;\n\n\tif (opts) {\n\t\tvm.opts = opts;\n\t\tvm.config(opts);\n\t}\n\n\tvar out = isPlainObj(view) ? view : view.call(vm, vm, data, key, opts);\n\n\tif (isFunc(out))\n\t\t{ vm.render = out; }\n\telse {\n\t\tvm.render = out.render;\n\t\tvm.config(out);\n\t}\n\n\t// these must be wrapped here since they're debounced per view\n\tvm._redrawAsync = raft(function (_) { return vm.redraw(true); });\n\tvm._updateAsync = raft(function (newData) { return vm.update(newData, true); });\n\n\tvm.init && vm.init.call(vm, vm, vm.data, vm.key, opts);\n}\n\nvar ViewModelProto = ViewModel.prototype = {\n\tconstructor: ViewModel,\n\n\t_diff:\tnull,\t// diff cache\n\n\tinit:\tnull,\n\tview:\tnull,\n\tkey:\tnull,\n\tdata:\tnull,\n\tstate:\tnull,\n\tapi:\tnull,\n\topts:\tnull,\n\tnode:\tnull,\n\thooks:\tnull,\n\tonevent: noop,\n\trefs:\tnull,\n\trender:\tnull,\n\n\tmount: mount,\n\tunmount: unmount,\n\tconfig: function(opts) {\n\t\tvar t = this;\n\n\t\tif (opts.init)\n\t\t\t{ t.init = opts.init; }\n\t\tif (opts.diff)\n\t\t\t{ t.diff = opts.diff; }\n\t\tif (opts.onevent)\n\t\t\t{ t.onevent = opts.onevent; }\n\n\t\t// maybe invert assignment order?\n\t\tif (opts.hooks)\n\t\t\t{ t.hooks = assignObj(t.hooks || {}, opts.hooks); }\n\n\t\t{\n\t\t\tif (opts.onemit)\n\t\t\t\t{ t.onemit = assignObj(t.onemit || {}, opts.onemit); }\n\t\t}\n\t},\n\tparent: function() {\n\t\treturn getVm(this.node.parent);\n\t},\n\troot: function() {\n\t\tvar p = this.node;\n\n\t\twhile (p.parent)\n\t\t\t{ p = p.parent; }\n\n\t\treturn p.vm;\n\t},\n\tredraw: function(sync) {\n\t\tvar vm = this;\n\t\tsync ? vm._redraw(null, null, isHydrated(vm)) : vm._redrawAsync();\n\t\treturn vm;\n\t},\n\tupdate: function(newData, sync) {\n\t\tvar vm = this;\n\t\tsync ? vm._update(newData, null, null, isHydrated(vm)) : vm._updateAsync(newData);\n\t\treturn vm;\n\t},\n\n\t_update: updateSync,\n\t_redraw: redrawSync,\n\t_redrawAsync: null,\n\t_updateAsync: null,\n};\n\nfunction mount(el, isRoot) {\n\tvar vm = this;\n\n\tif (isRoot) {\n\t\tclearChildren({el: el, flags: 0});\n\n\t\tvm._redraw(null, null, false);\n\n\t\t// if placeholder node doesnt match root tag\n\t\tif (el.nodeName.toLowerCase() !== vm.node.tag) {\n\t\t\thydrate(vm.node);\n\t\t\tinsertBefore(el.parentNode, vm.node.el, el);\n\t\t\tel.parentNode.removeChild(el);\n\t\t}\n\t\telse\n\t\t\t{ insertBefore(el.parentNode, hydrate(vm.node, el), el); }\n\t}\n\telse {\n\t\tvm._redraw(null, null);\n\n\t\tif (el)\n\t\t\t{ insertBefore(el, vm.node.el); }\n\t}\n\n\tif (el)\n\t\t{ drainDidHooks(vm); }\n\n\treturn vm;\n}\n\n// asSub means this was called from a sub-routine, so don't drain did* hook queue\nfunction unmount(asSub) {\n\tvar vm = this;\n\n\tvar node = vm.node;\n\tvar parEl = node.el.parentNode;\n\n\t// edge bug: this could also be willRemove promise-delayed; should .then() or something to make sure hooks fire in order\n\tremoveChild(parEl, node.el);\n\n\tif (!asSub)\n\t\t{ drainDidHooks(vm); }\n}\n\nfunction reParent(vm, vold, newParent, newIdx) {\n\tif (newParent != null) {\n\t\tnewParent.body[newIdx] = vold;\n\t\tvold.idx = newIdx;\n\t\tvold.parent = newParent;\n\t\tvold._lis = false;\n\t}\n\treturn vm;\n}\n\nfunction redrawSync(newParent, newIdx, withDOM) {\n\tvar isRedrawRoot = newParent == null;\n\tvar vm = this;\n\tvar isMounted = vm.node && vm.node.el && vm.node.el.parentNode;\n\n\tvar vold = vm.node, oldDiff, newDiff;\n\n\tif (vm.diff != null) {\n\t\toldDiff = vm._diff;\n\t\tvm._diff = newDiff = vm.diff(vm, vm.data);\n\n\t\tif (vold != null) {\n\t\t\tvar cmpFn = isArr(oldDiff) ? cmpArr : cmpObj;\n\t\t\tvar isSame = oldDiff === newDiff || cmpFn(oldDiff, newDiff);\n\n\t\t\tif (isSame)\n\t\t\t\t{ return reParent(vm, vold, newParent, newIdx); }\n\t\t}\n\t}\n\n\tisMounted && fireHook(vm.hooks, \"willRedraw\", vm, vm.data);\n\n\tvar vnew = vm.render.call(vm, vm, vm.data, oldDiff, newDiff);\n\n\tif (vnew === vold)\n\t\t{ return reParent(vm, vold, newParent, newIdx); }\n\n\t// todo: test result of willRedraw hooks before clearing refs\n\tvm.refs = null;\n\n\t// always assign vm key to root vnode (this is a de-opt)\n\tif (vm.key != null && vnew.key !== vm.key)\n\t\t{ vnew.key = vm.key; }\n\n\tvm.node = vnew;\n\n\tif (newParent) {\n\t\tpreProc(vnew, newParent, newIdx, vm);\n\t\tnewParent.body[newIdx] = vnew;\n\t}\n\telse if (vold && vold.parent) {\n\t\tpreProc(vnew, vold.parent, vold.idx, vm);\n\t\tvold.parent.body[vold.idx] = vnew;\n\t}\n\telse\n\t\t{ preProc(vnew, null, null, vm); }\n\n\tif (withDOM !== false) {\n\t\tif (vold) {\n\t\t\t// root node replacement\n\t\t\tif (vold.tag !== vnew.tag || vold.key !== vnew.key) {\n\t\t\t\t// hack to prevent the replacement from triggering mount/unmount\n\t\t\t\tvold.vm = vnew.vm = null;\n\n\t\t\t\tvar parEl = vold.el.parentNode;\n\t\t\t\tvar refEl = nextSib(vold.el);\n\t\t\t\tremoveChild(parEl, vold.el);\n\t\t\t\tinsertBefore(parEl, hydrate(vnew), refEl);\n\n\t\t\t\t// another hack that allows any higher-level syncChildren to set\n\t\t\t\t// reconciliation bounds using a live node\n\t\t\t\tvold.el = vnew.el;\n\n\t\t\t\t// restore\n\t\t\t\tvnew.vm = vm;\n\t\t\t}\n\t\t\telse\n\t\t\t\t{ patch(vnew, vold); }\n\t\t}\n\t\telse\n\t\t\t{ hydrate(vnew); }\n\t}\n\n\tisMounted && fireHook(vm.hooks, \"didRedraw\", vm, vm.data);\n\n\tif (isRedrawRoot && isMounted)\n\t\t{ drainDidHooks(vm); }\n\n\treturn vm;\n}\n\n// this also doubles as moveTo\n// TODO? @withRedraw (prevent redraw from firing)\nfunction updateSync(newData, newParent, newIdx, withDOM) {\n\tvar vm = this;\n\n\tif (newData != null) {\n\t\tif (vm.data !== newData) {\n\t\t\tfireHook(vm.hooks, \"willUpdate\", vm, newData);\n\t\t\tvm.data = newData;\n\n\t\t\t\n\t\t}\n\t}\n\n\treturn vm._redraw(newParent, newIdx, withDOM);\n}\n\nfunction defineElement(tag, arg1, arg2, flags) {\n\tvar attrs, body;\n\n\tif (arg2 == null) {\n\t\tif (isPlainObj(arg1))\n\t\t\t{ attrs = arg1; }\n\t\telse\n\t\t\t{ body = arg1; }\n\t}\n\telse {\n\t\tattrs = arg1;\n\t\tbody = arg2;\n\t}\n\n\treturn initElementNode(tag, attrs, body, flags);\n}\n\n//export const XML_NS = \"http://www.w3.org/2000/xmlns/\";\nvar SVG_NS = \"http://www.w3.org/2000/svg\";\n\nfunction defineSvgElement(tag, arg1, arg2, flags) {\n\tvar n = defineElement(tag, arg1, arg2, flags);\n\tn.ns = SVG_NS;\n\treturn n;\n}\n\nfunction defineComment(body) {\n\tvar node = new VNode;\n\tnode.type = COMMENT;\n\tnode.body = body;\n\treturn node;\n}\n\n// placeholder for declared views\nfunction VView(view, data, key, opts) {\n\tthis.view = view;\n\tthis.data = data;\n\tthis.key = key;\n\tthis.opts = opts;\n}\n\nVView.prototype = {\n\tconstructor: VView,\n\n\ttype: VVIEW,\n\tview: null,\n\tdata: null,\n\tkey: null,\n\topts: null,\n};\n\nfunction defineView(view, data, key, opts) {\n\treturn new VView(view, data, key, opts);\n}\n\n// placeholder for injected ViewModels\nfunction VModel(vm) {\n\tthis.vm = vm;\n}\n\nVModel.prototype = {\n\tconstructor: VModel,\n\n\ttype: VMODEL,\n\tvm: null,\n};\n\nfunction injectView(vm) {\n//\tif (vm.node == null)\n//\t\tvm._redraw(null, null, false);\n\n//\treturn vm.node;\n\n\treturn new VModel(vm);\n}\n\nfunction injectElement(el) {\n\tvar node = new VNode;\n\tnode.type = ELEMENT;\n\tnode.el = node.key = el;\n\treturn node;\n}\n\nfunction lazyList(items, cfg) {\n\tvar len = items.length;\n\n\tvar self = {\n\t\titems: items,\n\t\tlength: len,\n\t\t// defaults to returning item identity (or position?)\n\t\tkey: function(i) {\n\t\t\treturn cfg.key(items[i], i);\n\t\t},\n\t\t// default returns 0?\n\t\tdiff: function(i, donor) {\n\t\t\tvar newVals = cfg.diff(items[i], i);\n\t\t\tif (donor == null)\n\t\t\t\t{ return newVals; }\n\t\t\tvar oldVals = donor._diff;\n\t\t\tvar same = newVals === oldVals || isArr(oldVals) ? cmpArr(newVals, oldVals) : cmpObj(newVals, oldVals);\n\t\t\treturn same || newVals;\n\t\t},\n\t\ttpl: function(i) {\n\t\t\treturn cfg.tpl(items[i], i);\n\t\t},\n\t\tmap: function(tpl) {\n\t\t\tcfg.tpl = tpl;\n\t\t\treturn self;\n\t\t},\n\t\tbody: function(vnode) {\n\t\t\tvar nbody = Array(len);\n\n\t\t\tfor (var i = 0; i < len; i++) {\n\t\t\t\tvar vnode2 = self.tpl(i);\n\n\t\t\t//\tif ((vnode.flags & KEYED_LIST) === KEYED_LIST && self. != null)\n\t\t\t//\t\tvnode2.key = getKey(item);\n\n\t\t\t\tvnode2._diff = self.diff(i);\t\t\t// holds oldVals for cmp\n\n\t\t\t\tnbody[i] = vnode2;\n\n\t\t\t\t// run preproc pass (should this be just preProc in above loop?) bench\n\t\t\t\tpreProc(vnode2, vnode, i);\n\t\t\t}\n\n\t\t\t// replace List with generated body\n\t\t\tvnode.body = nbody;\n\t\t}\n\t};\n\n\treturn self;\n}\n\nvar nano = {\n\tconfig: config,\n\n\tViewModel: ViewModel,\n\tVNode: VNode,\n\n\tcreateView: createView,\n\n\tdefineElement: defineElement,\n\tdefineSvgElement: defineSvgElement,\n\tdefineText: defineText,\n\tdefineComment: defineComment,\n\tdefineView: defineView,\n\n\tinjectView: injectView,\n\tinjectElement: injectElement,\n\n\tlazyList: lazyList,\n\n\tFIXED_BODY: FIXED_BODY,\n\tDEEP_REMOVE: DEEP_REMOVE,\n\tKEYED_LIST: KEYED_LIST,\n\tLAZY_LIST: LAZY_LIST,\n};\n\nfunction protoPatch(n, doRepaint) {\n\tpatch$1(this, n, doRepaint);\n}\n\n// newNode can be either {class: style: } or full new VNode\n// will/didPatch hooks?\nfunction patch$1(o, n, doRepaint) {\n\tif (n.type != null) {\n\t\t// no full patching of view roots, just use redraw!\n\t\tif (o.vm != null)\n\t\t\t{ return; }\n\n\t\tpreProc(n, o.parent, o.idx, null);\n\t\to.parent.body[o.idx] = n;\n\t\tpatch(n, o);\n\t\tdoRepaint && repaint(n);\n\t\tdrainDidHooks(getVm(n));\n\t}\n\telse {\n\t\t// TODO: re-establish refs\n\n\t\t// shallow-clone target\n\t\tvar donor = Object.create(o);\n\t\t// fixate orig attrs\n\t\tdonor.attrs = assignObj({}, o.attrs);\n\t\t// assign new attrs into live targ node\n\t\tvar oattrs = assignObj(o.attrs, n);\n\t\t// prepend any fixed shorthand class\n\t\tif (o._class != null) {\n\t\t\tvar aclass = oattrs.class;\n\t\t\toattrs.class = aclass != null && aclass !== \"\" ? o._class + \" \" + aclass : o._class;\n\t\t}\n\n\t\tpatchAttrs(o, donor);\n\n\t\tdoRepaint && repaint(o);\n\t}\n}\n\nVNodeProto.patch = protoPatch;\n\nfunction nextSubVms(n, accum) {\n\tvar body = n.body;\n\n\tif (isArr(body)) {\n\t\tfor (var i = 0; i < body.length; i++) {\n\t\t\tvar n2 = body[i];\n\n\t\t\tif (n2.vm != null)\n\t\t\t\t{ accum.push(n2.vm); }\n\t\t\telse\n\t\t\t\t{ nextSubVms(n2, accum); }\n\t\t}\n\t}\n\n\treturn accum;\n}\n\nfunction defineElementSpread(tag) {\n\tvar args = arguments;\n\tvar len = args.length;\n\tvar body, attrs;\n\n\tif (len > 1) {\n\t\tvar bodyIdx = 1;\n\n\t\tif (isPlainObj(args[1])) {\n\t\t\tattrs = args[1];\n\t\t\tbodyIdx = 2;\n\t\t}\n\n\t\tif (len === bodyIdx + 1 && (isVal(args[bodyIdx]) || isArr(args[bodyIdx]) || attrs && (attrs._flags & LAZY_LIST) === LAZY_LIST))\n\t\t\t{ body = args[bodyIdx]; }\n\t\telse\n\t\t\t{ body = sliceArgs(args, bodyIdx); }\n\t}\n\n\treturn initElementNode(tag, attrs, body);\n}\n\nfunction defineSvgElementSpread() {\n\tvar n = defineElementSpread.apply(null, arguments);\n\tn.ns = SVG_NS;\n\treturn n;\n}\n\nViewModelProto.emit = emit;\nViewModelProto.onemit = null;\n\nViewModelProto.body = function() {\n\treturn nextSubVms(this.node, []);\n};\n\nnano.defineElementSpread = defineElementSpread;\nnano.defineSvgElementSpread = defineSvgElementSpread;\n\nreturn nano;\n\n})));\n//# sourceMappingURL=domvm.micro.js.map\n\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(__webpack_require__(58));\n__export(__webpack_require__(31));\n__export(__webpack_require__(30));\n\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = __webpack_require__(2);\nvar dom_1 = __webpack_require__(0);\nvar events_1 = __webpack_require__(7);\nvar html_1 = __webpack_require__(3);\nvar types_1 = __webpack_require__(30);\nvar Wrapper_1 = __webpack_require__(31);\nvar Popup = /** @class */ (function (_super) {\n    __extends(Popup, _super);\n    function Popup(config) {\n        if (config === void 0) { config = {}; }\n        var _this = _super.call(this, core_1.extend({}, config)) || this;\n        _this.events = config.events || new events_1.EventSystem();\n        _this._isActive = false;\n        return _this;\n    }\n    Popup.prototype.show = function (node, config, attached) {\n        var _this = this;\n        if (config === void 0) { config = {}; }\n        if (this.events.fire(types_1.PopupEvents.beforeShow) === false) {\n            return;\n        }\n        if (this._isActive) {\n            this.hide();\n        }\n        if (attached) {\n            this.attach(attached);\n        }\n        setTimeout(function () {\n            document.body.appendChild(_this._popup);\n            var _a = _this._popup.getBoundingClientRect(), width = _a.width, height = _a.height;\n            var _b = html_1.fitPosition(node, __assign({}, config, { width: width, height: height })), left = _b.left, top = _b.top;\n            _this._popup.style.left = left;\n            _this._popup.style.top = top;\n            _this._isActive = true;\n            _this.events.fire(types_1.PopupEvents.afterShow);\n            _this._outerClickDestructor = _this._detectOuterClick(node);\n        });\n    };\n    Popup.prototype.hide = function () {\n        this._hide(false);\n    };\n    Popup.prototype.isVisible = function () {\n        return this._isActive;\n    };\n    Popup.prototype.toVDOM = function () {\n        return dom_1.el(\"div\", {\n            class: \"dhx-popup-content \" + (this.config.css || \"\"),\n            _key: this._uid\n        }, [\n            _super.prototype.toVDOM.call(this)\n        ]);\n    };\n    Popup.prototype._initHandlers = function () {\n        this._handlers = {};\n    };\n    Popup.prototype._detectOuterClick = function (node) {\n        var _this = this;\n        var outerClick = function (e) {\n            var target = e.target;\n            while (target) {\n                if (target === node || target === _this._popup) {\n                    return;\n                }\n                target = target.parentNode;\n            }\n            if (_this._hide(true)) {\n                document.removeEventListener(\"click\", outerClick);\n            }\n        };\n        document.addEventListener(\"click\", outerClick);\n        return function () { return document.removeEventListener(\"click\", outerClick); };\n    };\n    Popup.prototype._hide = function (fromOuterClick) {\n        if (this._isActive) {\n            if (this.events.fire(types_1.PopupEvents.beforeHide, [fromOuterClick]) === false) {\n                return false;\n            }\n            document.body.removeChild(this._popup);\n            this._isActive = false;\n            if (this._outerClickDestructor) {\n                this._outerClickDestructor();\n                this._outerClickDestructor = null;\n            }\n            this.events.fire(types_1.PopupEvents.afterHide);\n            return true;\n        }\n    };\n    return Popup;\n}(Wrapper_1.Wrapper));\nexports.Popup = Popup;\n\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction HSVtoRGB(hsv) {\n    var rgb = { r: 0, g: 0, b: 0 };\n    var h = hsv.h / 60;\n    var s = hsv.s;\n    var v = hsv.v;\n    var i = Math.floor(h) % 6;\n    var f = h - Math.floor(h);\n    var p = 255 * v * (1 - s);\n    var q = 255 * v * (1 - (s * f));\n    var t = 255 * v * (1 - (s * (1 - f)));\n    v *= 255;\n    switch (i) {\n        case 0:\n            rgb.r = v;\n            rgb.g = t;\n            rgb.b = p;\n            break;\n        case 1:\n            rgb.r = q;\n            rgb.g = v;\n            rgb.b = p;\n            break;\n        case 2:\n            rgb.r = p;\n            rgb.g = v;\n            rgb.b = t;\n            break;\n        case 3:\n            rgb.r = p;\n            rgb.g = q;\n            rgb.b = v;\n            break;\n        case 4:\n            rgb.r = t;\n            rgb.g = p;\n            rgb.b = v;\n            break;\n        case 5:\n            rgb.r = v;\n            rgb.g = p;\n            rgb.b = q;\n            break;\n    }\n    for (var key in rgb) {\n        rgb[key] = Math.round(rgb[key]);\n    }\n    return rgb;\n}\nexports.HSVtoRGB = HSVtoRGB;\nfunction RGBToHex(rgb) {\n    return Object.keys(rgb).reduce(function (hex, c) {\n        var h = rgb[c].toString(16).toUpperCase();\n        h = h.length === 1 ? \"0\" + h : h;\n        return hex += h;\n    }, \"#\");\n}\nexports.RGBToHex = RGBToHex;\nfunction HexToRGB(hex) {\n    var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    hex = hex.replace(shorthandRegex, function (_m, r, g, b) {\n        return r + r + g + g + b + b;\n    });\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16)\n    } : null;\n}\nexports.HexToRGB = HexToRGB;\nfunction RGBToHSV(rgb) {\n    var h;\n    var s;\n    var r = rgb.r / 255;\n    var g = rgb.g / 255;\n    var b = rgb.b / 255;\n    var v = Math.max(r, g, b);\n    var diff = v - Math.min(r, g, b);\n    var diffc = function (c) {\n        return (v - c) / 6 / diff + 1 / 2;\n    };\n    if (diff === 0) {\n        h = s = 0;\n    }\n    else {\n        s = diff / v;\n        var rdif = diffc(r);\n        var gdif = diffc(g);\n        var bdif = diffc(b);\n        if (r === v) {\n            h = bdif - gdif;\n        }\n        else if (g === v) {\n            h = (1 / 3) + rdif - bdif;\n        }\n        else if (b === v) {\n            h = (2 / 3) + gdif - rdif;\n        }\n        if (h < 0) {\n            h += 1;\n        }\n        else if (h > 1) {\n            h -= 1;\n        }\n    }\n    return {\n        h: Math.floor(h * 360),\n        s: s,\n        v: v\n    };\n}\nexports.RGBToHSV = RGBToHSV;\nfunction HexToHSV(hex) {\n    return RGBToHSV(HexToRGB(hex));\n}\nexports.HexToHSV = HexToHSV;\nfunction isHex(hex) {\n    return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(hex);\n}\nexports.isHex = isHex;\n\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.grayShades = [\n    \"#000000\",\n    \"#4C4C4C\",\n    \"#666666\",\n    \"#808080\",\n    \"#999999\",\n    \"#B3B3B3\",\n    \"#CCCCCC\",\n    \"#E6E6E6\",\n    \"#F2F2F2\",\n    \"#FFFFFF\"\n];\nexports.palette = [{\n        colors: [\n            \"#D4DAE4\",\n            \"#B0B8CD\",\n            \"#949DB1\",\n            \"#727A8C\",\n            \"#5E6677\",\n            \"#3F4757\",\n            \"#1D2534\"\n        ]\n    },\n    {\n        colors: [\n            \"#FFCDD2\",\n            \"#FE9998\",\n            \"#F35C4E\",\n            \"#E94633\",\n            \"#D73C2D\",\n            \"#CA3626\",\n            \"#BB2B1A\"\n        ]\n    },\n    {\n        colors: [\n            \"#F9E6AD\",\n            \"#F4D679\",\n            \"#EDB90F\",\n            \"#EAA100\",\n            \"#EA8F00\",\n            \"#EA7E00\",\n            \"#EA5D00\"\n        ]\n    },\n    {\n        colors: [\n            \"#BCE4CE\",\n            \"#90D2AF\",\n            \"#33B579\",\n            \"#36955F\",\n            \"#247346\",\n            \"#1D5B38\",\n            \"#17492D\"\n        ]\n    },\n    {\n        colors: [\n            \"#BDF0E9\",\n            \"#92E7DC\",\n            \"#02D7C5\",\n            \"#11B3A5\",\n            \"#018B80\",\n            \"#026B60\",\n            \"#024F43\"\n        ]\n    },\n    {\n        colors: [\n            \"#B3E5FC\",\n            \"#81D4FA\",\n            \"#29B6F6\",\n            \"#039BE5\",\n            \"#0288D1\",\n            \"#0277BD\",\n            \"#01579B\"\n        ]\n    },\n    {\n        colors: [\n            \"#AEC1FF\",\n            \"#88A3F9\",\n            \"#5874CD\",\n            \"#2349AE\",\n            \"#163FA2\",\n            \"#083596\",\n            \"#002381\"\n        ]\n    },\n    {\n        colors: [\n            \"#C5C0DA\",\n            \"#9F97C1\",\n            \"#7E6BAD\",\n            \"#584A8F\",\n            \"#4F4083\",\n            \"#473776\",\n            \"#3A265F\"\n        ]\n    },\n    {\n        colors: [\n            \"#D6BDCC\",\n            \"#C492AC\",\n            \"#A9537C\",\n            \"#963A64\",\n            \"#81355A\",\n            \"#6E3051\",\n            \"#4C2640\"\n        ]\n    },\n    {\n        colors: [\n            \"#D2C5C1\",\n            \"#B4A09A\",\n            \"#826358\",\n            \"#624339\",\n            \"#5D4037\",\n            \"#4E342E\",\n            \"#3E2723\"\n        ]\n    }\n];\n\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Promise) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar helpers_1 = __webpack_require__(13);\nvar Loader = /** @class */ (function () {\n    function Loader(parent, changes) {\n        this._parent = parent;\n        this._changes = changes; // todo: [dirty] mutation\n    }\n    Loader.prototype.load = function (url, driver) {\n        var _this = this;\n        return this._parent.loadData = url.load().then(function (data) {\n            _this._parent.removeAll();\n            _this.parse(data, driver);\n        });\n    };\n    Loader.prototype.parse = function (data, driver) {\n        if (driver === void 0) { driver = \"json\"; }\n        driver = helpers_1.toDataDriver(driver);\n        data = driver.toJsonArray(data);\n        this._parent.$parse(data);\n    };\n    Loader.prototype.save = function (url) {\n        var _this = this;\n        var _loop_1 = function (el) {\n            if (el.saving || el.pending) {\n                helpers_1.dhxWarning(\"item is saving\");\n            }\n            else {\n                var prevEl_1 = this_1._findPrevState(el.id);\n                if (prevEl_1 && prevEl_1.saving) {\n                    var pending = new Promise(function (res, rej) {\n                        prevEl_1.promise.then(function () {\n                            el.pending = false;\n                            res(_this._setPromise(el, url));\n                        }).catch(function (err) {\n                            _this._removeFromOrder(prevEl_1);\n                            _this._setPromise(el, url);\n                            helpers_1.dhxWarning(err);\n                            rej(err);\n                        });\n                    });\n                    this_1._addToChain(pending);\n                    el.pending = true;\n                }\n                else {\n                    this_1._setPromise(el, url);\n                }\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = this._changes.order; _i < _a.length; _i++) {\n            var el = _a[_i];\n            _loop_1(el);\n        }\n        this._parent.saveData.then(function () {\n            _this._saving = false;\n        });\n    };\n    Loader.prototype._setPromise = function (el, url) {\n        var _this = this;\n        el.promise = url.save(el.obj, el.status);\n        el.promise.then(function () {\n            _this._removeFromOrder(el);\n        }).catch(function (err) {\n            el.saving = false;\n            el.error = true;\n            helpers_1.dhxError(err);\n        });\n        el.saving = true;\n        this._saving = true;\n        this._addToChain(el.promise);\n        return el.promise;\n    };\n    Loader.prototype._addToChain = function (promise) {\n        // tslint:disable-next-line:prefer-conditional-expression\n        if (this._parent.saveData && this._saving) {\n            this._parent.saveData = this._parent.saveData.then(function () { return promise; });\n        }\n        else {\n            this._parent.saveData = promise;\n        }\n    };\n    Loader.prototype._findPrevState = function (id) {\n        for (var _i = 0, _a = this._changes.order; _i < _a.length; _i++) {\n            var el = _a[_i];\n            if (el.id === id) {\n                return el;\n            }\n        }\n        return null;\n    };\n    Loader.prototype._removeFromOrder = function (el) {\n        this._changes.order = this._changes.order.filter(function (item) { return !helpers_1.isEqualObj(item, el); });\n    };\n    return Loader;\n}());\nexports.Loader = Loader;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(10)))\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar helpers_1 = __webpack_require__(13);\nvar Sort = /** @class */ (function () {\n    function Sort() {\n    }\n    Sort.prototype.sort = function (array, by) {\n        var _this = this;\n        if (by.rule && typeof by.rule === \"function\") {\n            this._sort(array, by);\n        }\n        else if (by.by) {\n            by.rule = function (a, b) {\n                var aa = _this._checkVal(by.as, a[by.by]);\n                var bb = _this._checkVal(by.as, b[by.by]);\n                return helpers_1.naturalCompare(aa.toString(), bb.toString()); // didnt work with numbers\n            };\n            this._sort(array, by);\n        }\n    };\n    Sort.prototype._checkVal = function (method, val) {\n        return method ? method.call(this, val) : val;\n    };\n    Sort.prototype._sort = function (arr, conf) {\n        var _this = this;\n        var dir = {\n            asc: 1,\n            desc: -1\n        };\n        return arr.sort(function (a, b) {\n            return conf.rule.call(_this, a, b) * (dir[conf.dir] || dir.asc);\n        });\n    };\n    return Sort;\n}());\nexports.Sort = Sort;\n\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar html_1 = __webpack_require__(3);\nvar types_1 = __webpack_require__(17);\nvar CollectionStore_1 = __webpack_require__(64);\nvar treecollection_1 = __webpack_require__(36);\nvar types_2 = __webpack_require__(12);\nvar DropPosition;\n(function (DropPosition) {\n    DropPosition[DropPosition[\"top\"] = 0] = \"top\";\n    DropPosition[DropPosition[\"bot\"] = 1] = \"bot\";\n    DropPosition[DropPosition[\"in\"] = 2] = \"in\";\n})(DropPosition || (DropPosition = {}));\nfunction getParentElement(target) {\n    if (target instanceof Event) {\n        target = target.target;\n    }\n    while (target && target.getAttribute) {\n        var id = target.getAttribute(\"dhx_id\");\n        if (id) {\n            return target;\n        }\n        target = target.parentNode;\n    }\n}\nfunction getPosition(ev) {\n    var y = ev.y;\n    var element = getParentElement(ev); // may be use domvm refs\n    if (!element) {\n        return null;\n    }\n    var treeLine = element.childNodes[0];\n    var _a = treeLine.getBoundingClientRect(), top = _a.top, height = _a.height;\n    return (y - top) / height;\n}\nfunction dragEventContent(item) {\n    var ghost = document.createElement(\"div\");\n    ghost.textContent = item.value || item.text;\n    ghost.className = \"drag-ghost\"; // need pointer-events: none\n    return ghost;\n}\nvar DragManager = /** @class */ (function () {\n    function DragManager() {\n        var _this = this;\n        this._transferData = {};\n        this._canMove = true;\n        this._ghostTopPadding = -17;\n        this._onMouseMove = function (e) {\n            if (!_this._transferData.id) {\n                return;\n            }\n            var pageX = e.pageX, pageY = e.pageY;\n            if (!_this._transferData.ghost) {\n                if (Math.abs(_this._transferData.x - pageX) < 3 && Math.abs(_this._transferData.y - pageY) < 3) {\n                    return;\n                }\n                else {\n                    var ghost = _this._onDragStart(_this._transferData.id, _this._transferData.targetId);\n                    if (!ghost) {\n                        _this._endDrop();\n                        return;\n                    }\n                    else {\n                        _this._transferData.ghost = ghost;\n                        document.body.appendChild(_this._transferData.ghost);\n                    }\n                }\n            }\n            _this._moveGhost(pageX, pageY);\n            _this._onDrag(e);\n        };\n        this._onMouseUp = function () {\n            if (!_this._transferData.x) {\n                return;\n            }\n            if (_this._transferData.ghost) {\n                _this._removeGhost();\n                _this._onDrop();\n            }\n            else {\n                _this._endDrop();\n            }\n            document.removeEventListener(\"mousemove\", _this._onMouseMove);\n            document.removeEventListener(\"mouseup\", _this._onMouseUp);\n        };\n    }\n    DragManager.prototype.setItem = function (id, item, config) {\n        // const collection = document.querySelector(`[dhx_collection_id=${id}]`); // use it for add onmousedown here\n        CollectionStore_1.collectionStore.setItem(id, item, config);\n    };\n    DragManager.prototype.onMouseDown = function (e) {\n        if (e.which !== 1) {\n            return;\n        }\n        document.addEventListener(\"mousemove\", this._onMouseMove);\n        document.addEventListener(\"mouseup\", this._onMouseUp);\n        var id = html_1.locate(e, \"dhx_id\");\n        var targetId = html_1.locate(e, \"dhx_collection_id\");\n        if (id && targetId) {\n            this._transferData.x = e.x;\n            this._transferData.y = e.y;\n            this._transferData.targetId = targetId;\n            this._transferData.id = id;\n        }\n    };\n    DragManager.prototype._moveGhost = function (x, y) {\n        if (this._transferData.ghost) {\n            var width = this._transferData.ghost.offsetWidth / 2;\n            this._transferData.ghost.style.left = x - width + \"px\";\n            this._transferData.ghost.style.top = y + this._ghostTopPadding + \"px\";\n        }\n    };\n    DragManager.prototype._removeGhost = function () {\n        document.body.removeChild(this._transferData.ghost);\n    };\n    DragManager.prototype._onDrop = function () {\n        if (!this._canMove) {\n            this._endDrop();\n            return;\n        }\n        var target = CollectionStore_1.collectionStore.getItem(this._lastCollectionId);\n        var config = CollectionStore_1.collectionStore.getItemConfig(this._lastCollectionId);\n        if (!target || config.mode === types_2.DragMode.source) {\n            this._endDrop();\n            return;\n        }\n        var to = {\n            id: this._lastId,\n            target: target\n        };\n        var from = {\n            id: this._transferData.id,\n            target: this._transferData.target\n        };\n        if (from.target.events.fire(types_1.DragEvents.beforeDrop, [from, to])) {\n            this._move(from, to);\n            to.target.events.fire(types_1.DragEvents.dropComplete, [to.id, this._transferData.dropPosition]);\n        }\n        this._endDrop();\n    };\n    DragManager.prototype._onDragStart = function (id, targetId) {\n        var target = CollectionStore_1.collectionStore.getItem(targetId);\n        var config = CollectionStore_1.collectionStore.getItemConfig(targetId);\n        if (config.dragMode === types_2.DragMode.target) {\n            return null;\n        }\n        var item = target.data.getItem(id);\n        target.events.fire(types_1.DragEvents.dragStart); // we need it for cancel selection\n        var ghost = dragEventContent(item);\n        var ans = target.events.fire(types_1.DragEvents.beforeDrag, [item, ghost]);\n        if (!ans || !id) {\n            return null;\n        }\n        this._toggleTextSelection(true);\n        this._transferData.target = target;\n        this._transferData.dragConfig = config;\n        return ghost;\n    };\n    DragManager.prototype._onDrag = function (e) {\n        var x = e.x, y = e.y;\n        var element = document.elementFromPoint(x, y);\n        var id = html_1.locate(element, \"dhx_id\");\n        if (!id) {\n            this._cancelCanDrop();\n            return;\n        }\n        var collectionId = html_1.locate(element, \"dhx_collection_id\");\n        if (this._transferData.dragConfig.behaviour === types_2.DragBehaviour.complex) {\n            var pos = getPosition(e);\n            if (pos <= 0.25) {\n                this._transferData.dropPosition = DropPosition.top;\n            }\n            else if (pos >= 0.75) {\n                this._transferData.dropPosition = DropPosition.bot;\n            }\n            else {\n                this._transferData.dropPosition = DropPosition.in;\n            }\n        }\n        else if (this._lastId === id && this._lastCollectionId === collectionId) {\n            return;\n        }\n        var eventArgs;\n        var from;\n        var targetTo;\n        if ((!id || !collectionId) && this._canMove) {\n            this._cancelCanDrop();\n            return;\n        }\n        else {\n            from = {\n                id: this._transferData.id,\n                target: this._transferData.target\n            };\n            targetTo = CollectionStore_1.collectionStore.getItem(collectionId);\n            eventArgs = [from, {\n                    id: id,\n                    target: targetTo\n                }];\n            from.target.events.fire(types_1.DragEvents.dragOut, eventArgs);\n        }\n        if (collectionId !== this._transferData.targetId || !(from.target.data instanceof treecollection_1.TreeCollection) ||\n            (from.target.data instanceof treecollection_1.TreeCollection && from.target.data.canCopy(from.id, id))) {\n            // handle cursor or something, can drop\n            this._cancelCanDrop(); // clear last\n            this._lastId = id;\n            this._lastCollectionId = collectionId;\n            eventArgs.push(this._transferData.dropPosition);\n            var canMove = from.target.events.fire(types_1.DragEvents.dragIn, eventArgs);\n            if (canMove) {\n                this._canDrop();\n            }\n        }\n        else {\n            this._cancelCanDrop();\n        }\n    };\n    DragManager.prototype._move = function (from, to) {\n        var fromData = from.target.data;\n        var toData = to.target.data;\n        var index = 0;\n        var targetId = to.id;\n        var behaviour = this._transferData.dragConfig.behaviour;\n        switch (behaviour) {\n            case types_2.DragBehaviour.child:\n                break;\n            case types_2.DragBehaviour.sibling:\n                targetId = toData.getParent(targetId);\n                index = toData.getIndex(to.id) + 1;\n                break;\n            case types_2.DragBehaviour.complex:\n                var dropPosition = this._transferData.dropPosition;\n                if (dropPosition === DropPosition.top) {\n                    targetId = toData.getParent(targetId);\n                    index = toData.getIndex(to.id);\n                }\n                else if (dropPosition === DropPosition.bot) {\n                    targetId = toData.getParent(targetId);\n                    index = toData.getIndex(to.id) + 1;\n                }\n                break;\n        }\n        if (this._transferData.dragConfig.copy) {\n            fromData.copy(from.id, index, toData, targetId);\n        }\n        else {\n            fromData.move(from.id, index, toData, targetId);\n        }\n    };\n    DragManager.prototype._endDrop = function () {\n        this._toggleTextSelection(false);\n        if (this._transferData.target) {\n            this._transferData.target.events.fire(types_1.DragEvents.dragEnd);\n        }\n        this._cancelCanDrop();\n        this._canMove = true;\n        this._transferData = {};\n        this._lastId = null;\n        this._lastCollectionId = null;\n    };\n    DragManager.prototype._cancelCanDrop = function () {\n        this._canMove = false;\n        var collection = CollectionStore_1.collectionStore.getItem(this._lastCollectionId);\n        if (collection && this._lastId) {\n            collection.events.fire(types_1.DragEvents.cancelDrop, [this._lastId]);\n        }\n    };\n    DragManager.prototype._canDrop = function () {\n        this._canMove = true;\n        var collection = CollectionStore_1.collectionStore.getItem(this._lastCollectionId);\n        if (collection && this._lastId) {\n            collection.events.fire(types_1.DragEvents.canDrop, [this._lastId, this._transferData.dropPosition]);\n        }\n    };\n    DragManager.prototype._toggleTextSelection = function (add) {\n        if (add) {\n            document.body.classList.add(\"dhx-no-select\");\n        }\n        else {\n            document.body.classList.remove(\"dhx-no-select\");\n        }\n    };\n    return DragManager;\n}());\nexports.dragManager = new DragManager();\n\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CollectionStore = /** @class */ (function () {\n    function CollectionStore() {\n        this._store = {};\n    }\n    CollectionStore.prototype.setItem = function (id, target, config) {\n        this._store[id] = {\n            target: target,\n            config: config\n        };\n    };\n    CollectionStore.prototype.getItem = function (id) {\n        if (!this._store[id]) {\n            return null;\n        }\n        return this._store[id].target;\n    };\n    CollectionStore.prototype.getItemConfig = function (id) {\n        if (!this._store[id]) {\n            return null;\n        }\n        return this._store[id].config;\n    };\n    return CollectionStore;\n}());\nexports.collectionStore = new CollectionStore();\n\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar events_1 = __webpack_require__(7);\nvar types_1 = __webpack_require__(17);\nvar types_2 = __webpack_require__(12);\nvar Selection = /** @class */ (function () {\n    function Selection(_config, data, events) {\n        var _this = this;\n        this.events = events || (new events_1.EventSystem());\n        this._data = data;\n        this._data.events.on(types_2.DataEvents.removeAll, function () {\n            _this._selected = null;\n        });\n        this._data.events.on(types_2.DataEvents.change, function () {\n            if (_this._selected) {\n                var near = _this._data.getNearId(_this._selected);\n                if (near !== _this._selected) {\n                    _this._selected = null;\n                    if (near) {\n                        _this.add(near);\n                    }\n                }\n            }\n        });\n    }\n    Selection.prototype.getId = function () {\n        return this._selected;\n    };\n    Selection.prototype.getItem = function () {\n        if (this._selected) {\n            return this._data.getItem(this._selected);\n        }\n        return null;\n    };\n    Selection.prototype.remove = function (id) {\n        id = id || this._selected;\n        if (!id) {\n            return true;\n        }\n        if (this.events.fire(types_1.SelectionEvents.beforeUnSelect, [id])) {\n            this._data.update(id, { $selected: false });\n            this._selected = null;\n            this.events.fire(types_1.SelectionEvents.afterUnSelect, [id]);\n            return true;\n        }\n        return false;\n    };\n    Selection.prototype.add = function (id) {\n        if (this._selected === id) {\n            return;\n        }\n        this.remove();\n        if (this.events.fire(types_1.SelectionEvents.beforeSelect, [id])) {\n            this._selected = id;\n            this._data.update(id, { $selected: true });\n            this.events.fire(types_1.SelectionEvents.afterSelect, [id]);\n        }\n    };\n    return Selection;\n}());\nexports.Selection = Selection;\n\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nvar events_1 = __webpack_require__(7);\nvar html_1 = __webpack_require__(3);\nvar view_1 = __webpack_require__(8);\nvar ts_data_1 = __webpack_require__(11);\nvar dataHelpers_1 = __webpack_require__(38);\nvar Exporter_1 = __webpack_require__(67);\nvar helpers_1 = __webpack_require__(14);\nvar templates_1 = __webpack_require__(68);\nvar TreeGridCollection_1 = __webpack_require__(71);\nvar types_1 = __webpack_require__(19);\nvar core_1 = __webpack_require__(2);\nvar content_1 = __webpack_require__(39);\nvar Grid = /** @class */ (function (_super) {\n    __extends(Grid, _super);\n    function Grid(container, config) {\n        var _this = _super.call(this, container, config) || this;\n        _this._defConfig = {\n            rowHeight: 40,\n            headerRowHeight: 40,\n            columns: [],\n            data: []\n        };\n        _this.content = content_1.content;\n        _this.config = __assign({}, _this._defConfig, config);\n        _this._scroll = {\n            top: 0,\n            left: 0\n        };\n        _this._htmlEvents = {\n            onclick: html_1.eventHandler(function (ev) { return html_1.locate(ev); }, {\n                dhx_grid_header_cell: function (_ev, item) {\n                    if (!_this.config.disableHeaderSort) {\n                        _this.events.fire(types_1.GridEvents.sort, [item]);\n                    }\n                },\n                dhx_grid_expand_cell: function (_ev, item) { return _this.events.fire(types_1.GridEvents.expand, [item]); }\n            }),\n            onscroll: function (e) {\n                _this._scroll = {\n                    top: e.target.scrollTop,\n                    left: e.target.scrollLeft\n                };\n                _this.paint();\n            }\n        };\n        _this._init();\n        if (_this.config.columns) {\n            _this._parseColumns();\n        }\n        if (_this.config.data && _this.config.columns) {\n            _this.data.parse(_this.config.data);\n        }\n        var view = dom_1.create({\n            render: function (vm, obj) {\n                return templates_1.render(vm, obj, _this._currentData);\n            }\n        }, _this);\n        _this.mount(container, view);\n        return _this;\n    }\n    Grid.prototype.destructor = function () {\n        this.getRootView().unmount();\n    };\n    Grid.prototype.setHeader = function (columns) {\n        this.config.columns = columns;\n        this._parseColumns();\n    };\n    Grid.prototype.sort = function (by, dir) {\n        if (!dir) {\n            if (this._sortBy === by) {\n                this._sortDir = this._sortDir === \"asc\" ? \"desc\" : \"asc\";\n            }\n            else {\n                this._sortDir = \"desc\";\n            }\n        }\n        else {\n            this._sortDir = dir;\n        }\n        this._sortBy = by;\n        this.data.sort({\n            by: by,\n            dir: this._sortDir,\n            as: function (el) { return \"\" + el; }\n        });\n    };\n    Grid.prototype.addRowCss = function (id, css) {\n        var item = this.data.getItem(id);\n        var styles = item.$css || \"\";\n        if (!styles.match(new RegExp(css, \"g\"))) {\n            item.$css = styles + (\" \" + css);\n            // [todo]\n            var index = core_1.findIndex(this._currentData, function (row) { return row.id === item.id; });\n            if (index >= 0) {\n                this._currentData[index].$css = item.$css;\n            }\n            this.paint();\n        }\n    };\n    Grid.prototype.removeRowCss = function (id, css) {\n        var item = this.data.getItem(id);\n        var styles = item.$css ? item.$css.replace(css, \"\") : \"\";\n        item.$css = styles;\n    };\n    Grid.prototype.addCellCss = function (row, col, css) {\n        var column = this._getColumn(col);\n        if (column) {\n            if (column.$cellCss[row]) {\n                column.$cellCss[row] += column.$cellCss[row].match(new RegExp(css, \"g\")) ? \"\" : \" \" + css;\n            }\n            else if (this.data.getItem(row)) {\n                column.$cellCss[row] = css + \" \";\n            }\n            this.paint();\n        }\n    };\n    Grid.prototype.removeCellCss = function (row, col, css) {\n        var column = this._getColumn(col);\n        if (column) {\n            if (column.$cellCss[row]) {\n                column.$cellCss[row] = column.$cellCss[row].replace(css, \"\");\n                this.paint();\n            }\n            else if (this.data.getItem(row)) {\n                column.$cellCss[row] = \"\";\n            }\n        }\n    };\n    Grid.prototype.getScrollState = function () {\n        return {\n            x: this._scroll.left,\n            y: this._scroll.top\n        };\n    };\n    Grid.prototype.scroll = function (x, y) {\n        var gridBody = this.getRootView().refs.grid_body.el;\n        gridBody.scrollLeft = typeof x === \"number\" ? x : gridBody.scrollLeft;\n        gridBody.scrollTop = typeof y === \"number\" ? y : gridBody.scrollTop;\n    };\n    Grid.prototype.scrollTo = function (row, col) {\n        var colInd = core_1.findIndex(this.config.columns, function (obj) { return obj.id === col; });\n        var fixedColsWidth = this.config.splitAt ?\n            this.config.columns.slice(0, this.config.splitAt).reduce(function (total, c) { return total += c.width; }, 0)\n            : 0;\n        var x = this.config.columns.slice(0, colInd).reduce(function (total, c) { return total += c.width; }, 0) - fixedColsWidth;\n        var y = this.data.getIndex(row) * this.config.rowHeight;\n        var scrollState = this.getScrollState();\n        var gridRight = this.config.width + scrollState.x;\n        var gridBottom = this.config.height + scrollState.y - (this.config.headerRowHeight * this.config.$headerLevel);\n        var cellTop = y - scrollState.y - this.config.rowHeight;\n        var cellLeft = x - scrollState.x - this.config.columns[colInd].width;\n        var cellBottom = y + (this.config.rowHeight * 2) + 17 - gridBottom;\n        var cellRight = x + (this.config.columns[colInd].width * 2) + 17 - gridRight;\n        var scrollTop = (cellTop > 0 && cellBottom < 0) ? 0 : cellTop < 0 ? cellTop : cellBottom;\n        var scrollLeft = (cellLeft > 0 && cellRight < 0) ? 0 : cellLeft < 0 ? cellLeft : cellRight;\n        this.scroll(scrollLeft + scrollState.x, scrollTop + scrollState.y);\n    };\n    Grid.prototype.adjustColumnWidth = function (id) {\n        var index = core_1.findIndex(this.config.columns, function (с) { return с.id === id; });\n        var col = this.config.columns[index];\n        this.data.map(function (row) {\n            col.maxWidth = col.maxWidth || col.width;\n            col.maxWidth = Math.max(helpers_1.getStrWidth(helpers_1.removeHTMLTags(row[col.id])) + 20, col.maxWidth);\n        });\n        this.config.$totalWidth = this.config.columns.reduce(function (t, column) {\n            column.width = column.maxWidth || column.width;\n            return t += column.width;\n        }, 0);\n        this.paint();\n    };\n    Grid.prototype._getColumn = function (id) {\n        for (var _i = 0, _a = this.config.columns; _i < _a.length; _i++) {\n            var col = _a[_i];\n            if (col.id === id) {\n                return col;\n            }\n        }\n    };\n    Grid.prototype._init = function () {\n        var _this = this;\n        this.events = new events_1.EventSystem(this);\n        this._attachDataCollection();\n        this.data.events.on(ts_data_1.DataEvents.load, function () {\n            _this._parseData();\n        });\n        this.data.events.on(ts_data_1.DataEvents.change, function () {\n            _this._currentData = _this.data.map(function (el) { return el; }) || [];\n            _this._checkMarks();\n            // set auto width to all columns\n            if (_this.config.columnsAutoWidth) {\n                if (typeof _this.config.columnsAutoWidth === \"number\") {\n                    _this._setAutoWidth(_this.config.columnsAutoWidth);\n                }\n                else {\n                    _this._setAutoWidth();\n                }\n            }\n            _this._render();\n        });\n        this.export = new Exporter_1.Exporter(this);\n        this._setEventHandlers();\n    };\n    Grid.prototype._setEventHandlers = function () {\n        var _this = this;\n        this.events.on(types_1.GridEvents.sort, function (id) { return _this.sort(id); });\n        this.events.on(types_1.GridEvents.expand, function (id) {\n            var item = _this.data.getItem(id);\n            _this.data.update(id, { $opened: !item.$opened });\n        });\n        this.events.on(types_1.GridEvents.headerInput, function (val, colId, filter) {\n            _this.data.filter({\n                by: colId,\n                match: val,\n                compare: _this.content[filter].match\n            }, {\n                multiple: true\n            });\n        });\n    };\n    Grid.prototype._attachDataCollection = function () {\n        var _this = this;\n        var prep = function (data) {\n            if (data.spans) {\n                _this.config.spans = data.spans;\n                data = data.data;\n            }\n            return data;\n        };\n        if (this.config.type === \"tree\") {\n            this.data = new TreeGridCollection_1.TreeGridCollection({\n                prep: prep\n            }, this.events);\n        }\n        else {\n            this.data = new ts_data_1.DataCollection({\n                prep: prep\n            }, this.events);\n        }\n    };\n    Grid.prototype._setMarks = function (col, func) {\n        var colCells = this.data.map(function (row) { return ({ id: row.id, data: row[col.id], row: row }); });\n        var colCellsData = this.data.map(function (row) { return row[col.id]; });\n        var _loop_1 = function (cell) {\n            var css = func(cell.data, colCellsData, cell.row, col);\n            if (css) {\n                col.$cellCss = col.$cellCss || {};\n                var cellCss_1 = (col.$cellCss[cell.id] || \"\").split(\" \");\n                css.split(\" \").map(function (item) {\n                    if (cellCss_1.indexOf(item) === -1) {\n                        cellCss_1.push(item);\n                    }\n                });\n                col.$cellCss[cell.id] = cellCss_1.join(\" \");\n            }\n        };\n        for (var _i = 0, colCells_1 = colCells; _i < colCells_1.length; _i++) {\n            var cell = colCells_1[_i];\n            _loop_1(cell);\n        }\n    };\n    Grid.prototype._checkMarks = function () {\n        var _this = this;\n        this.config.columns.map(function (col) {\n            var mark = col.mark;\n            if (mark) {\n                if (typeof mark === \"function\") {\n                    _this._setMarks(col, mark);\n                }\n                else {\n                    _this._setMarks(col, function (el, c) {\n                        var data = c.filter(function (item) { return item !== null; });\n                        var min = Math.min.apply(Math, data);\n                        var max = Math.max.apply(Math, data);\n                        if (mark.max && max === parseFloat(el)) {\n                            return mark.max;\n                        }\n                        if (mark.min && min === parseFloat(el)) {\n                            return mark.min;\n                        }\n                        return false;\n                    });\n                }\n            }\n        });\n    };\n    Grid.prototype._parseColumns = function () {\n        var columns = this.config.columns;\n        dataHelpers_1.normalizeColumns(columns);\n        dataHelpers_1.countColumns(this.config, columns);\n        if (this.config.type === \"tree\" && columns.length) {\n            this._getTreeHeadersWidth();\n        }\n    };\n    // [todo] use adjustColumnWidth\n    Grid.prototype._setAutoWidth = function (colsCount) {\n        var _this = this;\n        this.data.map(function (row) {\n            _this.config.columns.map(function (col, i) {\n                if (colsCount && colsCount <= i) {\n                    return col;\n                }\n                col.maxWidth = col.maxWidth || col.width;\n                col.maxWidth = Math.max(helpers_1.getStrWidth(helpers_1.removeHTMLTags(row[col.id])) + 20, col.maxWidth);\n            });\n        });\n        this.config.$totalWidth = this.config.columns.reduce(function (t, col) {\n            col.width = col.maxWidth || col.width;\n            return t += col.width;\n        }, 0);\n    };\n    // [todo] make more smart type detection\n    Grid.prototype._detectColsTypes = function () {\n        var firstRow = this.data.getItem(this.data.getId(0));\n        this.config.columns = this.config.columns.map(function (col) {\n            if (col.type) {\n                return col;\n            }\n            var v = parseFloat(firstRow[col.id]);\n            var val = isNaN(v) ? firstRow[col.id] : v;\n            col.type = typeof val;\n            return col;\n        });\n    };\n    Grid.prototype._parseData = function () {\n        var firstItem = this.data.getId(0);\n        if (firstItem) {\n            if (this.config.columns.length) {\n                this._detectColsTypes();\n                if (this.config.type === \"tree\") {\n                    this._getTreeHeadersWidth();\n                }\n            }\n            this._currentData = this.data.serialize() || [];\n        }\n        this._checkFilters();\n        this._checkMarks();\n        this._render();\n    };\n    Grid.prototype._checkFilters = function () {\n        var data = this._currentData;\n        this.config.columns.map(function (col) {\n            col.header.map(function (cell) {\n                if (cell.content) {\n                    col.$uniqueData = dataHelpers_1.getUnique(data, col.id);\n                }\n            });\n        });\n    };\n    Grid.prototype._getTreeHeadersWidth = function () {\n        if (\"getMaxLevel\" in this.data) {\n            var maxLevel = this.data.getMaxLevel();\n            var firstCol_1 = this.config.columns[0];\n            var DEFAULT_PADDING = 10;\n            var ICON_WIDTH = 35;\n            var paddings = maxLevel * (DEFAULT_PADDING + ICON_WIDTH);\n            var firstColWidth_1 = 0;\n            this.data.map(function (el) {\n                firstColWidth_1 = Math.max(helpers_1.getStrWidth(helpers_1.removeHTMLTags(\"\" + el[firstCol_1.id])), firstColWidth_1);\n            });\n            var newWidth = Math.max(firstColWidth_1 + paddings, firstCol_1.width);\n            this.config.$totalWidth = this.config.$totalWidth - firstCol_1.width + newWidth;\n            this.config.columns[0].width = newWidth;\n        }\n    };\n    Grid.prototype._render = function () {\n        this.paint();\n    };\n    return Grid;\n}(view_1.View));\nexports.Grid = Grid;\n\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar helpers_1 = __webpack_require__(14);\nvar Exporter = /** @class */ (function () {\n    function Exporter(_view) {\n        this._view = _view;\n    }\n    Exporter.prototype.xls = function (config) {\n        return this._export(config);\n    };\n    Exporter.prototype._export = function (config) {\n        if (config === void 0) { config = {}; }\n        var configCols = this._view.config.columns;\n        var rowsIndexMap = {};\n        var headers = helpers_1.transpose(this._view.config.columns.map(function (col) {\n            return col.header.map(function (level) { return level.text || \" \"; });\n        }));\n        var columns = [];\n        var uniqStyles = {\n            default: {\n                color: \"#000000\",\n                background: \"#FFFFFF\",\n                fontSize: 14\n            }\n        };\n        var cells = [];\n        var columnsIndexMap = {};\n        var data = this._view.data.serialize().map(function (row, i) {\n            rowsIndexMap[row.id] = i;\n            var rowData = configCols.map(function (col, k) {\n                columnsIndexMap[col.id] = k;\n                return helpers_1.removeHTMLTags(row[col.id]);\n            });\n            return rowData;\n        });\n        for (var _i = 0, configCols_1 = configCols; _i < configCols_1.length; _i++) {\n            var col = configCols_1[_i];\n            columns.push({ width: col.width });\n            for (var key in col.$cellCss) {\n                var colStyle = col.$cellCss[key];\n                var colStyleHash = colStyle\n                    .split(\"\")\n                    .reduce(function (h, letter) {\n                    // tslint:disable-next-line:no-bitwise\n                    var hh = ((h << 5) - h) + letter.charCodeAt(0);\n                    return Math.abs(hh & hh);\n                }, 0).toString();\n                if (!uniqStyles[colStyleHash]) {\n                    var cont = document.body;\n                    var css = helpers_1.getStyleByClass(colStyle, cont, \"dhx_grid_row\", uniqStyles.default);\n                    if (css) {\n                        uniqStyles[colStyleHash] = css;\n                    }\n                }\n                if (uniqStyles[colStyleHash]) {\n                    cells.push([rowsIndexMap[key], col.id, colStyleHash]);\n                }\n            }\n        }\n        var exportData = {\n            name: (config.name || \"data\"),\n            columns: columns,\n            header: headers,\n            data: data,\n            styles: {\n                cells: cells,\n                css: uniqStyles\n            }\n        };\n        if (config.url) {\n            var form_1 = document.createElement(\"form\");\n            form_1.setAttribute(\"target\", \"_blank\");\n            form_1.setAttribute(\"action\", config.url);\n            form_1.setAttribute(\"method\", \"POST\");\n            form_1.style.visibility = \"hidden\";\n            var input = document.createElement(\"textarea\");\n            input.setAttribute(\"name\", \"data\");\n            input.value = JSON.stringify(exportData);\n            form_1.appendChild(input);\n            document.body.appendChild(form_1);\n            form_1.submit();\n            setTimeout(function () {\n                form_1.parentNode.removeChild(form_1);\n            }, 100);\n        }\n        return exportData;\n    };\n    return Exporter;\n}());\nexports.Exporter = Exporter;\n\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nvar html_1 = __webpack_require__(3);\nvar dataHelpers_1 = __webpack_require__(38);\nvar helpers_1 = __webpack_require__(14);\nvar Cells_1 = __webpack_require__(69);\nvar FixedRows_1 = __webpack_require__(70);\nfunction getFixedCols(config) {\n    var columns = config.columns.slice(0, config.splitAt);\n    config.fixedColumnsWidth = columns.reduce(function (total, item) { return total += item.width || 100; }, 0);\n    return Cells_1.getContent(__assign({}, config, { columns: columns, positions: __assign({}, config.positions, { xStart: 0, xEnd: config.splitAt }) }));\n}\nfunction getRenderConfig(obj, data, wrapperSizes) {\n    var config = obj.config;\n    var positions = dataHelpers_1.calculatePositions(wrapperSizes.width, wrapperSizes.height, obj._scroll, config);\n    return __assign({}, config, { data: data, scroll: obj._scroll, positions: positions, headerHeight: config.$headerLevel * config.headerRowHeight, footerHeight: 40, firstColId: config.columns[0].id, events: obj.events, currentColumns: config.columns.slice(positions.xStart, positions.xEnd), sortBy: obj._sortBy, sortDir: obj._sortDir });\n}\nfunction render(vm, obj, data) {\n    // if grid placed inside another component, it will fit to its container\n    if (vm && vm.node && vm.node.parent && vm.node.parent.el) {\n        var parentNode = vm.node.parent.el;\n        obj.config.width = parentNode.clientWidth || 1;\n        obj.config.height = parentNode.clientHeight || 1;\n    }\n    var config = obj.config;\n    if (!obj.data || !config.columns.length) {\n        return dom_1.el(\".dhx_grid\");\n    }\n    config.$totalHeight = data.length * config.rowHeight;\n    var wrapperSizes = {\n        width: (config.width ? config.width : obj._container.clientWidth),\n        height: config.height ? config.height : obj._container.clientHeight\n    };\n    var renderConfig = getRenderConfig(obj, data, wrapperSizes);\n    var shifts = Cells_1.getShifts(renderConfig);\n    var content = Cells_1.getContent(renderConfig);\n    var contentSpans = Cells_1.getContentSpans(renderConfig);\n    var fixedCols = renderConfig.splitAt >= 0 && getFixedCols(renderConfig);\n    var BORDERS = 2;\n    var isSticky = helpers_1.isCssSupport(\"position\", \"sticky\");\n    var contentHeight = wrapperSizes.height - BORDERS;\n    contentHeight = isSticky ? contentHeight : contentHeight - renderConfig.headerHeight;\n    var isFooter = renderConfig.$footer;\n    // [dirty]\n    contentHeight = isFooter ? isSticky ? contentHeight : contentHeight - renderConfig.footerHeight : contentHeight;\n    var header = getFixedRows(renderConfig, { wrapper: wrapperSizes, sticky: isSticky, shifts: shifts, name: \"header\", position: \"top\" });\n    var footer = isFooter ? getFixedRows(renderConfig, { wrapper: wrapperSizes, sticky: isSticky, shifts: shifts, name: \"footer\", position: \"bottom\" }) : null;\n    var scrollBarWidth = config.$totalWidth <= wrapperSizes.width ? 0 : html_1.getScrollbarWidth();\n    var fixedColsHeight = (isSticky ? contentHeight : contentHeight + renderConfig.headerHeight) - scrollBarWidth;\n    return dom_1.el(\".dhx_grid\", [\n        dom_1.resizer(function () { return obj.paint(); }),\n        dom_1.el(\".dhx_grid_content\", { style: __assign({}, wrapperSizes), onclick: obj._htmlEvents.onclick }, [\n            isSticky ? null : header,\n            dom_1.el(\".dhx_grid_body\", {\n                style: {\n                    height: contentHeight,\n                    width: wrapperSizes.width - BORDERS,\n                },\n                onscroll: obj._htmlEvents.onscroll,\n                _ref: \"grid_body\"\n            }, [\n                isSticky ? header : null,\n                dom_1.el(\".dhx_data_wrap\", {\n                    style: {\n                        \"height\": config.$totalHeight,\n                        \"width\": config.$totalWidth,\n                        \"padding-left\": shifts.x,\n                        \"padding-top\": shifts.y,\n                    }\n                }, [\n                    dom_1.el(\".dhx_grid_data\", content),\n                    dom_1.el(\".dhx_grid_spans\", contentSpans),\n                    dom_1.el(\".dhx_grid_selection\", { _ref: \"selection\" })\n                ]),\n                isSticky ? footer : null\n            ]),\n            fixedCols && dom_1.el(\".dhx_grid_fixed_cols_wrap\", {\n                style: {\n                    height: fixedColsHeight,\n                    paddingTop: renderConfig.headerHeight,\n                    overflow: \"hidden\",\n                    width: renderConfig.fixedColumnsWidth\n                }\n            }, [\n                dom_1.el(\".dhx_grid_fixed_cols\", {\n                    style: {\n                        top: -renderConfig.scroll.top + renderConfig.headerHeight + \"px\",\n                        paddingTop: shifts.y,\n                        height: config.$totalHeight,\n                        position: \"absolute\"\n                    }\n                }, fixedCols)\n            ]),\n            isSticky ? null : footer\n        ])\n    ]);\n}\nexports.render = render;\nfunction getFixedRows(config, rowsConfig) {\n    var _a;\n    var mainCells = FixedRows_1.getRows(config, rowsConfig);\n    var spans = FixedRows_1.getSpans(config, rowsConfig);\n    var fixedCols = config.splitAt >= 0 && FixedRows_1.getRows(__assign({}, config, { currentColumns: config.columns.slice(0, config.splitAt), positions: __assign({}, config.positions, { xStart: 0, xEnd: config.splitAt }) }), rowsConfig);\n    var styles = (_a = {\n            position: \"sticky\"\n        },\n        _a[rowsConfig.position] = 0,\n        _a);\n    var left;\n    if (!rowsConfig.sticky) {\n        styles.left = -config.scroll.left;\n        left = -config.scroll.left;\n        styles.position = \"relative\";\n    }\n    return dom_1.el(\".dhx_\" + rowsConfig.name + \"_wrapper\", {\n        class: rowsConfig.sticky ? \"\" : \"dhx_compatible_\" + rowsConfig.name,\n        style: __assign({}, styles, { left: rowsConfig.sticky ? left : 0, height: config[rowsConfig.name + \"Height\"], width: rowsConfig.sticky ? config.$totalWidth : rowsConfig.wrapper.width - 2, zIndex: 9999 })\n    }, [\n        dom_1.el(\".dhx_grid_\" + rowsConfig.name, {\n            style: {\n                height: config[rowsConfig.name + \"Height\"],\n                left: left,\n                paddingLeft: rowsConfig.shifts.x,\n                width: config.$totalWidth,\n            }\n        }, mainCells.concat([\n            dom_1.el(\".dhx_\" + rowsConfig.name + \"_spans\", {\n                style: {\n                    marginLeft: -rowsConfig.shifts.x\n                }\n            }, spans),\n            fixedCols && dom_1.el(\".dhx_\" + rowsConfig.name + \"_fixed_cols\", {\n                style: {\n                    position: \"absolute\",\n                    top: 0,\n                    left: config.scroll.left + \"px\",\n                    height: \"100%\"\n                }\n            }, fixedCols)\n        ])),\n        dom_1.el(\"div\", { style: { width: config.$totalWidth } })\n    ]);\n}\n\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = __webpack_require__(2);\nvar dom_1 = __webpack_require__(0);\nvar helpers_1 = __webpack_require__(14);\nvar types_1 = __webpack_require__(19);\nfunction onCellClick(row, col, conf, e) {\n    conf.events.fire(types_1.GridEvents.cellClick, [row, col, e]);\n}\nfunction onMouseDown(row, col, conf, e) {\n    conf.events.fire(types_1.GridEvents.cellMouseDown, [row, col, e]);\n}\nfunction onRightClick(row, col, conf, e) {\n    conf.events.fire(types_1.GridEvents.cellRightClick, [row, col, e]);\n}\nfunction onMouseOver(row, col, conf, e) {\n    conf.events.fire(types_1.GridEvents.cellMouseOver, [row, col, e]);\n}\nfunction onCellDblClick(row, col, conf, e) {\n    conf.events.fire(types_1.GridEvents.cellDblClick, [row, col, e]);\n}\nfunction getTreeCell(content, row, col, conf) {\n    return dom_1.el(\".dhx_grid_cell\", {\n        class: \"dhx_tree_cell \" + (col.$cellCss[row.id] || \"\") + \" \" + (row.$childs ? \"dhx_grid_expand_cell\" : \"\"),\n        style: {\n            width: col.width,\n            lineHeight: conf.rowHeight + \"px\",\n            paddingLeft: 24 * row.$level\n        },\n        dhx_id: row.id\n    }, [\n        row.$childs ? dom_1.el(\".dhx_grid_expand_cell_icon\", {\n            class: row.$opened ? \"dxi dxi-chevron-up\" : \"dxi dxi-chevron-down\",\n            dhx_id: row.id,\n            style: {\n                lineHeight: conf.rowHeight + \"px\"\n            }\n        }) : null,\n        dom_1.el(\".dhx_tree_cell\", {\n            title: helpers_1.removeHTMLTags(row[col.id]),\n            style: {\n                width: col.width - row.$level * 10,\n                height: \"100%\",\n                textAlign: \"left\"\n            }\n        }, [content])\n    ]);\n}\nfunction getContent(conf) {\n    if (!conf.data || !conf.columns) {\n        return [];\n    }\n    var pos = conf.positions;\n    var data = conf.data ? conf.data.slice(pos.yStart, pos.yEnd) : [];\n    var columns = conf.columns.slice(pos.xStart, pos.xEnd);\n    return data.map(function (row) {\n        var rowCss = \"\";\n        if (conf.rowCss) {\n            rowCss = conf.rowCss(row);\n        }\n        if (row.$css) {\n            rowCss += row.$css;\n        }\n        return dom_1.el(\".dhx_grid_row\", {\n            style: { height: conf.rowHeight },\n            dhx_grid_row: row.id,\n            class: rowCss\n        }, columns.map(function (col) {\n            var t = function (text, _row, _col) { return (text || text === 0) ? text : \"\"; };\n            var template = col.template || t;\n            var content = template(row[col.id], row, col);\n            // ability to use domvm node as template result\n            content = typeof content === \"string\" ? dom_1.el(\"div.dhx_cell_content\", { \".innerHTML\": content }) : content;\n            if (conf.type === \"tree\" && conf.firstColId === col.id) {\n                return getTreeCell(content, row, col, conf);\n            }\n            return dom_1.el(\".dhx_grid_cell\", {\n                class: ((col.$cellCss[row.id] || \"\") + \" dhx_\" + col.type + \"_cell\").replace(/\\s+/g, \" \"),\n                style: {\n                    width: col.width,\n                    lineHeight: conf.rowHeight + \"px\"\n                },\n                onclick: [onCellClick, row, col, conf],\n                onmousedown: [onMouseDown, row, col, conf],\n                oncontextmenu: [onRightClick, row, col, conf],\n                ondblclick: [onCellDblClick, row, col, conf],\n                onmouseover: [onMouseOver, row, col, conf],\n                title: helpers_1.removeHTMLTags(row[col.id])\n            }, [content]);\n        }));\n    });\n}\nexports.getContent = getContent;\nfunction getContentSpans(conf) {\n    var spanCells = [];\n    var columns = conf.columns;\n    if (!columns.length) {\n        return null;\n    }\n    if (!conf.spans) {\n        return null;\n    }\n    var spans = conf.spans.sort(function (a, b) {\n        return (a.row - b.row);\n    });\n    var cellHeight = conf.rowHeight;\n    var _loop_1 = function (i) {\n        var row = spans[i].row;\n        var col = spans[i].column;\n        var spanHeight = spans[i].rowspan;\n        if (spanHeight === 1) {\n            return \"continue\";\n        }\n        var colIndex = core_1.findIndex(columns, function (item) { return item.id === col; });\n        var currCol = columns[colIndex];\n        var rowIndex = core_1.findIndex(conf.data, function (item) { return item.id === row; });\n        var currRow = conf.data[rowIndex];\n        var text = currRow[col] === undefined ? \"\" : currRow[col];\n        var top_1 = conf.rowHeight * rowIndex;\n        var left = 0;\n        for (var s = colIndex - 1; s >= 0; s--) {\n            left += columns[s].width;\n        }\n        var css = currCol.header[0].text ? \"dhx_span_cell\" : \"dhx_span_cell dhx_span_cell--title\";\n        if (rowIndex === 0) {\n            css += \" dhx_span_first_row\";\n        }\n        // [dirty]\n        if (colIndex === 0) {\n            css += \" dhx_span_first_col\";\n        }\n        if (colIndex === columns.length - 1) {\n            css += \" dhx_span_last_col\";\n        }\n        spanCells.push(dom_1.el(\"div\", {\n            class: css,\n            style: {\n                width: currCol.width,\n                height: spanHeight * cellHeight,\n                top: top_1,\n                left: left,\n                lineHeight: conf.rowHeight + \"px\"\n            }\n        }, text));\n    };\n    for (var i = 0; i < spans.length; i++) {\n        _loop_1(i);\n    }\n    return spanCells;\n}\nexports.getContentSpans = getContentSpans;\nfunction getShifts(conf) {\n    var columnsLeft = conf.columns.slice(0, conf.positions.xStart);\n    return {\n        x: columnsLeft.reduce(function (sum, col) { return sum += col.width; }, 0),\n        y: conf.positions.yStart * conf.rowHeight\n    };\n}\nexports.getShifts = getShifts;\n\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nvar helpers_1 = __webpack_require__(14);\nvar content_1 = __webpack_require__(39);\nfunction getHandlers(column, rowName, config) {\n    return {\n        onclick: [handleMouse, column, rowName, config],\n        onmouseover: [handleMouse, column, rowName, config],\n        onmousedown: [handleMouse, column, rowName, config],\n        ondblclick: [handleMouse, column, rowName, config],\n    };\n}\nfunction handleMouse(col, rowType, conf, e) {\n    // [todo] use enum here\n    conf.events.fire(rowType + \"Cell\" + e.type, [col, e]);\n}\nfunction buildRows(columns, name) {\n    var header = columns.map(function (col) { return col[name] || [{}]; });\n    return helpers_1.transpose(header);\n}\nfunction getCustomContentCell(cell, column, config, rowName, css) {\n    if (css === void 0) { css = \"\"; }\n    var rowHeight = config[name + \"RowHeight\"] || 40;\n    return dom_1.el(\".dhx_grid_\" + rowName + \"_cell\", __assign({ class: css, style: {\n            width: column.width,\n            lineHeight: rowHeight + \"px\"\n        } }, getHandlers(column, rowName, config)), [\n        content_1.content[cell.content].toHtml(column, config)\n    ]);\n}\nfunction getRows(config, rowsConfig) {\n    if (!config.data || !config.columns) {\n        return [];\n    }\n    var rowName = rowsConfig.name;\n    var columns = config.currentColumns;\n    var rowHeight = config[rowName + \"RowHeight\"] || 40;\n    var rows = buildRows(columns, rowName);\n    return rows.map(function (row, rowInd) { return dom_1.el(\".dhx_\" + rowName + \"_row\", { style: { height: rowHeight } }, row.map(function (cell, i) {\n        var css = cell.css || \"\";\n        var isLastRow = rowInd === rows.length - 1;\n        var column = columns[i];\n        if (config.sortBy && \"\" + column.id === config.sortBy && isLastRow) {\n            css += \" dhx_sort dhx_sort--\" + (config.sortDir || \"asc\");\n        }\n        css += \" dhx_\" + (column.type || \"string\") + \"_cell \";\n        if (cell.content) {\n            return getCustomContentCell(cell, column, config, rowName, css);\n        }\n        return dom_1.el(\".dhx_grid_\" + rowName + \"_cell\", __assign({ \"class\": css, \"dhx_id\": column.id, \"_key\": i, \"style\": {\n                width: column.width,\n                lineHeight: rowHeight + \"px\"\n            } }, getHandlers(column, rowName, config), { \"title\": helpers_1.removeHTMLTags(cell.text), \".innerHTML\": cell.text }));\n    })); });\n}\nexports.getRows = getRows;\n// [todo]\nfunction getWidth(columns, colspan, index) {\n    return columns.reduce(function (w, c, i) {\n        w += (i >= index && i < index + colspan) ? c.width : 0;\n        return w;\n    }, 0);\n}\nfunction getSpans(conf, rowsConfig) {\n    var cols = conf.columns;\n    var rows = helpers_1.transpose(cols.map(function (col) { return col[rowsConfig.name] || []; }));\n    var height = conf[name + \"RowHeight\"] || 40;\n    var leftShift = 0;\n    return rows.map(function (row, i) {\n        leftShift = 0;\n        return dom_1.el(\".dhx_span_row\", { style: { top: height * i + \"px\", height: height } }, row.map(function (cell, cellIdx) {\n            leftShift += cols[cellIdx].width;\n            return cell.colspan ?\n                dom_1.el(\".dhx_span_cell\", {\n                    \"style\": {\n                        width: getWidth(conf.columns, cell.colspan, cellIdx),\n                        height: height,\n                        left: leftShift - cols[cellIdx].width,\n                        top: height * i,\n                        lineHeight: height + \"px\"\n                    },\n                    \"title\": helpers_1.removeHTMLTags(cell.text),\n                    \".innerHTML\": cell.text\n                })\n                : null;\n        }).filter(function (cell) { return cell ? true : false; }));\n    });\n}\nexports.getSpans = getSpans;\n\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = __webpack_require__(2);\nvar ts_data_1 = __webpack_require__(11);\nvar TreeGridCollection = /** @class */ (function (_super) {\n    __extends(TreeGridCollection, _super);\n    function TreeGridCollection(config, events) {\n        return _super.call(this, config, events) || this;\n    }\n    TreeGridCollection.prototype.eachChild = function (id, cb, direct, checkItem) {\n        if (direct === void 0) { direct = true; }\n        checkItem = checkItem || (function (item) { return item.$opened !== false; });\n        _super.prototype.eachChild.call(this, id, cb, direct, checkItem);\n    };\n    TreeGridCollection.prototype.getMaxLevel = function () {\n        var _this = this;\n        var maxLevel = 1;\n        this.map(function (el) {\n            var level = _this.getLevel(el.id);\n            maxLevel = Math.max(level, maxLevel);\n        });\n        return maxLevel;\n    };\n    TreeGridCollection.prototype.getLevel = function (id) {\n        var level = 0;\n        this.eachParent(id, function () {\n            level++;\n        });\n        return level;\n    };\n    TreeGridCollection.prototype.serialize = function () {\n        var _this = this;\n        var data = [];\n        this.eachChild(this.getRoot(), function (el) {\n            if (!el) {\n                return;\n            }\n            var cell = __assign({}, el, { $level: _this.getLevel(el.id), $childs: _this.haveChilds(el.id) });\n            if (_this.haveChilds(el.id) && el.$opened === undefined) {\n                el.$opened = cell.$opened = true;\n            }\n            data.push(cell);\n        });\n        return data;\n    };\n    TreeGridCollection.prototype.map = function (cb, parent, direct) {\n        if (parent === void 0) { parent = this._root; }\n        if (direct === void 0) { direct = true; }\n        var result = [];\n        if (!this.haveChilds(parent)) {\n            return result;\n        }\n        for (var i = 0; i < this._childs[parent].length; i++) {\n            result.push(cb.call(this, this._childs[parent][i], i));\n            if (direct) {\n                if (this._childs[parent][i].$opened) {\n                    var childResult = this.map(cb, this._childs[parent][i].id, direct);\n                    result = result.concat(childResult);\n                }\n            }\n        }\n        return result;\n    };\n    // [todo]\n    TreeGridCollection.prototype.getId = function (index) {\n        return Object.keys(this._pull)[index];\n    };\n    TreeGridCollection.prototype._parse_data = function (data, parent) {\n        if (parent === void 0) { parent = this._root; }\n        for (var _i = 0, data_1 = data; _i < data_1.length; _i++) {\n            var obj = data_1[_i];\n            if (this.config.init) {\n                obj = this.config.init(obj);\n            }\n            obj.id = obj.id ? obj.id.toString() : core_1.uid();\n            obj.parent = obj.parent ? obj.parent.toString() : parent;\n            this._pull[obj.id] = obj;\n            if (!this._childs[obj.parent]) {\n                this._childs[obj.parent] = [];\n            }\n            this._childs[obj.parent].push(obj);\n            obj.$level = this.getLevel(obj.id);\n            if (obj.childs && obj.childs instanceof Object) {\n                this._parse_data(obj.childs, obj.id);\n            }\n        }\n        this._checkChilds();\n    };\n    TreeGridCollection.prototype._checkChilds = function () {\n        var _this = this;\n        this.eachChild(this._root, function (item) {\n            item.$childs = _this.haveChilds(item.id);\n        });\n    };\n    return TreeGridCollection;\n}(ts_data_1.TreeCollection));\nexports.TreeGridCollection = TreeGridCollection;\n\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(__webpack_require__(73));\n\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Cell_1 = __webpack_require__(74);\nvar dom_1 = __webpack_require__(0);\nvar Layout = /** @class */ (function (_super) {\n    __extends(Layout, _super);\n    function Layout(parent, config) {\n        var _this = _super.call(this, parent, config) || this;\n        // root layout\n        _this._root = _this.config.parent || _this;\n        _this._all = {};\n        _this._parseConfig();\n        if (_this.config.views) {\n            _this.config.activeView = _this.config.activeView || _this._cells[0].id;\n            _this._isViewLayout = true;\n        }\n        _this._css +=\n            (config.parent ? \"\" : \" dhx_widget\") +\n                (_this._xLayout ? \" layout_x\" : \" layout_y\");\n        if (!config.parent) {\n            var view = dom_1.create({ render: function () { return _this.toVDOM(); } }, _this);\n            _this.mount(parent, view);\n        }\n        return _this;\n    }\n    Layout.prototype.cell = function (id) {\n        // FIXME\n        return this._root._all[id];\n    };\n    Layout.prototype.toVDOM = function () {\n        if (this._isViewLayout) {\n            var roots = [this.cell(this.config.activeView).toVDOM()];\n            return _super.prototype.toVDOM.call(this, roots);\n        }\n        var nodes = [];\n        this._cells.forEach(function (cell) {\n            var node = cell.toVDOM();\n            if (Array.isArray(node)) {\n                nodes.push.apply(nodes, node);\n            }\n            else {\n                nodes.push(node);\n            }\n        });\n        return _super.prototype.toVDOM.call(this, nodes);\n    };\n    Layout.prototype.removeCell = function (id) {\n        var root = (this.config.parent || this);\n        if (root !== this) {\n            return root.removeCell(id);\n        }\n        // this === root layout\n        var view = this.cell(id);\n        if (view) {\n            var parent_1 = view.getParent();\n            delete this._all[id];\n            var cells = parent_1._cells;\n            var deleteIndex = -1;\n            for (var i = 0; i < cells.length; i++) {\n                if (cells[i].id === id) {\n                    deleteIndex = i;\n                    break;\n                }\n            }\n            if (deleteIndex !== -1) {\n                cells.splice(deleteIndex, 1);\n            }\n            parent_1.paint();\n        }\n    };\n    Layout.prototype.addCell = function (config, index) {\n        if (index === void 0) { index = -1; }\n        var view = this._createCell(config);\n        if (index < 0) {\n            index = this._cells.length + index + 1;\n        }\n        this._cells.splice(index, 0, view);\n        this.paint();\n    };\n    Layout.prototype.getId = function (index) {\n        if (index < 0) {\n            index = this._cells.length + index;\n        }\n        return this._cells[index] ? this._cells[index].id : undefined;\n    };\n    Layout.prototype.getRefs = function (name) {\n        return this._root.getRootView().refs[name];\n    };\n    Layout.prototype._parseConfig = function () {\n        var _this = this;\n        var config = this.config;\n        var cells = config.rows || config.cols || config.views;\n        this._xLayout = !config.rows;\n        this._cells = cells.map(function (a) { return _this._createCell(a); });\n    };\n    Layout.prototype._createCell = function (cell) {\n        var view;\n        if (cell.rows || cell.cols || cell.views) {\n            cell.parent = this._root;\n            view = new Layout(this, cell);\n        }\n        else {\n            view = new Cell_1.Cell(this, cell);\n        }\n        // FIxME\n        this._root._all[view.id] = view;\n        return view;\n    };\n    return Layout;\n}(Cell_1.Cell));\nexports.Layout = Layout;\n\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = __webpack_require__(2);\nvar dom_1 = __webpack_require__(0);\nvar view_1 = __webpack_require__(8);\nvar resizeMode;\n(function (resizeMode) {\n    resizeMode[resizeMode[\"unknown\"] = 0] = \"unknown\";\n    resizeMode[resizeMode[\"percents\"] = 1] = \"percents\";\n    resizeMode[resizeMode[\"pixels\"] = 2] = \"pixels\";\n    resizeMode[resizeMode[\"mixedpx1\"] = 3] = \"mixedpx1\";\n    resizeMode[resizeMode[\"mixedpx2\"] = 4] = \"mixedpx2\";\n    resizeMode[resizeMode[\"mixedperc1\"] = 5] = \"mixedperc1\";\n    resizeMode[resizeMode[\"mixedperc2\"] = 6] = \"mixedperc2\";\n})(resizeMode || (resizeMode = {}));\nfunction getResizeMode(dir, conf1, conf2) {\n    var field = dir ? \"width\" : \"height\";\n    var is1perc = conf1[field] && conf1[field].indexOf(\"%\") !== -1;\n    var is2perc = conf2[field] && conf2[field].indexOf(\"%\") !== -1;\n    var is1px = conf1[field] && conf1[field].indexOf(\"px\") !== -1;\n    var is2px = conf2[field] && conf2[field].indexOf(\"px\") !== -1;\n    if (is1perc && is2perc) {\n        return resizeMode.percents;\n    }\n    if (is1px && is2px) {\n        return resizeMode.pixels;\n    }\n    if (is1px && !is2px) {\n        return resizeMode.mixedpx1;\n    }\n    if (is2px && !is1px) {\n        return resizeMode.mixedpx2;\n    }\n    if (is1perc) {\n        return resizeMode.mixedperc1;\n    }\n    if (is2perc) {\n        return resizeMode.mixedperc2;\n    }\n    return resizeMode.unknown;\n}\nfunction getBlockRange(block1, block2, isXLayout) {\n    if (isXLayout === void 0) { isXLayout = true; }\n    if (isXLayout) {\n        return {\n            min: block1.left + window.pageXOffset,\n            max: block2.right + window.pageXOffset\n        };\n    }\n    return {\n        min: block1.top + window.pageYOffset,\n        max: block2.bottom + window.pageYOffset\n    };\n}\nvar Cell = /** @class */ (function (_super) {\n    __extends(Cell, _super);\n    function Cell(parent, config) {\n        var _this = _super.call(this, parent, config) || this;\n        var p = parent;\n        if (p && p.isVisible) {\n            _this._parent = p;\n        }\n        _this._initHandlers();\n        _this.id = _this.config.id || core_1.uid();\n        _this._css = \"\";\n        return _this;\n    }\n    Cell.prototype.paint = function () {\n        if (this.isVisible()) {\n            var view = this.getRootView();\n            if (view) {\n                view.redraw();\n            }\n            else {\n                this._parent.paint();\n            }\n        }\n    };\n    Cell.prototype.isVisible = function () {\n        // top level node\n        if (!this._parent) {\n            if (this._container && this._container.tagName) {\n                return true;\n            }\n            return false;\n        }\n        // check active view in case of multiview\n        var active = this._parent.config.activeView;\n        if (active && active !== this.id) {\n            return false;\n        }\n        // check that all parents of the cell are visible as well\n        return !this.config.hidden && (!this._parent || this._parent.isVisible());\n    };\n    Cell.prototype.hide = function () {\n        this.config.hidden = true;\n        if (this._parent && this._parent.paint) {\n            this._parent.paint();\n        }\n    };\n    Cell.prototype.show = function () {\n        if (this._parent && this._parent.config.activeView) {\n            this._parent.config.activeView = this.id;\n        }\n        else {\n            this.config.hidden = false;\n        }\n        if (this._parent && !this._parent.isVisible()) {\n            this._parent.show();\n        }\n        this.paint();\n    };\n    Cell.prototype.getParent = function () {\n        return this._parent;\n    };\n    Cell.prototype.destructor = function () {\n        this.config = null;\n    };\n    Cell.prototype.getWidget = function () {\n        return this._ui;\n    };\n    Cell.prototype.attach = function (name, config) {\n        if (typeof name === \"object\") {\n            this._ui = name;\n        }\n        else if (typeof name === \"string\") {\n            this._ui = new window.dhx[name](null, config);\n        }\n        else if (typeof name === \"function\") {\n            if (name.prototype instanceof view_1.View) {\n                this._ui = new name(null, config);\n            }\n            else {\n                this._ui = {\n                    getRootView: function () {\n                        return name(config);\n                    }\n                };\n            }\n        }\n        this.paint();\n        return this._ui;\n    };\n    Cell.prototype.toVDOM = function (nodes) {\n        var conf = this.config;\n        if (conf.hidden) {\n            return;\n        }\n        var css = this._css + \" \" + (this.config.css || \"\");\n        var style = this._calculateStyle();\n        var kids;\n        if (this.config.html) {\n            kids = [dom_1.el(\"div\", { \".innerHTML\": this.config.html })];\n        }\n        else if (this._ui) {\n            var view = this._ui.getRootView();\n            if (view.render) {\n                view = dom_1.inject(view);\n            }\n            kids = [view];\n        }\n        else {\n            kids = nodes || null;\n        }\n        var resizer = this.config.canResize && !this._isLastCell() ?\n            dom_1.el(\".resizer.\" + (this._isXDirection() ? \"x\" : \"y\"), __assign({}, this._resizerHandlers, { _ref: \"resizer_\" + this._uid }), [dom_1.el(\"div\", {\n                    class: \"dxi \" + (this._isXDirection() ? \"dxi-dots-vertical\" : \"dxi-dots-horizontal\")\n                })]) : null;\n        var handlers = {};\n        if (this.config.on) {\n            for (var key in this.config.on) {\n                handlers[\"on\" + key] = this.config.on[key];\n            }\n        }\n        var cell = dom_1.el(\"div\", __assign({ _key: this._uid, style: style, _ref: this._uid }, handlers, { class: \"dhx_cell \" + css + (this.config.collapsed ? \" collapsed\" : \"\") }), [\n            this.config.header ? dom_1.el(\"div\", {\n                class: \"dhx_cell_header\",\n                onclick: this._handlers.collapse\n            }, [\n                dom_1.el(\".header-text\", this.config.header),\n                dom_1.el(\".header-action-icon\", [\n                    dom_1.el(\"div\", {\n                        class: \"dxi \" + this.config.headerIcon\n                    })\n                ])\n            ]) : null,\n            !this.config.collapsed ? dom_1.el(\"div\", {\n                class: \"dhx_cell_content\"\n            }, kids) : null,\n            this.config.footer ? dom_1.el(\"div\", {\n                class: \"dhx_cell_footer\",\n            }, this.config.footer) : null\n        ]);\n        return resizer ? [\n            cell,\n            resizer\n        ] : cell;\n    };\n    Cell.prototype._initHandlers = function () {\n        var _this = this;\n        var blockOpts = {\n            left: null,\n            top: null,\n            isActive: false,\n            range: null,\n            xLayout: null,\n            nextCell: null,\n            size: null,\n            resizerLength: null,\n            mode: null,\n            percentsum: null\n        };\n        var mouseUp = function () {\n            blockOpts.isActive = false;\n            document.body.classList.remove(\"dhx-no-select\");\n            document.removeEventListener(\"mouseup\", mouseUp);\n            document.removeEventListener(\"mousemove\", mouseMove);\n        };\n        var mouseMove = function (e) {\n            if (!blockOpts.isActive || blockOpts.mode === resizeMode.unknown) {\n                return;\n            }\n            var newValue = blockOpts.xLayout ? e.x - blockOpts.range.min - window.pageXOffset :\n                e.y - blockOpts.range.min - window.pageYOffset;\n            var prop = blockOpts.xLayout ? \"width\" : \"height\";\n            if (newValue < 0) {\n                newValue = blockOpts.resizerLength / 2;\n            }\n            else if (newValue > blockOpts.size) {\n                newValue = blockOpts.size - blockOpts.resizerLength;\n            }\n            switch (blockOpts.mode) {\n                case resizeMode.pixels:\n                    _this.config[prop] = newValue - blockOpts.resizerLength / 2 + \"px\";\n                    blockOpts.nextCell.config[prop] = blockOpts.size - newValue - blockOpts.resizerLength / 2 + \"px\";\n                    break;\n                case resizeMode.mixedpx1:\n                    _this.config[prop] = newValue - blockOpts.resizerLength / 2 + \"px\";\n                    break;\n                case resizeMode.mixedpx2:\n                    blockOpts.nextCell.config[prop] = blockOpts.size - newValue - blockOpts.resizerLength / 2 + \"px\";\n                    break;\n                case resizeMode.percents:\n                    _this.config[prop] = newValue / blockOpts.size * blockOpts.percentsum + \"%\";\n                    blockOpts.nextCell.config[prop] = (blockOpts.size - newValue) / blockOpts.size * blockOpts.percentsum + \"%\";\n                    break;\n                case resizeMode.mixedperc1:\n                    _this.config[prop] = newValue / blockOpts.size * blockOpts.percentsum + \"%\";\n                    break;\n                case resizeMode.mixedperc2:\n                    blockOpts.nextCell.config[prop] = (blockOpts.size - newValue) / blockOpts.size * blockOpts.percentsum + \"%\";\n                    break;\n            }\n            _this.paint();\n        };\n        this._handlers = {\n            collapse: function () {\n                if (!_this.config.canCollapse) {\n                    return;\n                }\n                _this.config.collapsed = !_this.config.collapsed;\n                _this.paint();\n            }\n        };\n        this._resizerHandlers = {\n            onmousedown: function (e) {\n                if (e.which === 3) {\n                    return;\n                }\n                if (blockOpts.isActive) {\n                    mouseUp();\n                }\n                document.body.classList.add(\"dhx-no-select\");\n                var block = _this._getCellView();\n                var nextCell = _this._getNextCell();\n                var nextBlock = nextCell._getCellView();\n                var resizerBlock = _this._getResizerView();\n                var blockOffsets = block.el.getBoundingClientRect();\n                var resizerOffsets = resizerBlock.el.getBoundingClientRect();\n                var nextBlockOffsets = nextBlock.el.getBoundingClientRect();\n                blockOpts.xLayout = _this._isXDirection();\n                blockOpts.left = blockOffsets.left + window.pageXOffset;\n                blockOpts.top = blockOffsets.top + window.pageYOffset;\n                blockOpts.range = getBlockRange(blockOffsets, nextBlockOffsets, blockOpts.xLayout);\n                blockOpts.size = blockOpts.range.max - blockOpts.range.min;\n                blockOpts.isActive = true;\n                blockOpts.nextCell = nextCell;\n                blockOpts.resizerLength = blockOpts.xLayout ? resizerOffsets.width : resizerOffsets.height;\n                blockOpts.mode = getResizeMode(blockOpts.xLayout, _this.config, nextCell.config);\n                if (blockOpts.mode === resizeMode.percents) {\n                    var field = blockOpts.xLayout ? \"width\" : \"height\";\n                    blockOpts.percentsum = parseFloat(_this.config[field]) + parseFloat(nextCell.config[field]);\n                }\n                if (blockOpts.mode === resizeMode.mixedperc1) {\n                    var field = blockOpts.xLayout ? \"width\" : \"height\";\n                    blockOpts.percentsum = 1 / (blockOffsets[field] / (blockOpts.size - blockOpts.resizerLength)) * parseFloat(_this.config[field]);\n                }\n                if (blockOpts.mode === resizeMode.mixedperc2) {\n                    var field = blockOpts.xLayout ? \"width\" : \"height\";\n                    blockOpts.percentsum = 1 / (nextBlockOffsets[field] / (blockOpts.size - blockOpts.resizerLength)) * parseFloat(nextCell.config[field]);\n                }\n                document.addEventListener(\"mouseup\", mouseUp);\n                document.addEventListener(\"mousemove\", mouseMove);\n            },\n            ondragstart: function (e) { return e.preventDefault(); }\n        };\n    };\n    Cell.prototype._isLastCell = function () {\n        var parent = this._parent;\n        return parent && parent._cells.indexOf(this) === parent._cells.length - 1;\n    };\n    Cell.prototype._getNextCell = function () {\n        var parent = this._parent;\n        var index = parent._cells.indexOf(this);\n        return parent._cells[index + 1];\n    };\n    Cell.prototype._getCellView = function () {\n        return this._parent.getRefs(this._uid);\n    };\n    Cell.prototype._getResizerView = function () {\n        return this._parent.getRefs(\"resizer_\" + this._uid);\n    };\n    Cell.prototype._isXDirection = function () {\n        return this._parent && this._parent._xLayout;\n    };\n    Cell.prototype._calculateStyle = function () {\n        var conf = this.config;\n        var style = {};\n        if (this._isXDirection()) {\n            if (this.config.width !== undefined) {\n                style.flex = \"0 0 \" + conf.width;\n            }\n            if (conf.height !== undefined) {\n                style.height = conf.height;\n            }\n        }\n        else {\n            if (this.config.height !== undefined) {\n                style.flex = \"0 0 \" + conf.height;\n            }\n            if (conf.width !== undefined) {\n                style.width = conf.width;\n            }\n        }\n        return style;\n    };\n    return Cell;\n}(view_1.View));\nexports.Cell = Cell;\n\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nvar helpers_1 = __webpack_require__(5);\nfunction button(item) {\n    return dom_1.el(\"div\", {\n        class: \"button-container main-btn element\" + helpers_1.getCss(item) + (item.value ? \"\" : \" no-text\"),\n        dhx_id: item.id\n    }, [\n        helpers_1.counter(item),\n        item.icon ? helpers_1.icon(item.icon) : null,\n        item.value ? dom_1.el(\".button-text\", item.value) : null\n    ]);\n}\nexports.button = button;\n\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nvar helpers_1 = __webpack_require__(5);\nfunction customHTMLButton(item) {\n    return dom_1.el(\"div\", {\n        class: \"button-container custom-html-btn element\" + helpers_1.getCss(item),\n        dhx_id: item.id\n    }, [\n        helpers_1.counter(item),\n        dom_1.el(\".html-content\", {\n            \".innerHTML\": item.html\n        }),\n        item.value ? dom_1.el(\".button-text\", item.value) : null\n    ]);\n}\nexports.customHTMLButton = customHTMLButton;\n\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nvar helpers_1 = __webpack_require__(5);\nfunction dhx_button(item) {\n    return dom_1.el(\"button\", {\n        class: \"dhx_btn\" + helpers_1.getCss(item) + helpers_1.getButtonCss(item),\n        dhx_id: item.id\n    }, [\n        item.icon ? helpers_1.icon(item.icon) : null,\n        item.value ? dom_1.el(\".item-value\", item.value) : null\n    ]);\n}\nexports.dhx_button = dhx_button;\n\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nvar helpers_1 = __webpack_require__(5);\nfunction iconButton(item) {\n    return dom_1.el(\"div\", {\n        class: \"icon-btn element\" + helpers_1.getCss(item),\n        dhx_id: item.id\n    }, [\n        helpers_1.counter(item),\n        helpers_1.icon(item.icon),\n        item.css && item.css.indexOf(\"ripple\") !== -1 ? dom_1.el(\".ripple-container-outside\") : null\n    ]);\n}\nexports.iconButton = iconButton;\n\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nvar helpers_1 = __webpack_require__(5);\nfunction imageButton(item) {\n    return dom_1.el(\"div\", {\n        class: \"button-container img-btn element\" + helpers_1.getCss(item),\n        dhx_id: item.id\n    }, [\n        helpers_1.counter(item),\n        dom_1.el(\".img-button-wrapper\", [\n            dom_1.el(\"img.img-button\", {\n                src: item.src\n            })\n        ])\n    ]);\n}\nexports.imageButton = imageButton;\n\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nvar helpers_1 = __webpack_require__(5);\nfunction imageButtonText(item) {\n    return dom_1.el(\"div\", {\n        class: \"button-container img-text-btn element\" + helpers_1.getCss(item),\n        dhx_id: item.id\n    }, [\n        helpers_1.counter(item),\n        dom_1.el(\"img.img-button\", {\n            src: item.src\n        }),\n        dom_1.el(\".button-text\", item.value)\n    ]);\n}\nexports.imageButtonText = imageButtonText;\n\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nvar types_1 = __webpack_require__(9);\nvar helpers_1 = __webpack_require__(5);\nfunction input(item, events) {\n    return dom_1.el(\"div\", {\n        dhx_id: item.id,\n        class: \"input-container element\" + helpers_1.getCss(item)\n    }, [\n        dom_1.el(\".input-wrapper\", [\n            dom_1.el(\"input.text-input\", {\n                placeholder: item.placeholder,\n                value: item.value,\n                style: {\n                    width: item.width ? item.width : null\n                },\n                _hooks: {\n                    didInsert: function (node) {\n                        if (events) {\n                            events.fire(types_1.ToolbarEvents.inputCreated, [item.id, node.el]);\n                        }\n                    }\n                },\n                _key: item.id\n            }),\n            dom_1.el(\".input-animation\")\n        ]),\n        item.icon ? helpers_1.icon(item.icon) : null\n    ]);\n}\nexports.input = input;\n\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nvar helpers_1 = __webpack_require__(5);\nfunction menuItem(item) {\n    return dom_1.el(\"div\", {\n        class: \"menu-item element\" + helpers_1.getCss(item),\n        dhx_id: item.id\n    }, [\n        item.icon ? helpers_1.icon(item.icon) : null,\n        item.value ? dom_1.el(\"span.menu-item-content\", item.value) : null,\n        item.$openIcon ? dom_1.el(\".dhx-icon.sub-menu-opener\", [\n            dom_1.el(\".dxi.\" + (item.$openIcon === \"right\" ? \".dxi-menu-right\" : \".dxi-menu-down\"))\n        ]) : null,\n        item.hotkey ? dom_1.el(\".hotkey\", item.hotkey) : null\n    ]);\n}\nexports.menuItem = menuItem;\n\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nfunction separator(_item) {\n    return dom_1.el(\".separator\");\n}\nexports.separator = separator;\n\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nfunction spacer(_item) {\n    return dom_1.el(\".spacer\");\n}\nexports.spacer = spacer;\n\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nvar helpers_1 = __webpack_require__(5);\nfunction text(item) {\n    return dom_1.el(\"div\", {\n        class: \"text element\" + helpers_1.getCss(item),\n        dhx_id: item.id\n    }, item.value);\n}\nexports.text = text;\n\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getHotKeyCode(code) {\n    var matches = code.toLowerCase().match(/\\w+/g);\n    var comp = 0;\n    var key = \"\";\n    for (var i = 0; i < matches.length; i++) {\n        var check = matches[i];\n        if (check === \"ctrl\") {\n            comp += 4;\n        }\n        else if (check === \"shift\") {\n            comp += 2;\n        }\n        else if (check === \"alt\") {\n            comp += 1;\n        }\n        else {\n            key = check;\n        }\n    }\n    return comp + key;\n}\nvar KeyManager = /** @class */ (function () {\n    function KeyManager() {\n        var _this = this;\n        this._keysStorage = {};\n        document.addEventListener(\"keydown\", function (e) {\n            var comp = (e.ctrlKey ? 4 : 0) + (e.shiftKey ? 2 : 0) + (e.altKey ? 1 : 0);\n            var code = comp + e.key.toLowerCase();\n            var action = _this._keysStorage[code];\n            if (action) {\n                action.handler(e);\n            }\n        });\n    }\n    KeyManager.prototype.addHotKey = function (key, handler, scope) {\n        var code = getHotKeyCode(key);\n        this._keysStorage[code] = {\n            handler: handler,\n            scope: scope\n        };\n    };\n    KeyManager.prototype.removeHotKey = function (key, scope) {\n        var keyStorage = this._keysStorage;\n        if (key) {\n            var code = getHotKeyCode(key);\n            delete keyStorage[code];\n        }\n        if (scope) {\n            for (var code in keyStorage) {\n                if (keyStorage[code].scope === scope) {\n                    delete keyStorage[code];\n                }\n            }\n        }\n    };\n    KeyManager.prototype.exist = function (key) {\n        var code = getHotKeyCode(key);\n        return !!this._keysStorage[code];\n    };\n    return KeyManager;\n}());\nexports.keyManager = new KeyManager();\n\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar html_1 = __webpack_require__(3);\nvar helper_1 = __webpack_require__(21);\nvar MenuBase_1 = __webpack_require__(25);\nvar ContextMenu = /** @class */ (function (_super) {\n    __extends(ContextMenu, _super);\n    function ContextMenu() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._isContextMenu = true;\n        return _this;\n    }\n    ContextMenu.prototype.showAt = function (elem, showAt) {\n        if (showAt === void 0) { showAt = \"bottom\"; }\n        if (elem instanceof MouseEvent) {\n            this._changeActivePosition({\n                left: window.pageXOffset + elem.x + 1,\n                right: window.pageXOffset + elem.x + 1,\n                top: window.pageYOffset + elem.y,\n                bottom: window.pageYOffset + elem.y\n            }, showAt);\n        }\n        else {\n            var node = html_1.toNode(elem);\n            this._changeActivePosition(helper_1.getRealPosition(node), showAt);\n        }\n    };\n    ContextMenu.prototype._close = function () {\n        this._activeMenu = null;\n        this._changeActivePosition(null, null);\n    };\n    ContextMenu.prototype._normalizeData = function () {\n        var _this = this;\n        var root = this.data.getRoot();\n        this.data.eachChild(root, function (item) {\n            if (_this.data.haveChilds(item.id)) {\n                item.$openIcon = \"right\";\n            }\n        }, true);\n    };\n    ContextMenu.prototype._getMode = function (_item, _root, active) {\n        return active ? this._mode : \"right\";\n    };\n    ContextMenu.prototype._changeActivePosition = function (position, mode) {\n        this._activePosition = position;\n        this._mode = mode;\n        this._listenOuterClick();\n        this.paint();\n    };\n    return ContextMenu;\n}(MenuBase_1.MenuBase));\nexports.ContextMenu = ContextMenu;\n\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nvar MenuBase_1 = __webpack_require__(25);\nvar Menu = /** @class */ (function (_super) {\n    __extends(Menu, _super);\n    function Menu(element, config) {\n        var _this = _super.call(this, element, config) || this;\n        var render = function () { return _this._draw(); };\n        _this.mount(element, dom_1.create({ render: render }));\n        return _this;\n    }\n    Menu.prototype._draw = function () {\n        return dom_1.el(\"div\", __assign({ dhx_widget_id: this._uid, class: \"main-menu\" }, this._handlers), this._drawMenuItems(this.data.getRoot()));\n    };\n    return Menu;\n}(MenuBase_1.MenuBase));\nexports.Menu = Menu;\n\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nvar helper_1 = __webpack_require__(21);\nvar Toolbar_1 = __webpack_require__(40);\nvar types_1 = __webpack_require__(9);\nvar Ribbon = /** @class */ (function (_super) {\n    __extends(Ribbon, _super);\n    function Ribbon() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Ribbon.prototype._draw = function () {\n        var _this = this;\n        return dom_1.el(\".ribbon.dhx_widget\", {\n            dhx_widget_id: this._uid,\n            onclick: this._handlers.onclick\n        }, this.data.map(function (block) { return _this._drawBlock(block.id); }, this.data.getRoot(), false));\n    };\n    Ribbon.prototype._setRoot = function (id) {\n        var parentId = this.data.getParent(id);\n        if (this.data.getItem(parentId).type === types_1.ItemType.block) {\n            this._currentRoot = id;\n        }\n    };\n    Ribbon.prototype._normalizeData = function () {\n        var _this = this;\n        var root = this.data.getRoot();\n        var groups = {};\n        this.data.eachChild(root, function (item) {\n            if (item.type === types_1.ItemType.menuItem) {\n                if (_this.data.haveChilds(item.id)) {\n                    _this.data.eachChild(item.id, function (child) { return child.type = child.type || types_1.ItemType.menuItem; }, false);\n                    var parentId = _this.data.getParent(item.id);\n                    var parent_1 = _this.data.getItem(parentId);\n                    item.$openIcon = parent_1.type === types_1.ItemType.block ? \"bot\" : \"right\";\n                }\n            }\n            if (item.group) {\n                helper_1.addInGroups(groups, item);\n            }\n        }, true);\n        this._groups = groups;\n    };\n    Ribbon.prototype._drawBlock = function (id) {\n        var _this = this;\n        var block = this.data.getItem(id);\n        if (!block) {\n            return null;\n        }\n        var direction = block.direction === \"row\" ? \" ribbon-row\" : \" ribbon-cols\";\n        var childs = this.data.map(function (child) {\n            if (child.type === types_1.ItemType.block) {\n                return _this._drawBlock(child.id);\n            }\n            return _this._factory(child);\n        }, id, false);\n        return dom_1.el(\"div\", {\n            class: \"ribbon-item-block\" + direction\n        }, [\n            dom_1.el(\".block-content\", childs),\n            block.label ? dom_1.el(\".block-label\", [dom_1.el(\"span\", block.label)]) : null\n        ]);\n    };\n    return Ribbon;\n}(Toolbar_1.Toolbar));\nexports.Ribbon = Ribbon;\n\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = __webpack_require__(2);\nvar actions_1 = __webpack_require__(15);\nvar main_1 = __webpack_require__(1);\nvar AddColumn = /** @class */ (function () {\n    function AddColumn(config) {\n        this.config = config;\n    }\n    AddColumn.prototype.do = function () {\n        var cell = this.config.cell;\n        if (!this._index) {\n            this._index = main_1.getCellIndex(cell).col;\n        }\n        var copy = __assign({}, this.config.grid.config.columns[1], { $cellCss: {}, header: [{ text: \"\" }] });\n        copy.id = core_1.uid();\n        this.config.grid.data.map(function (item) {\n            item[copy.id] = \"\";\n        });\n        this.config.grid.config.columns.splice(this._index, 0, copy);\n        actions_1.updateColumns(this.config.grid.config);\n        this.config.spreadsheet.selection.setSelectedCell(cell);\n        this.config.grid.paint();\n    };\n    AddColumn.prototype.undo = function () {\n        this.config.grid.config.columns.splice(this._index, 1);\n        actions_1.updateColumns(this.config.grid.config);\n        this.config.spreadsheet.selection.setSelectedCell(this.config.cell);\n    };\n    return AddColumn;\n}());\nexports.AddColumn = AddColumn;\n\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar actions_1 = __webpack_require__(15);\nvar main_1 = __webpack_require__(1);\nvar AddRow = /** @class */ (function () {\n    function AddRow(config) {\n        this.config = config;\n    }\n    AddRow.prototype.do = function () {\n        var cell = this.config.cell;\n        if (!this._index) {\n            this._index = main_1.getCellIndex(cell).row;\n        }\n        var item = __assign({}, this.config.grid.data.getItem(this.config.grid.data.getId(0)));\n        for (var key in item) {\n            item[key] = \"\";\n        }\n        this.config.grid.data.add(item, this._index);\n        actions_1.updateRowsIndex(this.config.grid.data);\n        actions_1.removeRowsCss(this.config.grid);\n        this.config.spreadsheet.selection.setSelectedCell(cell);\n        this.config.grid.paint();\n    };\n    AddRow.prototype.undo = function () {\n        this.config.grid.data.remove(this.config.grid.data.getId(this._index));\n        actions_1.updateRowsIndex(this.config.grid.data);\n        actions_1.removeRowsCss(this.config.grid);\n        this.config.spreadsheet.selection.setSelectedCell(this.config.cell);\n    };\n    return AddRow;\n}());\nexports.AddRow = AddRow;\n\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = __webpack_require__(2);\nvar actions_1 = __webpack_require__(15);\nvar main_1 = __webpack_require__(1);\nvar DeleteColumn = /** @class */ (function () {\n    function DeleteColumn(config) {\n        this.config = config;\n    }\n    DeleteColumn.prototype.do = function () {\n        var cell = this.config.cell;\n        if (!this._index) {\n            this._index = main_1.getCellIndex(cell).col;\n        }\n        this._column = this.config.grid.config.columns.splice(this._index, 1)[0];\n        // [dirty]\n        if (this.config.grid.config.columns.length <= 1) {\n            var copy = __assign({}, this._column, { $cellCss: {}, header: [{ text: \"\" }] });\n            copy.id = core_1.uid();\n            this.config.grid.config.columns.push(copy);\n        }\n        actions_1.updateColumns(this.config.grid.config);\n        this.config.spreadsheet.selection.setSelectedCell(cell);\n        this.config.grid.paint();\n    };\n    DeleteColumn.prototype.undo = function () {\n        this.config.grid.config.columns.splice(this._index, 0, this._column);\n        actions_1.updateColumns(this.config.grid.config);\n        this.config.spreadsheet.selection.setSelectedCell(this.config.cell);\n    };\n    return DeleteColumn;\n}());\nexports.DeleteColumn = DeleteColumn;\n\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar actions_1 = __webpack_require__(15);\nvar main_1 = __webpack_require__(1);\nvar DeleteRow = /** @class */ (function () {\n    function DeleteRow(config) {\n        this.config = config;\n    }\n    DeleteRow.prototype.do = function () {\n        var _a = this.config, row = _a.row, cell = _a.cell;\n        if (!this._item) {\n            this._item = __assign({}, this.config.grid.data.getItem(row));\n            this._index = main_1.getCellIndex(cell).row;\n        }\n        this.config.grid.data.remove(row);\n        if (!this.config.grid.data.getLength()) {\n            var emptyRow = this.config.grid.config.columns.reduce(function (acc, col) {\n                acc[col.id] = \"\";\n                return acc;\n            }, {});\n            this.config.grid.data.add(emptyRow);\n        }\n        actions_1.updateRowsIndex(this.config.grid.data);\n        this.config.spreadsheet.selection.setSelectedCell(cell);\n    };\n    DeleteRow.prototype.undo = function () {\n        this.config.grid.data.add(this._item, this._index);\n        actions_1.updateRowsIndex(this.config.grid.data);\n        actions_1.removeRowsCss(this.config.grid);\n        this.config.spreadsheet.selection.setSelectedCell(this.config.cell);\n    };\n    return DeleteRow;\n}());\nexports.DeleteRow = DeleteRow;\n\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar main_1 = __webpack_require__(1);\nvar ActionsManager_1 = __webpack_require__(22);\nvar GroupAction = /** @class */ (function () {\n    function GroupAction(config) {\n        this.config = config;\n        this._actions = [];\n    }\n    GroupAction.prototype.do = function () {\n        var _this = this;\n        if (!this._actions.length) {\n            var val_1 = this.config.val;\n            var valueIndex_1 = 0;\n            if (Array.isArray(val_1)) {\n                val_1 = val_1[valueIndex_1];\n            }\n            this.config.spreadsheet.eachCell(function (cell) {\n                var _a = main_1.getCellIds(_this.config.grid, cell), row = _a.row, col = _a.col;\n                var action = new ActionsManager_1.actions[_this.config.action](__assign({}, _this.config, { row: row, col: col, cell: cell, val: val_1 }));\n                _this._actions.push(action);\n                if (Array.isArray(_this.config.val)) {\n                    if (valueIndex_1 + 1 >= _this.config.val.length) {\n                        valueIndex_1 = 0;\n                    }\n                    else {\n                        valueIndex_1 += 1;\n                    }\n                    val_1 = _this.config.val[valueIndex_1];\n                }\n            }, this.config.cell);\n        }\n        for (var _i = 0, _a = this._actions; _i < _a.length; _i++) {\n            var action = _a[_i];\n            action.do();\n        }\n        this.config.spreadsheet.selection.setSelectedCell(this.config.cell);\n    };\n    GroupAction.prototype.undo = function () {\n        for (var _i = 0, _a = this._actions; _i < _a.length; _i++) {\n            var action = _a[_i];\n            action.undo();\n        }\n        var firstCell = this.config.cell.split(\":\")[0];\n        this.config.spreadsheet.selection.setSelectedCell(firstCell);\n    };\n    return GroupAction;\n}());\nexports.GroupAction = GroupAction;\n\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar main_1 = __webpack_require__(1);\nvar ActionsManager_1 = __webpack_require__(22);\nvar GroupColAction = /** @class */ (function () {\n    function GroupColAction(config) {\n        this.config = config;\n        this._actions = [];\n    }\n    GroupColAction.prototype.do = function () {\n        var _this = this;\n        if (!this._actions.length) {\n            var id = main_1.getCellIds(this.config.grid, this.config.cell);\n            var startRow_1 = id.start.row;\n            var firstCell_1 = this.config.cell.split(\":\")[0];\n            this.config.spreadsheet.eachCell(function (cell) {\n                var _a = main_1.getCellIds(_this.config.grid, cell), row = _a.row, col = _a.col;\n                if (row === startRow_1) {\n                    var action = new ActionsManager_1.actions[_this.config.action](__assign({}, _this.config, { row: row, col: col, cell: firstCell_1 }));\n                    _this._actions.push(action);\n                }\n            }, this.config.cell);\n        }\n        for (var i = this._actions.length - 1; i >= 0; i--) {\n            this._actions[i].do();\n        }\n    };\n    GroupColAction.prototype.undo = function () {\n        for (var i = 0; i < this._actions.length; i++) {\n            this._actions[i].undo();\n        }\n    };\n    return GroupColAction;\n}());\nexports.GroupColAction = GroupColAction;\n\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar main_1 = __webpack_require__(1);\nvar ActionsManager_1 = __webpack_require__(22);\nvar GroupRowAction = /** @class */ (function () {\n    function GroupRowAction(config) {\n        this.config = config;\n        this._actions = [];\n    }\n    GroupRowAction.prototype.do = function () {\n        var _this = this;\n        if (!this._actions.length) {\n            var id = main_1.getCellIds(this.config.grid, this.config.cell);\n            var startCol_1 = id.start.col;\n            var firstCell_1 = this.config.cell.split(\":\")[0];\n            this.config.spreadsheet.eachCell(function (cell) {\n                var _a = main_1.getCellIds(_this.config.grid, cell), row = _a.row, col = _a.col;\n                if (col === startCol_1) {\n                    var action = new ActionsManager_1.actions[_this.config.action](__assign({}, _this.config, { row: row, col: col, cell: firstCell_1 }));\n                    _this._actions.push(action);\n                }\n            }, this.config.cell);\n        }\n        for (var i = this._actions.length - 1; i >= 0; i--) {\n            this._actions[i].do();\n        }\n    };\n    GroupRowAction.prototype.undo = function () {\n        for (var i = this._actions.length - 1; i >= 0; i--) {\n            this._actions[i].undo();\n        }\n    };\n    return GroupRowAction;\n}());\nexports.GroupRowAction = GroupRowAction;\n\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar main_1 = __webpack_require__(1);\nvar types_1 = __webpack_require__(4);\nvar LockCell = /** @class */ (function () {\n    function LockCell(config) {\n        this.config = config;\n    }\n    LockCell.prototype.do = function () {\n        var _a = this.config, val = _a.val, cell = _a.cell;\n        var cellInfo = main_1.getCellInfo(this.config.grid, cell);\n        cellInfo.locked = val;\n        if (val) {\n            this.config.editLine.lock();\n        }\n        else {\n            this.config.editLine.unlock();\n        }\n        this.config.spreadsheet.events.fire(types_1.SpreadsheetEvents.afterFocusSet, [cell]);\n    };\n    LockCell.prototype.undo = function () {\n        var _a = this.config, val = _a.val, cell = _a.cell;\n        var cellInfo = main_1.getCellInfo(this.config.grid, cell);\n        cellInfo.locked = !val;\n        this.config.spreadsheet.events.fire(types_1.SpreadsheetEvents.afterFocusSet, [cell]);\n        if (val) {\n            this.config.editLine.unlock();\n        }\n        else {\n            this.config.editLine.lock();\n        }\n    };\n    return LockCell;\n}());\nexports.LockCell = LockCell;\n\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar main_1 = __webpack_require__(1);\nvar types_1 = __webpack_require__(4);\nvar RemoveCellStyles = /** @class */ (function () {\n    function RemoveCellStyles(config) {\n        this.config = config;\n    }\n    RemoveCellStyles.prototype.do = function () {\n        var cell = this.config.cell;\n        var _a = main_1.getCellIds(this.config.grid, cell), row = _a.row, col = _a.col;\n        var cellInfo = main_1.getCellInfo(this.config.grid, cell);\n        if (cellInfo.locked) {\n            return;\n        }\n        this.config.grid.removeCellCss(row, col, cellInfo.css);\n        this.config.prev = cellInfo.css;\n        main_1.updateCellInfo(this.config.grid, cell, {\n            css: \"\"\n        });\n        this.config.spreadsheet.events.fire(types_1.SpreadsheetEvents.afterSelectionSet, [cell]);\n        this.config.spreadsheet.events.fire(types_1.SpreadsheetEvents.afterStyleChange, [cell]);\n    };\n    RemoveCellStyles.prototype.undo = function () {\n        var _a = this.config, row = _a.row, col = _a.col, cell = _a.cell;\n        var cellInfo = main_1.getCellInfo(this.config.grid, cell);\n        if (cellInfo.locked) {\n            return;\n        }\n        main_1.updateCellInfo(this.config.grid, cell, {\n            css: this.config.prev\n        });\n        this.config.grid.addCellCss(row, col, this.config.prev);\n        this.config.spreadsheet.events.fire(types_1.SpreadsheetEvents.afterStyleChange, [cell]);\n    };\n    return RemoveCellStyles;\n}());\nexports.RemoveCellStyles = RemoveCellStyles;\n\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar format_1 = __webpack_require__(16);\nvar main_1 = __webpack_require__(1);\nvar types_1 = __webpack_require__(4);\nvar SetCellFormat = /** @class */ (function () {\n    function SetCellFormat(config) {\n        this.config = config;\n    }\n    SetCellFormat.prototype.do = function () {\n        var cell = this.config.cell;\n        var val = this.config.val;\n        var format = format_1.getFormat(val);\n        val = (format && format.mask) || val;\n        var cellInfo = main_1.getCellInfo(this.config.grid, cell);\n        if (cellInfo.locked) {\n            return;\n        }\n        if (!this.config.spreadsheet.events.fire(types_1.SpreadsheetEvents.beforeFormatChange, [cell, val])) {\n            return;\n        }\n        this.config.prev = cellInfo.format;\n        main_1.updateCellInfo(this.config.grid, cell, {\n            format: val || \"\"\n        });\n        this.config.spreadsheet.events.fire(types_1.SpreadsheetEvents.afterFormatChange, [cell, val]);\n        this.config.grid.paint();\n    };\n    SetCellFormat.prototype.undo = function () {\n        var val = this.config.val;\n        var prev = this.config.prev;\n        this.config.val = prev;\n        this.config.prev = val;\n        this.do();\n        this.config.val = val;\n        this.config.prev = prev;\n    };\n    return SetCellFormat;\n}());\nexports.SetCellFormat = SetCellFormat;\n\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar main_1 = __webpack_require__(1);\nvar types_1 = __webpack_require__(4);\nvar SetCellStyle = /** @class */ (function () {\n    function SetCellStyle(config) {\n        this.config = config;\n    }\n    SetCellStyle.prototype.do = function () {\n        var cell = this.config.cell;\n        var _a = main_1.getCellIds(this.config.grid, cell), row = _a.row, col = _a.col;\n        var cellInfo = main_1.getCellInfo(this.config.grid, cell);\n        if (cellInfo.locked) {\n            return;\n        }\n        if (typeof this.config.val !== \"string\") {\n            var styles = dhx.css.get(cellInfo.css) || {};\n            if (Array.isArray(this.config.val)) {\n                this.config.val = this.config.val[0];\n            }\n            var css = dhx.css.add(__assign({}, styles, this.config.val));\n            this.config.val = css;\n        }\n        var val = this.config.val;\n        if (!this.config.spreadsheet.events.fire(types_1.SpreadsheetEvents.beforeStyleChange, [cell, dhx.css.get(val)])) {\n            return;\n        }\n        this.config.prev = cellInfo.css;\n        this.config.grid.removeCellCss(row, col, cellInfo.css);\n        main_1.updateCellInfo(this.config.grid, cell, { css: val });\n        this.config.grid.addCellCss(row, col, val);\n        this.config.spreadsheet.events.fire(types_1.SpreadsheetEvents.afterStyleChange, [this.config.cell, dhx.css.get(val)]);\n    };\n    SetCellStyle.prototype.undo = function () {\n        var val = this.config.val;\n        var prev = this.config.prev;\n        this.config.val = prev || \"\";\n        this.config.prev = val || \"\";\n        this.do();\n        this.config.val = val;\n        this.config.prev = prev;\n    };\n    return SetCellStyle;\n}());\nexports.SetCellStyle = SetCellStyle;\n\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar format_1 = __webpack_require__(16);\nvar main_1 = __webpack_require__(1);\nvar types_1 = __webpack_require__(4);\nvar SetCellValue = /** @class */ (function () {\n    function SetCellValue(config) {\n        this.config = config;\n    }\n    SetCellValue.prototype.do = function () {\n        var _a;\n        var _b = this.config, val = _b.val, cell = _b.cell;\n        var _c = main_1.getCellIds(this.config.grid, cell), row = _c.row, col = _c.col;\n        if (this.config.spreadsheet.isLocked(cell)) {\n            return;\n        }\n        if (!this.config.spreadsheet.events.fire(types_1.SpreadsheetEvents.beforeValueChange, [cell, val])) {\n            return;\n        }\n        var value;\n        var cleanValue = format_1.getCleanValue(val);\n        var isAutoFormat = this.config.spreadsheet.config.autoFormat;\n        if (isAutoFormat && format_1.isNumeric(cleanValue)) {\n            var oldFormat = main_1.getCellInfo(this.config.grid, cell).format;\n            var format = oldFormat || format_1.detectCellFormat(val);\n            if (!oldFormat && format.indexOf(\"%\") > -1) {\n                value = (parseFloat(cleanValue) / 100).toFixed(4);\n            }\n            else {\n                value = cleanValue;\n            }\n            main_1.updateCellInfo(this.config.grid, cell, {\n                format: format\n            });\n        }\n        else {\n            value = val;\n        }\n        this.config.prev = this.config.spreadsheet.getValue(cell);\n        this.config.grid.data.update(row, (_a = {},\n            _a[col] = value,\n            _a));\n        main_1.updateCellInfo(this.config.grid, cell, {\n            nextValue: undefined\n        });\n        this.config.spreadsheet.selection.setSelectedCell(this.config.cell);\n        this.config.spreadsheet.events.fire(types_1.SpreadsheetEvents.afterValueChange, [this.config.cell, cleanValue]);\n    };\n    SetCellValue.prototype.undo = function () {\n        var val = this.config.val;\n        var prev = this.config.prev;\n        this.config.val = prev;\n        this.config.prev = val;\n        this.do();\n        this.config.val = val;\n        this.config.prev = prev;\n    };\n    return SetCellValue;\n}());\nexports.SetCellValue = SetCellValue;\n\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar en_1 = __webpack_require__(6);\nfunction getContextMenuStruct() {\n    return [\n        { id: \"lock\", value: en_1.default.lockCell, icon: \"dxi-key\" },\n        {\n            id: \"clear\", value: en_1.default.clear, icon: \"dxi-eraser\", childs: [\n                {\n                    id: \"clear-value\",\n                    value: en_1.default.clearValue\n                },\n                {\n                    id: \"clear-styles\",\n                    value: en_1.default.clearStyles\n                },\n                {\n                    id: \"clear-all\",\n                    value: en_1.default.clearAll\n                }\n            ]\n        },\n        {\n            id: \"columns\", value: en_1.default.columns, icon: \"dxi-table-column\", childs: [\n                {\n                    id: \"add-col\",\n                    value: en_1.default.addColumn,\n                    icon: \"dxi-table-column-plus-before\"\n                },\n                {\n                    id: \"remove-col\",\n                    value: en_1.default.removeColumn,\n                    icon: \"dxi-table-column-remove\"\n                }\n            ]\n        },\n        {\n            id: \"rows\", value: en_1.default.rows, icon: \"dxi-table-row\", childs: [\n                {\n                    id: \"add-row\",\n                    value: en_1.default.addRow,\n                    icon: \"dxi-table-row-plus-after\"\n                },\n                {\n                    id: \"remove-row\",\n                    value: en_1.default.removeRow,\n                    icon: \"dxi-table-row-remove\"\n                }\n            ]\n        }\n    ];\n}\nexports.getContextMenuStruct = getContextMenuStruct;\n\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ts_toolbar_1 = __webpack_require__(20);\nvar toolbar_1 = __webpack_require__(23);\nvar en_1 = __webpack_require__(6);\nfunction getMenuStruct(config) {\n    return [\n        {\n            id: \"file\", open: true, value: en_1.default.file, childs: [\n                {\n                    id: \"import\",\n                    value: en_1.default.importAs,\n                    icon: \"dxi-file-import\",\n                    childs: [\n                        {\n                            id: \"import-xlsx\",\n                            value: \"Microsoft Excel(.xlsx)\",\n                            icon: \"dxi-file-excel\"\n                        }\n                    ]\n                },\n                {\n                    id: \"download\",\n                    value: en_1.default.downloadAs,\n                    icon: \"dxi-file-export\",\n                    childs: [\n                        {\n                            id: \"export-xlsx\",\n                            value: \"Microsoft Excel(.xlsx)\",\n                            icon: \"dxi-file-excel\"\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            id: \"edit\", value: en_1.default.edit, childs: [\n                { id: \"undo\", value: en_1.default.undo, icon: \"dxi-undo\" },\n                { id: \"redo\", value: en_1.default.redo, icon: \"dxi-redo\" },\n                { type: ts_toolbar_1.ItemType.separator },\n                { id: \"lock\", value: en_1.default.lockCell, icon: \"dxi-key\" },\n                { type: ts_toolbar_1.ItemType.separator },\n                {\n                    id: \"clear\", value: en_1.default.clear, icon: \"dxi-eraser\", childs: [\n                        {\n                            id: \"clear-value\",\n                            value: en_1.default.clearValue\n                        },\n                        {\n                            id: \"clear-styles\",\n                            value: en_1.default.clearStyles\n                        },\n                        {\n                            id: \"clear-all\",\n                            value: en_1.default.clearAll\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            id: \"insert\", value: en_1.default.insert, childs: [\n                {\n                    id: \"columns\", value: en_1.default.columns, icon: \"dxi-table-column\", childs: [\n                        {\n                            id: \"add-col\",\n                            value: en_1.default.addColumn,\n                            icon: \"dxi-table-column-plus-before\"\n                        },\n                        {\n                            id: \"remove-col\",\n                            value: en_1.default.removeColumn,\n                            icon: \"dxi-table-column-remove\"\n                        }\n                    ]\n                },\n                {\n                    id: \"rows\", value: en_1.default.rows, icon: \"dxi-table-row\", childs: [\n                        {\n                            id: \"add-row\",\n                            value: en_1.default.addRow,\n                            icon: \"dxi-table-row-plus-after\"\n                        },\n                        {\n                            id: \"remove-row\",\n                            value: en_1.default.removeRow,\n                            icon: \"dxi-table-row-remove\"\n                        }\n                    ]\n                }\n            ]\n        },\n        {\n            id: \"configuration\", value: en_1.default.format, childs: [\n                {\n                    id: \"font-weight-bold\",\n                    value: en_1.default.bold,\n                    icon: \"dxi-format-bold\"\n                },\n                {\n                    id: \"font-style-italic\",\n                    value: en_1.default.italic,\n                    icon: \"dxi-format-italic\"\n                },\n                {\n                    id: \"text-decoration-underline\",\n                    value: en_1.default.underline,\n                    icon: \"dxi-format-underline\"\n                },\n                { type: ts_toolbar_1.ItemType.separator },\n                {\n                    id: \"align\", value: en_1.default.align, childs: [\n                        {\n                            id: \"align-left\",\n                            value: en_1.default.left,\n                            icon: \"dxi-format-align-left\"\n                        },\n                        {\n                            id: \"align-center\",\n                            value: en_1.default.center,\n                            icon: \"dxi-format-align-center\"\n                        },\n                        {\n                            id: \"align-right\",\n                            value: en_1.default.right,\n                            icon: \"dxi-format-align-right\"\n                        }\n                    ]\n                },\n                {\n                    id: \"format\",\n                    type: ts_toolbar_1.ItemType.menuItem,\n                    value: en_1.default.numberFormat,\n                    childs: toolbar_1.getFormatsDropdown(config)\n                }\n            ]\n        },\n        {\n            id: \"help\", value: en_1.default.help\n        }\n    ];\n}\nexports.getMenuStruct = getMenuStruct;\n\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ts_toolbar_1 = __webpack_require__(20);\nvar toolbar_1 = __webpack_require__(23);\nvar en_1 = __webpack_require__(6);\nvar hotKeys = {\n    undo: \"Z\",\n    redo: \"Y\",\n    bold: \"B\",\n    italic: \"I\",\n    underline: \"U\"\n};\nfunction getHotKey(name) {\n    var isMac = navigator.platform.match(/(Mac)/i) ? true : false;\n    if (isMac) {\n        return \"\\u2318+\" + hotKeys[name];\n    }\n    return \"ctrl+\" + hotKeys[name];\n}\nexports.getHotKey = getHotKey;\nfunction getToolbarStruct(elements, config) {\n    var toolbarBlocks = {\n        undo: [\n            {\n                id: \"undo\",\n                type: ts_toolbar_1.ItemType.button,\n                icon: \"dxi-undo\",\n                tooltip: en_1.default.undo + \" (\" + getHotKey(\"undo\") + \")\"\n            },\n            {\n                id: \"redo\",\n                type: ts_toolbar_1.ItemType.button,\n                icon: \"dxi-redo\",\n                tooltip: en_1.default.redo + \" (\" + getHotKey(\"redo\") + \")\"\n            },\n        ],\n        colors: [\n            {\n                id: \"color\",\n                type: ts_toolbar_1.ItemType.customHTMLButton,\n                html: toolbar_1.getColorpickerTemplate(\"#4C4C4C\", \"text\"),\n                tooltip: en_1.default.textColor\n            },\n            {\n                id: \"background\",\n                type: ts_toolbar_1.ItemType.customHTMLButton,\n                html: toolbar_1.getColorpickerTemplate(\"#FFF\", \"fill\"),\n                tooltip: en_1.default.backgroundColor\n            }\n        ],\n        lock: [\n            {\n                id: \"lock\",\n                type: ts_toolbar_1.ItemType.button,\n                icon: \"dxi-key\",\n                tooltip: en_1.default.lockCell\n            }\n        ],\n        file: [\n            {\n                id: \"export\",\n                type: ts_toolbar_1.ItemType.menuItem,\n                icon: \"dxi-file-export\",\n                tooltip: en_1.default.export,\n                childs: [\n                    {\n                        id: \"export-xlsx\",\n                        value: \"Microsoft Excel(.xlsx)\",\n                        icon: \"dxi-file-excel\"\n                    }\n                ]\n            },\n            {\n                id: \"import\",\n                type: ts_toolbar_1.ItemType.menuItem,\n                icon: \"dxi-file-import\",\n                tooltip: en_1.default.import,\n                childs: [\n                    {\n                        id: \"import-xlsx\",\n                        value: \"Microsoft Excel(.xlsx)\",\n                        icon: \"dxi-file-excel\"\n                    }\n                ]\n            }\n        ],\n        columns: [\n            {\n                id: \"add-col\",\n                type: ts_toolbar_1.ItemType.button,\n                icon: \"dxi-table-column-plus-before\",\n                tooltip: en_1.default.addColumn\n            },\n            {\n                id: \"remove-col\",\n                type: ts_toolbar_1.ItemType.button,\n                icon: \"dxi-table-column-remove dxi-flip-h\",\n                tooltip: en_1.default.removeColumn\n            }\n        ],\n        rows: [\n            {\n                id: \"add-row\",\n                type: ts_toolbar_1.ItemType.button,\n                icon: \"dxi-table-row-plus-after\",\n                tooltip: en_1.default.addRow\n            },\n            {\n                id: \"remove-row\",\n                type: ts_toolbar_1.ItemType.button,\n                icon: \"dxi-table-row-remove\",\n                tooltip: en_1.default.removeRow\n            }\n        ],\n        clear: [\n            {\n                type: \"menuItem\",\n                icon: \"dxi-eraser\",\n                id: \"clear-group\",\n                tooltip: en_1.default.clear,\n                childs: [\n                    {\n                        id: \"clear-value\",\n                        value: en_1.default.clearValue\n                    },\n                    {\n                        id: \"clear-styles\",\n                        value: en_1.default.clearStyles\n                    },\n                    {\n                        id: \"clear-all\",\n                        value: en_1.default.clearAll\n                    }\n                ]\n            }\n        ],\n        align: [\n            {\n                id: \"align-left\",\n                type: ts_toolbar_1.ItemType.button,\n                icon: \"dxi-format-align-left\",\n                tooltip: en_1.default.align + \" \" + en_1.default.left,\n            },\n            {\n                id: \"align-center\",\n                type: ts_toolbar_1.ItemType.button,\n                icon: \"dxi-format-align-center\",\n                tooltip: en_1.default.align + \" \" + en_1.default.center\n            },\n            // {\n            // \tid: \"align-justify\",\n            // \ttype: ItemType.button,\n            // \ticon: \"dxi-format-align-justify\",\n            // \ttooltip: locale.alignJustify\n            // },\n            {\n                id: \"align-right\",\n                type: ts_toolbar_1.ItemType.button,\n                icon: \"dxi-format-align-right\",\n                tooltip: en_1.default.align + \" \" + en_1.default.right\n            }\n        ],\n        decoration: [\n            {\n                id: \"font-weight-bold\",\n                type: ts_toolbar_1.ItemType.button,\n                icon: \"dxi-format-bold\",\n                tooltip: en_1.default.bold + \" (\" + getHotKey(\"bold\") + \")\"\n            },\n            {\n                id: \"font-style-italic\",\n                type: ts_toolbar_1.ItemType.button,\n                icon: \"dxi-format-italic\",\n                tooltip: en_1.default.italic + \" (\" + getHotKey(\"italic\") + \")\"\n            },\n            {\n                id: \"text-decoration-underline\",\n                type: ts_toolbar_1.ItemType.button,\n                icon: \"dxi-format-underline\",\n                tooltip: en_1.default.underline + \" (\" + getHotKey(\"underline\") + \")\"\n            }\n        ],\n        help: [{\n                id: \"help\",\n                type: ts_toolbar_1.ItemType.button,\n                icon: \"dxi-help-circle-outline\",\n                tooltip: en_1.default.help\n            }],\n        format: [\n            {\n                id: \"format\",\n                type: ts_toolbar_1.ItemType.menuItem,\n                tooltip: en_1.default.numberFormat,\n                css: \"dhx_format-dropdown\",\n                childs: toolbar_1.getFormatsDropdown(config)\n            }\n        ]\n    };\n    var defaultBlocks = [\"undo\", \"colors\", \"decoration\", \"align\", \"format\", \"help\"];\n    elements = elements || defaultBlocks;\n    var defaultBlockIndex = elements.indexOf(\"default\");\n    if (defaultBlockIndex !== -1) {\n        elements.splice.apply(elements, [defaultBlockIndex, 1].concat(defaultBlocks));\n    }\n    elements = elements.filter(function (item, i, arr) { return arr.indexOf(item) === i; });\n    return elements.reduce(function (struct, item, i, arr) {\n        if (toolbarBlocks[item]) {\n            struct.push.apply(struct, toolbarBlocks[item]);\n            if (i !== arr.length - 1) {\n                struct.push({\n                    type: ts_toolbar_1.ItemType.separator,\n                });\n            }\n        }\n        return struct;\n    }, []);\n}\nexports.getToolbarStruct = getToolbarStruct;\n\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dom_1 = __webpack_require__(0);\nvar view_1 = __webpack_require__(8);\nvar types_1 = __webpack_require__(4);\nvar EditLine = /** @class */ (function (_super) {\n    __extends(EditLine, _super);\n    function EditLine(element, config) {\n        if (config === void 0) { config = {}; }\n        var _this = _super.call(this, element, config) || this;\n        _this._htmlEvents = {\n            oninput: function (e) {\n                _this.config.events.fire(types_1.SpreadsheetEvents.editLineInput, [e.target.value]);\n            },\n            onfocus: function (e) {\n                _this.config.events.fire(types_1.SpreadsheetEvents.editLineFocus, [e.target.value, e]);\n            },\n            onblur: function (e) {\n                _this.config.events.fire(types_1.SpreadsheetEvents.editLineBlur, [e.target.value, e]);\n            }\n        };\n        _this.config.events.on(types_1.SpreadsheetEvents.cellInput, function (_cell, val) {\n            _this._value = val;\n            _this.paint();\n        });\n        var render = function () { return _this._render(); };\n        _this.mount(element, dom_1.create({ render: render }));\n        return _this;\n    }\n    EditLine.prototype.focus = function () {\n        this.getRootView().refs.input.el.focus();\n    };\n    EditLine.prototype.blur = function () {\n        this.getRootView().refs.input.el.blur();\n    };\n    EditLine.prototype.lock = function () {\n        this._locked = true;\n        this.paint();\n    };\n    EditLine.prototype.unlock = function () {\n        this._locked = false;\n        this.paint();\n    };\n    EditLine.prototype.setValue = function (val) {\n        this.unlock();\n        this._value = val;\n        this.paint();\n    };\n    EditLine.prototype.clean = function () {\n        var _this = this;\n        // [dirty]\n        setTimeout(function () {\n            _this._value = \"\";\n            _this.paint();\n        }, 1);\n    };\n    EditLine.prototype._render = function () {\n        return dom_1.el(\".dhx_edit_line\", {}, [\n            // el(\".fx\", [\n            // \tel(\".dxi.dxi-function-variant\")\n            // ]),\n            dom_1.el(\".input-wrapper\", [\n                dom_1.el(\"input.dhx_edit_line_input\", {\n                    oninput: this._htmlEvents.oninput,\n                    onfocus: this._htmlEvents.onfocus,\n                    onblur: this._htmlEvents.onblur,\n                    value: this._value || \"\",\n                    _ref: \"input\",\n                    disabled: this._locked\n                }),\n                dom_1.el(\".input-animation\")\n            ])\n        ]);\n    };\n    return EditLine;\n}(view_1.View));\nexports.EditLine = EditLine;\n\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar types_1 = __webpack_require__(4);\nvar main_1 = __webpack_require__(1);\nvar BufferManager = /** @class */ (function () {\n    function BufferManager(spreadsheet, grid, callAction) {\n        this._spreadsheet = spreadsheet;\n        this._grid = grid;\n        // [dirty]\n        this._callAction = callAction.bind(spreadsheet);\n        this._buffer = {\n            value: \"\",\n            styles: {},\n            cell: \"\",\n            cells: \"\",\n            operation: \"\",\n            inserted: false\n        };\n    }\n    BufferManager.prototype.store = function (operation) {\n        var cell = this._spreadsheet.selection.getSelectedCell();\n        var focus = this._spreadsheet.selection.getFocusedCell();\n        var cellInfo = main_1.getCellInfo(this._grid, focus);\n        if (cellInfo.edited) {\n            return;\n        }\n        if (main_1.isRangeId(cell) && cell.indexOf(\":\") === -1) {\n            this._buffer.cell = null;\n            return;\n        }\n        this._buffer.value = this._spreadsheet.getValue(cell);\n        this._buffer.styles = this._spreadsheet.getStyle(cell);\n        this._buffer.cells = cell;\n        this._buffer.cell = focus;\n        this._buffer.operation = operation;\n        this._buffer.inserted = false;\n        this._grid.paint();\n    };\n    BufferManager.prototype.paste = function () {\n        if (!this._buffer.cell) {\n            return;\n        }\n        this._buffer.inserted = true;\n        var cell = this._spreadsheet.selection.getSelectedCell();\n        var format = this._spreadsheet.getFormat(this._buffer.cells);\n        var newCell = cell;\n        var isRangeCells = false;\n        if (main_1.isRangeId(this._buffer.cells)) {\n            isRangeCells = true;\n            var index = main_1.getRangeIndexes(this._buffer.cells);\n            var to = main_1.getCellIndex(cell);\n            var diff = { row: index.end.row - index.start.row, col: index.end.col - index.start.col };\n            var lastCell = main_1.getCellNameByIndex(to.row + diff.row, to.col + diff.col);\n            if (main_1.isRangeId(cell)) {\n                var bufferCellsLength = main_1.getCellsArray(this._buffer.cells).length;\n                var targetCellsLength = main_1.getCellsArray(cell).length;\n                if (bufferCellsLength > targetCellsLength) {\n                    newCell = cell.split(\":\")[0] + \":\" + lastCell;\n                }\n            }\n            else {\n                newCell += \":\" + lastCell;\n            }\n        }\n        var isRangeTarget = main_1.isRangeId(newCell);\n        var styles = Array.isArray(this._buffer.styles) ?\n            this._buffer.styles.map(function (obj) { return dhx.css.add(obj); })\n            : dhx.css.add(this._buffer.styles);\n        var actionsGroup = [];\n        if (this._buffer.operation === \"cut\") {\n            actionsGroup.push({\n                cell: this._buffer.cells,\n                action: types_1.Actions.setCellFormat,\n                groupAction: isRangeTarget ? types_1.Actions.groupAction : null,\n                val: \"\"\n            }, {\n                cell: this._buffer.cells,\n                action: types_1.Actions.setCellValue,\n                val: \"\",\n                groupAction: isRangeCells ? types_1.Actions.groupAction : null\n            }, {\n                cell: this._buffer.cells,\n                action: types_1.Actions.setCellStyle,\n                val: \"\",\n                groupAction: isRangeCells ? types_1.Actions.groupAction : null\n            });\n            this._buffer.operation = \"copy\";\n        }\n        actionsGroup.push({\n            cell: newCell,\n            action: types_1.Actions.setCellFormat,\n            groupAction: isRangeTarget ? types_1.Actions.groupAction : null,\n            val: format\n        }, {\n            cell: newCell,\n            action: types_1.Actions.setCellValue,\n            val: this._buffer.value,\n            groupAction: isRangeTarget ? types_1.Actions.groupAction : null\n        }, {\n            cell: newCell,\n            action: types_1.Actions.setCellStyle,\n            val: styles,\n            groupAction: isRangeTarget ? types_1.Actions.groupAction : null\n        });\n        this._callAction(actionsGroup);\n    };\n    BufferManager.prototype.getStruct = function () {\n        return this._buffer;\n    };\n    return BufferManager;\n}());\nexports.BufferManager = BufferManager;\n\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ts_data_1 = __webpack_require__(11);\nvar main_1 = __webpack_require__(1);\nvar CustomCsvDriver = /** @class */ (function (_super) {\n    __extends(CustomCsvDriver, _super);\n    function CustomCsvDriver() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CustomCsvDriver.prototype.toJsonArray = function (data) {\n        var dataArr = _super.prototype.toJsonArray.call(this, data);\n        var d = dataArr.reduce(function (total, item, i) {\n            for (var key in item) {\n                total.push({\n                    value: item[key],\n                    cell: main_1.getCellNameByIndex(i, parseFloat(key))\n                });\n            }\n            return total;\n        }, []);\n        return d;\n    };\n    return CustomCsvDriver;\n}(ts_data_1.CsvDriver));\nexports.CustomCsvDriver = CustomCsvDriver;\n\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar _this = this;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Keymanager_1 = __webpack_require__(109);\nvar hotkeys_1 = __webpack_require__(110);\nvar main_1 = __webpack_require__(1);\nvar toolbar_1 = __webpack_require__(23);\nvar types_1 = __webpack_require__(4);\nexports.focusHandler = {\n    inFocus: null,\n    getFocusState: function () { return _this.inFocus; },\n    setFocusState: function (state) { return _this.inFocus = state; }\n};\nfunction initHotkeys(spreadsheet, grid, bufferManager) {\n    var editedCell;\n    // [dirty] move to keyManager\n    var focusableKeyManager = {\n        addHotKey: function (key, handler) {\n            Keymanager_1.keyManager.addHotKey(key, function (e) {\n                if (exports.focusHandler.getFocusState()) {\n                    handler(e);\n                }\n            });\n        }\n    };\n    spreadsheet.events.on(types_1.SpreadsheetEvents.afterEditStart, function (cell) {\n        editedCell = cell;\n    });\n    spreadsheet.events.on(types_1.SpreadsheetEvents.afterEditEnd, function () {\n        editedCell = null;\n    });\n    var isChild = function (parent, child) {\n        var node = child.parentNode;\n        while (node !== null) {\n            if (node === parent) {\n                return true;\n            }\n            node = node.parentNode;\n        }\n        return false;\n    };\n    document.addEventListener(\"mousedown\", function (e) {\n        var target = e.target;\n        exports.focusHandler.setFocusState(isChild(spreadsheet.container, target)\n            || target.isEqualNode(spreadsheet.container));\n    });\n    spreadsheet.container.addEventListener(\"mouseenter\", function (e) {\n        if (exports.focusHandler.getFocusState() === null) {\n            exports.focusHandler.setFocusState(true);\n        }\n    });\n    document.addEventListener(\"keydown\", function (e) {\n        if (!exports.focusHandler.getFocusState()) {\n            return;\n        }\n        if (hotkeys_1.isPrintableKey(e)) {\n            var focused = spreadsheet.selection.getFocusedCell();\n            if (focused && focused !== editedCell) {\n                e.preventDefault();\n                spreadsheet.startEdit(focused, e.key);\n            }\n        }\n    });\n    focusableKeyManager.addHotKey(\"escape\", function () {\n        var selected = spreadsheet.selection.getSelectedCell();\n        var id = main_1.getCellIds(grid, selected);\n        var prevValue = grid.data.getItem(id.row)[id.col];\n        if (selected) {\n            main_1.updateCellInfo(grid, selected, {\n                nextValue: prevValue\n            });\n            spreadsheet.endEdit();\n            grid.paint();\n        }\n    });\n    focusableKeyManager.addHotKey(\"delete\", function () {\n        if (editedCell) {\n            return;\n        }\n        var selected = spreadsheet.selection.getSelectedCell();\n        if (selected) {\n            spreadsheet.setValue(selected, \"\");\n        }\n        grid.paint();\n    });\n    var pasteFromClipboard = function (data) {\n        var buffer = bufferManager.getStruct();\n        if (data === JSON.stringify(buffer.value)) {\n            bufferManager.paste();\n            return;\n        }\n        bufferManager.store(\"copy\");\n        buffer.value = data;\n        bufferManager.paste();\n    };\n    // only for IE\n    if (window.clipboardData) {\n        focusableKeyManager.addHotKey(\"ctrl+c\", function () {\n            if (exports.focusHandler.getFocusState() && !editedCell) {\n                bufferManager.store(\"copy\");\n                if (window.clipboardData) {\n                    window.clipboardData.setData(\"text/html\", hotkeys_1.getHtmlData(spreadsheet));\n                    window.clipboardData.setData(\"text\", JSON.stringify(spreadsheet.getValue(spreadsheet.selection.getSelectedCell())));\n                }\n            }\n        });\n        focusableKeyManager.addHotKey(\"ctrl+x\", function () {\n            if (exports.focusHandler.getFocusState() && !editedCell) {\n                bufferManager.store(\"cut\");\n                if (window.clipboardData) {\n                    window.clipboardData.setData(\"text/html\", hotkeys_1.getHtmlData(spreadsheet));\n                    window.clipboardData.setData(\"text\", JSON.stringify(spreadsheet.getValue(spreadsheet.selection.getSelectedCell())));\n                }\n            }\n        });\n        focusableKeyManager.addHotKey(\"ctrl+v\", function () {\n            if (exports.focusHandler.getFocusState() && !editedCell) {\n                if (window.clipboardData) {\n                    var data = window.clipboardData.getData(\"text\");\n                    pasteFromClipboard(data);\n                }\n            }\n        });\n    }\n    else {\n        document.addEventListener(\"cut\", function (e) {\n            if (exports.focusHandler.getFocusState() && !editedCell) {\n                bufferManager.store(\"cut\");\n                e.clipboardData.setData(\"text/html\", hotkeys_1.getHtmlData(spreadsheet));\n                e.clipboardData.setData(\"text/plain\", JSON.stringify(spreadsheet.getValue(spreadsheet.selection.getSelectedCell())));\n                e.preventDefault();\n            }\n        });\n        document.addEventListener(\"copy\", function (e) {\n            if (exports.focusHandler.getFocusState() && !editedCell) {\n                bufferManager.store(\"copy\");\n                e.clipboardData.setData(\"text/html\", hotkeys_1.getHtmlData(spreadsheet));\n                e.clipboardData.setData(\"text/plain\", JSON.stringify(spreadsheet.getValue(spreadsheet.selection.getSelectedCell())));\n                e.preventDefault();\n            }\n        });\n        document.addEventListener(\"paste\", function (e) {\n            if (exports.focusHandler.getFocusState() && !editedCell) {\n                var data = e.clipboardData.getData(\"text\");\n                pasteFromClipboard(data);\n                e.preventDefault();\n            }\n        });\n    }\n    focusableKeyManager.addHotKey(\"enter\", function () {\n        var selected = spreadsheet.selection.getSelectedCell();\n        var focused = spreadsheet.selection.getFocusedCell();\n        if (editedCell) {\n            var index = main_1.getCellIndex(editedCell);\n            index.row = index.row + 1 === grid.data.getLength() ? index.row : index.row + 1;\n            spreadsheet.selection.setSelectedCell(main_1.getCellNameByIndex(index.row, index.col));\n            editedCell = \"\";\n            if (main_1.isRangeId(selected)) {\n                spreadsheet.selection.setSelectedCell(selected);\n                spreadsheet.selection.setFocusedCell(main_1.getNextRangeCell(selected, focused, \"col\"));\n            }\n        }\n        else {\n            if (main_1.isRangeId(selected)) {\n                spreadsheet.endEdit();\n                spreadsheet.selection.setSelectedCell(selected);\n                spreadsheet.selection.setFocusedCell(main_1.getNextRangeCell(selected, focused, \"col\"));\n                return;\n            }\n            spreadsheet.startEdit(selected);\n        }\n    });\n    focusableKeyManager.addHotKey(\"f2\", function () {\n        spreadsheet.startEdit(spreadsheet.selection.getSelectedCell());\n    });\n    focusableKeyManager.addHotKey(\"pageUp\", function (e) {\n        e.preventDefault();\n        var body = grid.getRootView().refs.grid_body;\n        body.el.scrollTop -= body.el.clientHeight;\n    });\n    focusableKeyManager.addHotKey(\"pageDown\", function (e) {\n        e.preventDefault();\n        var body = grid.getRootView().refs.grid_body;\n        body.el.scrollTop += body.el.clientHeight - grid.config.rowHeight;\n    });\n    focusableKeyManager.addHotKey(\"ctrl+a\", function (e) {\n        if (exports.focusHandler.getFocusState() && !editedCell) {\n            e.preventDefault();\n            var first = main_1.getCellNameByIndex(0, 1);\n            var last = main_1.getCellNameByIndex(grid.data.getLength() - 1, grid.config.columns.length - 1);\n            spreadsheet.selection.setSelectedCell(first + \":\" + last);\n        }\n    });\n    focusableKeyManager.addHotKey(\"shift+arrowLeft\", function () {\n        setSelection(spreadsheet, grid, -1, \"col\");\n    });\n    focusableKeyManager.addHotKey(\"shift+arrowRight\", function () {\n        setSelection(spreadsheet, grid, 1, \"col\");\n    });\n    focusableKeyManager.addHotKey(\"shift+arrowDown\", function () {\n        setSelection(spreadsheet, grid, 1, \"row\");\n    });\n    focusableKeyManager.addHotKey(\"shift+arrowUp\", function () {\n        setSelection(spreadsheet, grid, -1, \"row\");\n    });\n    focusableKeyManager.addHotKey(\"ctrl+enter\", function () {\n        spreadsheet.endEdit();\n    });\n    focusableKeyManager.addHotKey(\"shift+enter\", function () {\n        var selected = spreadsheet.selection.getSelectedCell();\n        if (main_1.isRangeId(selected)) {\n            var focused = spreadsheet.selection.getFocusedCell();\n            spreadsheet.endEdit();\n            spreadsheet.selection.setSelectedCell(selected);\n            spreadsheet.selection.setFocusedCell(main_1.getPrevRangeCell(selected, focused, \"col\"));\n            return;\n        }\n        setCell(spreadsheet, grid, null, -1, \"row\");\n    });\n    focusableKeyManager.addHotKey(\"tab\", function (e) {\n        e.preventDefault();\n        var selected = spreadsheet.selection.getSelectedCell();\n        if (main_1.isRangeId(selected)) {\n            var focused = spreadsheet.selection.getFocusedCell();\n            spreadsheet.endEdit();\n            spreadsheet.selection.setSelectedCell(selected);\n            spreadsheet.selection.setFocusedCell(main_1.getNextRangeCell(selected, focused));\n            return;\n        }\n        setCell(spreadsheet, grid, null, 1, \"col\");\n    });\n    focusableKeyManager.addHotKey(\"shift+tab\", function (e) {\n        e.preventDefault();\n        var selected = spreadsheet.selection.getSelectedCell();\n        if (main_1.isRangeId(selected)) {\n            var focused = spreadsheet.selection.getFocusedCell();\n            spreadsheet.endEdit();\n            spreadsheet.selection.setSelectedCell(selected);\n            spreadsheet.selection.setFocusedCell(main_1.getPrevRangeCell(selected, focused));\n            return;\n        }\n        setCell(spreadsheet, grid, null, -1, \"col\");\n    });\n    focusableKeyManager.addHotKey(\"arrowLeft\", function (e) {\n        if (editedCell) {\n            return;\n        }\n        e.preventDefault();\n        setCell(spreadsheet, grid, null, -1, \"col\");\n    });\n    focusableKeyManager.addHotKey(\"arrowRight\", function (e) {\n        if (editedCell) {\n            return;\n        }\n        e.preventDefault();\n        setCell(spreadsheet, grid, null, 1, \"col\");\n    });\n    focusableKeyManager.addHotKey(\"arrowDown\", function (e) {\n        if (editedCell) {\n            return;\n        }\n        e.preventDefault();\n        setCell(spreadsheet, grid, null, 1, \"row\");\n    });\n    focusableKeyManager.addHotKey(\"arrowUp\", function (e) {\n        if (editedCell) {\n            return;\n        }\n        e.preventDefault();\n        setCell(spreadsheet, grid, null, -1, \"row\");\n    });\n    focusableKeyManager.addHotKey(\"ctrl+arrowLeft\", function () {\n        setCell(spreadsheet, grid, 1, null, \"col\");\n    });\n    focusableKeyManager.addHotKey(\"ctrl+arrowRight\", function () {\n        setCell(spreadsheet, grid, grid.config.columns.length - 1, null, \"col\");\n    });\n    focusableKeyManager.addHotKey(\"ctrl+arrowDown\", function () {\n        setCell(spreadsheet, grid, grid.data.getLength() - 1, null, \"row\");\n    });\n    focusableKeyManager.addHotKey(\"ctrl+arrowUp\", function () {\n        setCell(spreadsheet, grid, 0, null, \"row\");\n    });\n    focusableKeyManager.addHotKey(\"home\", function (e) {\n        e.preventDefault();\n        setCell(spreadsheet, grid, 1, null, \"col\");\n    });\n    focusableKeyManager.addHotKey(\"end\", function (e) {\n        e.preventDefault();\n        setCell(spreadsheet, grid, grid.config.columns.length - 1, null, \"col\");\n    });\n    focusableKeyManager.addHotKey(\"ctrl+home\", function () {\n        setCell(spreadsheet, grid, 0, null, \"row\");\n        setCell(spreadsheet, grid, 1, null, \"col\");\n    });\n    focusableKeyManager.addHotKey(\"ctrl+end\", function () {\n        setCell(spreadsheet, grid, grid.data.getLength() - 1, null, \"row\");\n        setCell(spreadsheet, grid, grid.config.columns.length - 1, null, \"col\");\n    });\n    focusableKeyManager.addHotKey(\"ctrl+z\", function () {\n        spreadsheet.undo();\n    });\n    focusableKeyManager.addHotKey(\"ctrl+y\", function (e) {\n        e.preventDefault();\n        spreadsheet.redo();\n    });\n    focusableKeyManager.addHotKey(\"ctrl+shift+z\", function () {\n        spreadsheet.redo();\n    });\n    focusableKeyManager.addHotKey(\"ctrl+b\", function () {\n        var cell = spreadsheet.selection.getSelectedCell();\n        var val = toolbar_1.getToggledValue(grid, cell, \"font-weight\", \"bold\");\n        spreadsheet.setStyle(spreadsheet.selection.getSelectedCell(), { \"font-weight\": val });\n    });\n    focusableKeyManager.addHotKey(\"ctrl+i\", function () {\n        var cell = spreadsheet.selection.getSelectedCell();\n        var val = toolbar_1.getToggledValue(grid, cell, \"font-style\", \"italic\");\n        spreadsheet.setStyle(spreadsheet.selection.getSelectedCell(), { \"font-style\": val });\n    });\n    focusableKeyManager.addHotKey(\"ctrl+u\", function (e) {\n        e.preventDefault();\n        var cell = spreadsheet.selection.getSelectedCell();\n        var val = toolbar_1.getToggledValue(grid, cell, \"text-decoration\", \"underline\");\n        spreadsheet.setStyle(spreadsheet.selection.getSelectedCell(), { \"text-decoration\": val });\n    });\n    focusableKeyManager.addHotKey(\"backspace\", function () {\n        if (editedCell) {\n            return;\n        }\n        spreadsheet.setValue(spreadsheet.selection.getSelectedCell(), \"\");\n    });\n}\nexports.initHotkeys = initHotkeys;\nfunction setCell(spreadsheet, grid, set, add, dir) {\n    var info = main_1.getCellInfo(grid, spreadsheet.selection.getFocusedCell());\n    if (info.edited) {\n        return;\n    }\n    var index = main_1.getCellIndex(spreadsheet.selection.getFocusedCell());\n    var length = getLength(grid, dir);\n    var nextVal = add ? index[dir] + add : set;\n    if (nextVal >= length.min && nextVal <= length.max) {\n        index[dir] = nextVal;\n    }\n    var cell = main_1.getCellNameByIndex(index.row, index.col);\n    spreadsheet.selection.setSelectedCell(cell);\n    var id = main_1.getCellIds(grid, cell);\n    grid.scrollTo(id.row, id.col);\n}\nfunction setSelection(spreadsheet, grid, step, dir) {\n    var focused = spreadsheet.selection.getFocusedCell();\n    var info = main_1.getCellInfo(grid, focused);\n    if (info.edited) {\n        return;\n    }\n    var selectedIndex = main_1.getCellIndex(focused);\n    var lastSelected = spreadsheet.selection.getSelectedCell().split(\",\")[0];\n    var index;\n    var end;\n    if (lastSelected.indexOf(\":\") === -1) {\n        index = __assign({}, selectedIndex);\n        end = selectedIndex;\n    }\n    else {\n        var range = main_1.getRangeIndexes(lastSelected);\n        if (range.end[dir] > selectedIndex[dir]) {\n            index = __assign({}, range.end);\n            end = range.start;\n        }\n        else {\n            index = __assign({}, range.start);\n            end = range.end;\n        }\n    }\n    var length = getLength(grid, dir);\n    if (index[dir] + step >= length.min && index[dir] + step <= length.max) {\n        index[dir] += step;\n        var start = main_1.getCellNameByIndex(index.row, index.col);\n        end = main_1.getCellNameByIndex(end.row, end.col);\n        if (start === end) {\n            spreadsheet.selection.setSelectedCell(start);\n            return;\n        }\n        spreadsheet.selection.setSelectedCell(start + \":\" + end);\n        spreadsheet.selection.setFocusedCell(focused);\n    }\n}\nfunction getLength(grid, dir) {\n    if (dir === \"row\") {\n        return {\n            min: 0,\n            max: grid.data.getLength() - 1\n        };\n    }\n    return {\n        min: 1,\n        max: grid.config.columns.length - 1\n    };\n}\n\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getHotKeyCode(code) {\n    var matches = code.toLowerCase().match(/\\w+/g);\n    var comp = 0;\n    var key = \"\";\n    for (var i = 0; i < matches.length; i++) {\n        var check = matches[i];\n        if (check === \"ctrl\") {\n            comp += 4;\n        }\n        else if (check === \"shift\") {\n            comp += 2;\n        }\n        else if (check === \"alt\") {\n            comp += 1;\n        }\n        else {\n            key = check;\n        }\n    }\n    return comp + key;\n}\nvar KeyManager = /** @class */ (function () {\n    function KeyManager() {\n        var _this = this;\n        this._keysStorage = {};\n        document.addEventListener(\"keydown\", function (e) {\n            var comp = (e.ctrlKey || e.metaKey ? 4 : 0) + (e.shiftKey ? 2 : 0) + (e.altKey ? 1 : 0);\n            var key;\n            if ((e.which >= 48 && e.which <= 57) || (e.which >= 65 && e.which <= 90)) { // A-Z 0-9\n                key = String.fromCharCode(e.which);\n            }\n            else {\n                key = e.key;\n            }\n            var code = comp + key.toLowerCase();\n            var actions = _this._keysStorage[code];\n            if (actions) {\n                for (var i = 0; i < actions.length; i++) {\n                    actions[i].handler(e);\n                }\n            }\n        });\n    }\n    KeyManager.prototype.addHotKey = function (key, handler, scope) {\n        var code = getHotKeyCode(key);\n        if (!this._keysStorage[code]) {\n            this._keysStorage[code] = [];\n        }\n        this._keysStorage[code].push({\n            handler: handler,\n            scope: scope\n        });\n    };\n    KeyManager.prototype.removeHotKey = function (key, scope) {\n        var keyStorage = this._keysStorage;\n        if (key) {\n            var code = getHotKeyCode(key);\n            delete keyStorage[code];\n        }\n        if (scope) {\n            for (var code in keyStorage) {\n                var toDelete = []; // items index to delete\n                for (var i = 0; i < keyStorage[code].length; i++) {\n                    if (keyStorage[code][i].scope === scope) {\n                        toDelete.push(i);\n                    }\n                }\n                if (keyStorage[code].length === toDelete.length) {\n                    delete keyStorage[code];\n                }\n                else {\n                    for (var i = toDelete.length - 1; i >= 0; i--) { // begin from last coz splice change other index\n                        keyStorage[code].splice(toDelete[i], 1);\n                    }\n                }\n            }\n        }\n    };\n    KeyManager.prototype.exist = function (key) {\n        var code = getHotKeyCode(key);\n        return !!this._keysStorage[code];\n    };\n    return KeyManager;\n}());\nexports.keyManager = new KeyManager();\n\n\n/***/ }),\n/* 110 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar main_1 = __webpack_require__(1);\nfunction isPrintableKey(e) {\n    if (e.ctrlKey || e.altKey || e.metaKey) {\n        return;\n    }\n    var keyCode = e.which || e.keyCode;\n    var symbols = {\n        32: \" \",\n        106: \"*\",\n        107: \"+\",\n        109: \"-\",\n        110: \".\",\n        111: \"/\",\n        186: \";\",\n        187: \"=\",\n        188: \",\",\n        189: \"-\",\n        190: \".\",\n        191: \"/\",\n        192: \"`\",\n        219: \"[\",\n        220: \"\\\\\",\n        221: \"]\",\n        222: \"'\"\n    };\n    var isLetter = keyCode >= 65 && keyCode <= 90;\n    var isNumber = keyCode >= 48 && keyCode <= 57;\n    var isNumpadNumber = keyCode >= 96 && keyCode <= 105;\n    var isSymbol = !!symbols[keyCode];\n    return isLetter || isNumber || isNumpadNumber || isSymbol || false;\n}\nexports.isPrintableKey = isPrintableKey;\nfunction getHtmlData(spreadsheet) {\n    var selected = spreadsheet.selection.getSelectedCell();\n    if (!main_1.isRangeId(selected)) {\n        return spreadsheet.getValue(selected);\n    }\n    var matrix = main_1.getRangeMatrix(spreadsheet.selection.getSelectedCell());\n    var values = matrix.reduce(function (total, row) {\n        var rowValues = row.reduce(function (t, cell) {\n            var val = spreadsheet.getValue(cell);\n            var stylesObj = spreadsheet.getStyle(cell) || {};\n            var styles = Object.keys(stylesObj).reduce(function (totalStyles, key) { return \"\" + totalStyles + key + \":\" + stylesObj[key] + \";\"; }, \"\");\n            return t + \" <th style=\\\"\" + styles + \"\\\">\\n\\t\\t\\t\" + val + \"</th>\";\n        }, \"\");\n        return total + \"<tr style=\\\"box-sizing: inherit;\\\">\" + rowValues + \"</tr>\";\n    }, \"\");\n    return \"\\n\\t<!--StartFragment-->\\n\\t\\t<table id=\\\"customers\\\">\\n\\t\\t\\t<tbody style=\\\"box-sizing: inherit;\\\">\\n\\t\\t\\t\\t\" + values + \"\\n\\t\\t\\t</tbody>\\n\\t\\t</table>\\n\\t<!--EndFragment-->\";\n}\nexports.getHtmlData = getHtmlData;\n\n\n/***/ }),\n/* 111 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = __webpack_require__(2);\nvar dom_1 = __webpack_require__(0);\nvar ts_grid_1 = __webpack_require__(37);\nvar columnsResizer_1 = __webpack_require__(112);\nvar main_1 = __webpack_require__(1);\nvar selection_1 = __webpack_require__(41);\nvar types_1 = __webpack_require__(4);\nvar Selection = /** @class */ (function () {\n    function Selection(spreadsheet, grid, bufferManager) {\n        this._spreadsheet = spreadsheet;\n        this._grid = grid;\n        this._bufferManager = bufferManager;\n        this._selected = [];\n        this._focusedCell = {\n            row: \"\",\n            col: \"\",\n            cell: \"\"\n        };\n        this._events = spreadsheet.events;\n        this._setHandlers();\n    }\n    Selection.prototype.setSelectedCell = function (cell) {\n        if (!cell) {\n            return;\n        }\n        if (!this._events.fire(types_1.SpreadsheetEvents.beforeSelectionSet, [cell])) {\n            return;\n        }\n        this._removeHeadersCss();\n        var cells = cell.split(\",\");\n        this._selected = cells;\n        var nextFocused = this._selected[this._selected.length - 1];\n        if (main_1.isRangeId(nextFocused)) {\n            nextFocused = nextFocused.split(\":\")[0];\n        }\n        this.setFocusedCell(nextFocused);\n        this._setHeadersCss();\n        if (!this._mousePressed) {\n            this._events.fire(types_1.SpreadsheetEvents.afterSelectionSet, [this.getSelectedCell()]);\n        }\n        else {\n            this._grid.paint();\n        }\n    };\n    Selection.prototype.getSelectedCell = function () {\n        if (this._selected.length) {\n            return this._selected.join(\",\");\n        }\n    };\n    Selection.prototype.getFocusedCell = function () {\n        if (this._focusedCell && this._focusedCell.cell) {\n            return this._focusedCell.cell;\n        }\n    };\n    Selection.prototype.setFocusedCell = function (cell) {\n        cell = cell.toUpperCase();\n        if (!this._events.fire(types_1.SpreadsheetEvents.beforeFocusSet, [cell])) {\n            return;\n        }\n        var _a = main_1.getCellIds(this._grid, cell), row = _a.row, col = _a.col;\n        this._focusedCell = {\n            row: row,\n            col: col,\n            cell: cell,\n            edit: false\n        };\n        this._events.fire(types_1.SpreadsheetEvents.afterFocusSet, [cell]);\n    };\n    Selection.prototype._isInRange = function (cell, range) {\n        if (!range || !cell || range.indexOf(\":\") === -1) {\n            return false;\n        }\n        var _a = main_1.getCellIndex(cell), row = _a.row, col = _a.col;\n        var _b = main_1.getRangeIndexes(range), start = _b.start, end = _b.end;\n        var between = function (x, min, max) {\n            return ((x - min) * (x - max) <= 0);\n        };\n        if (start && end) {\n            return between(row, start.row, end.row)\n                && between(col, start.col, end.col);\n        }\n        return false;\n    };\n    Selection.prototype._removeHeadersCss = function () {\n        var _this = this;\n        var selected = this.getSelectedCell();\n        if (selected) {\n            this._spreadsheet.eachCell(function (cellName) {\n                var index = main_1.getCellIndex(cellName);\n                var row = _this._grid.data.getId(index.row);\n                if (row !== undefined) {\n                    _this._grid.removeRowCss(row, \"dhx_selected_row\");\n                }\n                var col = _this._grid.config.columns[index.col];\n                if (col !== undefined) {\n                    col.header[0].css = col.header[0].css.replace(\" dhx_selected_header\", \"\");\n                }\n            });\n            if (this._grid.data.exists(this._focusedCell.row)) {\n                this._grid.removeRowCss(this._focusedCell.row, \"dhx_selected_row\");\n            }\n        }\n    };\n    Selection.prototype._setHeadersCss = function () {\n        var _this = this;\n        var selected = this.getSelectedCell();\n        if (selected) {\n            this._spreadsheet.eachCell(function (cellName) {\n                var index = main_1.getCellIndex(cellName);\n                var row = _this._grid.data.getId(index.row);\n                if (row !== undefined) {\n                    _this._grid.addRowCss(row, \"dhx_selected_row\");\n                }\n                var col = _this._grid.config.columns[index.col];\n                if (col !== undefined && !RegExp(/dhx_selected_header/).test(col.header[0].css)) {\n                    col.header[0].css += \" dhx_selected_header\";\n                }\n            });\n        }\n    };\n    Selection.prototype._selectRow = function (row) {\n        var firsCol = this._grid.config.columns[1];\n        var lastCol = this._grid.config.columns[this._grid.config.columns.length - 1];\n        this.setSelectedCell(main_1.getCellNameById(this._grid, row.id, firsCol.id) + \":\" + main_1.getCellNameById(this._grid, row.id, lastCol.id));\n    };\n    Selection.prototype._selectColumn = function (col) {\n        var firstRowId = this._grid.data.getId(0);\n        var lastRowId = this._grid.data.getId(this._grid.data.getLength() - 1);\n        var firstRow = this._grid.data.getItem(firstRowId);\n        var lastRow = this._grid.data.getItem(lastRowId);\n        this.setSelectedCell(main_1.getCellNameById(this._grid, firstRow.id, col.id) + \":\" + main_1.getCellNameById(this._grid, lastRow.id, col.id));\n    };\n    Selection.prototype._setGroupSelectionHandlers = function () {\n        var _this = this;\n        this._grid.events.on(ts_grid_1.GridEvents.cellMouseOver, function (row, col) {\n            if (main_1.getCellInfo(_this._grid, _this.getFocusedCell()).edited) {\n                return;\n            }\n            if (_this._mousePressed) {\n                if (_this._pressedArea !== \"index\" && col.id === \"$index\") {\n                    return;\n                }\n                if (_this._pressedArea === \"header\" && col.id !== \"$index\") {\n                    var lastRowId = _this._grid.data.getId(_this._grid.data.getLength() - 1);\n                    var lastRow = _this._grid.data.getItem(lastRowId);\n                    _this.setSelectedCell(_this._focusedCell.cell + \":\" + main_1.getCellNameById(_this._grid, lastRow.id, col.id));\n                    return;\n                }\n                var lastCol = _this._grid.config.columns[_this._grid.config.columns.length - 1];\n                var lastCell = main_1.getCellNameById(_this._grid, row.id, _this._pressedArea === \"index\" ? lastCol.id : col.id);\n                var focused = _this._focusedCell.cell;\n                var selected = _this._selected.slice();\n                if (_this._focusedCell.cell !== lastCell) {\n                    if (_this._pressedArea === \"fillHandle\") {\n                        lastCell = selection_1.getLastCopyingCell(_this._cellsToCopy, lastCell);\n                        var lastCellInRange = _this._isInRange(lastCell, _this._cellsToCopy);\n                        if ((lastCell === focused) || lastCellInRange) {\n                            lastCell = _this._cellsToCopy.split(\":\")[1];\n                        }\n                    }\n                    var range = focused + \":\" + lastCell;\n                    selected[selected.length - 1] = range;\n                    var prevFocusedCell = _this.getFocusedCell();\n                    _this.setSelectedCell(selected.join(\",\"));\n                    _this.setFocusedCell(prevFocusedCell);\n                }\n            }\n        });\n        this._grid.events.on(ts_grid_1.GridEvents.headerCellMouseOver, function (col) {\n            if (_this._pressedArea === \"cell\") {\n                return;\n            }\n            if (_this._mousePressed && _this._pressedArea === \"header\" && col.id !== \"$index\") {\n                var lastRowId = _this._grid.data.getId(_this._grid.data.getLength() - 1);\n                var lastRow = _this._grid.data.getItem(lastRowId);\n                _this.setSelectedCell(_this._focusedCell.cell + \":\" + main_1.getCellNameById(_this._grid, lastRow.id, col.id));\n            }\n        });\n    };\n    Selection.prototype._setHandlers = function () {\n        var _this = this;\n        var gridRect;\n        var reCallTimer;\n        document.addEventListener(\"mouseup\", function () {\n            if (_this._mousePressed) {\n                _this._mousePressed = false;\n                if (_this._pressedArea === \"fillHandle\") {\n                    var selected = _this.getSelectedCell();\n                    if (selected !== _this._cellsToCopy) {\n                        _this._events.fire(types_1.SpreadsheetEvents.groupFill, [_this._cellsToCopy, selected]);\n                    }\n                    _this._cellsToCopy = \"\";\n                }\n                _this._pressedArea = null;\n                document.removeEventListener(\"mousemove\", moveHandler);\n                if (reCallTimer) {\n                    clearTimeout(reCallTimer);\n                }\n                if (_this._selected.length) {\n                    _this._events.fire(types_1.SpreadsheetEvents.afterSelectionSet, [_this.getSelectedCell()]);\n                }\n                _this._grid.paint();\n            }\n        });\n        var moveHandler = function (e) {\n            if (reCallTimer) {\n                clearTimeout(reCallTimer);\n            }\n            var scrollState = _this._grid.getScrollState();\n            if (e.clientX > gridRect.width + gridRect.left - 50) {\n                _this._grid.scroll(scrollState.x + 50, scrollState.y);\n            }\n            if (e.clientX < gridRect.left + 50) {\n                _this._grid.scroll(scrollState.x - 50, scrollState.y);\n            }\n            if (e.clientY > gridRect.height + gridRect.top - 50) {\n                _this._grid.scroll(scrollState.x, scrollState.y + 50);\n            }\n            if (e.clientY < gridRect.top + 50) {\n                _this._grid.scroll(scrollState.x, scrollState.y - 50);\n            }\n            reCallTimer = setTimeout(function () {\n                moveHandler(e);\n            }, 100);\n        };\n        this._grid.events.on(ts_grid_1.GridEvents.cellMouseDown, function (row, col, e) {\n            _this._mousePressed = true;\n            gridRect = _this._grid.getRootView().node.el.getBoundingClientRect();\n            document.addEventListener(\"mousemove\", moveHandler);\n            if (col.id === \"$index\") {\n                _this._pressedArea = \"index\";\n                _this._selectRow(row);\n                return;\n            }\n            _this._pressedArea = \"cell\";\n            var cell = main_1.getCellNameById(_this._grid, row.id, col.id);\n            var cellInfo = main_1.getCellInfo(_this._grid, cell);\n            if (e.which === 3 && _this._isInRange(cell, _this._selected[_this._selected.length - 1])) {\n                return;\n            }\n            if (cellInfo.edited) {\n                return;\n            }\n            if (e.shiftKey) {\n                _this.setSelectedCell(_this._focusedCell.cell + \":\" + main_1.getCellNameById(_this._grid, row.id, col.id));\n                return;\n            }\n            if (e.ctrlKey || e.metaKey) {\n                var selectedCells = _this.getSelectedCell();\n                if (selectedCells) {\n                    _this.setSelectedCell(selectedCells + \",\" + cell);\n                }\n                return;\n            }\n            _this.setSelectedCell(cell);\n        });\n        this._grid.events.on(ts_grid_1.GridEvents.headerCellMouseDown, function (col, e) {\n            var resizedColumn = e.target.getAttribute(\"dhx_id\");\n            // not select when click on column resize grip [todo] make more stable check\n            if (!resizedColumn) {\n                _this._pressedArea = \"header\";\n                _this._selectColumn(col);\n                _this._mousePressed = true;\n            }\n            else {\n                if (resizedColumn === \"$index\") {\n                    // select all cells\n                    var first = main_1.getCellNameByIndex(0, 1);\n                    var last = main_1.getCellNameByIndex(_this._grid.data.getLength() - 1, _this._grid.config.columns.length - 1);\n                    _this.setSelectedCell(first + \":\" + last);\n                    return;\n                }\n                _this._resizedColumn = _this._grid.config.columns[resizedColumn].id;\n                columnsResizer_1.startResize(_this._grid, _this._resizedColumn, e, function () {\n                    _this._resizedColumn = null;\n                    _this._grid.paint();\n                });\n            }\n        });\n        this._setGroupSelectionHandlers();\n        this._grid.events.on(ts_grid_1.GridEvents.cellDblClick, function (row, col) {\n            if (col.id !== \"$index\") {\n                _this._spreadsheet.startEdit(main_1.getCellNameById(_this._grid, row.id, col.id));\n            }\n        });\n        this._grid.events.on(ts_grid_1.GridEvents.headerCellDblClick, function (col, e) {\n            var resizeGrip = e.target.getAttribute(\"dhx_id\");\n            if (resizeGrip) {\n                _this._grid.adjustColumnWidth(col.id);\n            }\n        });\n        this._events.on(types_1.SpreadsheetEvents.gridRedraw, function (vm) {\n            var selected = _this.getSelectedCell();\n            var focused = _this.getFocusedCell();\n            if (!selected || !focused) {\n                return;\n            }\n            var getCellCoords = function (index) {\n                var BORDER = 1;\n                return {\n                    x: _this._grid.config.columns.slice(0, index.col).reduce(function (total, c) { return total += c.width; }, 0),\n                    y: index.row * _this._grid.config.rowHeight,\n                    width: _this._grid.config.columns[index.col].width + BORDER,\n                    height: _this._grid.config.rowHeight + BORDER\n                };\n            };\n            var getGroupCoords = function (rangeIndex) {\n                var start = getCellCoords(rangeIndex.start);\n                var end = getCellCoords(rangeIndex.end);\n                return {\n                    x: start.x,\n                    y: start.y,\n                    width: end.x - start.x + end.width,\n                    height: end.y - start.y + end.height,\n                };\n            };\n            var selectedCells = _this._selected.map(function (cell) {\n                if (main_1.isRangeId(cell)) {\n                    var coords = getGroupCoords(main_1.getRangeIndexes(cell));\n                    return dom_1.el(\".dhx_group_selection\", {\n                        style: {\n                            top: coords.y,\n                            left: coords.x,\n                            width: coords.width,\n                            height: coords.height\n                        }\n                    });\n                }\n                else {\n                    if (_this._selected.length === 1) {\n                        return;\n                    }\n                    var _a = getCellCoords(main_1.getCellIndex(cell)), x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n                    return dom_1.el(\".dhx_group_selection\", {\n                        style: {\n                            width: width,\n                            height: height,\n                            top: y,\n                            left: x,\n                            position: \"absolute\",\n                            pointerEvents: \"none\"\n                        }\n                    });\n                }\n            });\n            var focusedCoords = getCellCoords(main_1.getCellIndex(focused));\n            var focusedCell = dom_1.el(\".dhx_selected_cell\", {\n                style: {\n                    width: focusedCoords.width,\n                    height: focusedCoords.height,\n                    top: focusedCoords.y,\n                    left: focusedCoords.x,\n                    position: \"absolute\",\n                    pointerEvents: \"none\"\n                }\n            });\n            var copySelection;\n            var buffer = _this._bufferManager.getStruct();\n            if (buffer.cell && !buffer.inserted) {\n                var cellsArr = main_1.getCellsArray(buffer.cells);\n                var start = main_1.getCellIndex(cellsArr[0]);\n                var end = main_1.getCellIndex(cellsArr[cellsArr.length - 1]);\n                var coords = getGroupCoords({ start: start, end: end });\n                copySelection = dom_1.el(\".dhx_copy_selection\", {\n                    style: {\n                        top: coords.y,\n                        left: coords.x,\n                        width: coords.width,\n                        height: coords.height\n                    }\n                });\n            }\n            var resizedLine;\n            if (_this._resizedColumn) {\n                var colIndex = core_1.findIndex(_this._grid.config.columns, function (col) {\n                    return col.id === _this._resizedColumn;\n                });\n                var firstCell = getCellCoords({ row: 0, col: colIndex });\n                var totalHeight = _this._grid.config.$totalHeight;\n                var lineCenter = 1.5;\n                resizedLine = dom_1.el(\".resize_line\", {\n                    style: {\n                        top: firstCell.y,\n                        left: firstCell.x + firstCell.width - lineCenter,\n                        height: totalHeight\n                    }\n                });\n            }\n            var lastSelectedCell = _this._selected[_this._selected.length - 1];\n            if (main_1.isRangeId(lastSelectedCell)) {\n                var rangeArray = main_1.getRangeArray(lastSelectedCell);\n                lastSelectedCell = rangeArray[rangeArray.length - 1];\n            }\n            var lastCellCoords = getCellCoords(main_1.getCellIndex(lastSelectedCell));\n            var selectionGrip;\n            if (!main_1.getCellInfo(_this._grid, _this.getFocusedCell()).edited) {\n                selectionGrip = dom_1.el(\".dhx_selection_grip\", {\n                    dhx_id: \"selection_grip\",\n                    style: {\n                        position: \"absolute\",\n                        left: lastCellCoords.x + lastCellCoords.width - 6,\n                        top: lastCellCoords.y + lastCellCoords.height - 6\n                    },\n                    onmousedown: function () {\n                        _this._mousePressed = true;\n                        document.addEventListener(\"mousemove\", moveHandler);\n                        _this._pressedArea = \"fillHandle\";\n                        _this._cellsToCopy = _this.getSelectedCell();\n                    }\n                });\n            }\n            vm.refs.selection.patch(dom_1.el(\".dhx_grid_selection\", [\n                copySelection,\n                focusedCell\n            ].concat(selectedCells, [\n                resizedLine,\n                selectionGrip\n            ])));\n        });\n    };\n    return Selection;\n}());\nexports.Selection = Selection;\n\n\n/***/ }),\n/* 112 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = __webpack_require__(2);\nfunction startResize(grid, column, ev, cb) {\n    var initX = ev.clientX;\n    var initWidth = 0;\n    var moveHandler = function (e) {\n        var i = core_1.findIndex(grid.config.columns, function (obj) {\n            return obj.id === column;\n        });\n        initWidth = initWidth || grid.config.columns[i].width;\n        var move = e.clientX - initX;\n        var cols = grid.config.columns.slice();\n        var size = initWidth + move;\n        cols[i].width = size <= 20 ? 20 : size;\n        grid.setHeader(cols);\n        grid.paint();\n    };\n    var upHandler = function () {\n        document.removeEventListener(\"mousemove\", moveHandler);\n        document.removeEventListener(\"mouseup\", upHandler);\n        cb();\n    };\n    document.addEventListener(\"mousemove\", moveHandler);\n    document.addEventListener(\"mouseup\", upHandler);\n    grid.paint();\n}\nexports.startResize = startResize;\n\n\n/***/ }),\n/* 113 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = __webpack_require__(2);\nvar main_1 = __webpack_require__(1);\nvar Exporter = /** @class */ (function () {\n    function Exporter(spreadsheet, grid) {\n        this._spreadsheet = spreadsheet;\n        this._grid = grid;\n    }\n    Exporter.prototype.xlsx = function () {\n        if (!main_1.isWasmSupported()) {\n            throw new Error(\"WebAssembly is not supported by your browser\");\n        }\n        var cells = [];\n        var styles = [\n            { id: \"\" }\n        ];\n        this._grid.data.map(function (row, i) {\n            Object.keys(row).map(function (cell) {\n                if (cell === \"id\" || cell === \"$info\" || cell === \"$index\" || cell === \"$css\") {\n                    return;\n                }\n                var styleInd = null;\n                if (row.$info && row.$info[cell]) {\n                    var info = row.$info[cell];\n                    var format = info.format || \"\";\n                    var css = info.css || \"\";\n                    var styleId_1 = format + css;\n                    styleInd = core_1.findIndex(styles, function (s) { return s.id === styleId_1; });\n                    if (styleInd === -1) {\n                        var propsMap_1 = {\n                            \"text-align\": \"align\",\n                            \"font-size\": \"fontSize\",\n                            \"font-weight\": \"fontWeight\",\n                            \"font-style\": \"fontStyle\",\n                            \"text-decoration\": \"textDecoration\"\n                        };\n                        var cssStyles_1 = dhx.css.get(css) || {};\n                        var exportStyles = Object.keys(cssStyles_1).reduce(function (newStyles, key) {\n                            newStyles[propsMap_1[key] || key] = cssStyles_1[key];\n                            return newStyles;\n                        }, {});\n                        styles.push(__assign({ format: format }, exportStyles, { id: styleId_1 }));\n                        styleInd = styles.length - 1;\n                    }\n                }\n                cells[i] = cells[i] || [];\n                var emptyCellWithStyle = !row[cell] && styleInd;\n                var cellValue = (row[cell] || emptyCellWithStyle) ? {\n                    v: \"\" + row[cell],\n                    s: styleInd\n                } : null;\n                cells[i].push(cellValue);\n            });\n        });\n        var cols = this._grid.config.columns.map(function (col) { return ({ width: col.width }); }).splice(1);\n        var exportData = {\n            data: [\n                {\n                    cells: cells,\n                    cols: cols\n                }\n            ],\n            styles: styles\n        };\n        var path = this._spreadsheet.config.exportModulePath;\n        var xlsxWorker = this._getXlsxWorker(path);\n        xlsxWorker.postMessage({\n            type: \"convert\",\n            data: exportData\n        });\n    };\n    Exporter.prototype._getXlsxWorker = function (path) {\n        if (!this._xlsxWorker) {\n            var url = window.URL.createObjectURL(new Blob([\n                \"importScripts('\" + path + \"');\"\n            ], { type: \"text/javascript\" }));\n            this._xlsxWorker = new Worker(url);\n            this._xlsxWorker.addEventListener(\"message\", function (e) {\n                if (e.data.type === \"ready\") {\n                    var a = document.createElement(\"a\");\n                    a.href = URL.createObjectURL(e.data.blob);\n                    a.download = \"data.xlsx\";\n                    document.body.appendChild(a);\n                    a.click();\n                    document.body.removeChild(a);\n                }\n            });\n        }\n        return this._xlsxWorker;\n    };\n    return Exporter;\n}());\nexports.Exporter = Exporter;\n\n\n/***/ }),\n/* 114 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar main_1 = __webpack_require__(1);\nvar XlsxDriver = /** @class */ (function () {\n    function XlsxDriver() {\n    }\n    XlsxDriver.prototype.toJsonArray = function (data, _spreadsheet, grid) {\n        var cells = [];\n        var formats = [];\n        var styles = {};\n        data.styles.forEach(function (style, i) {\n            var allowedProps = [\n                \"background\",\n                \"color\",\n                \"textAlign\",\n                \"textDecoration\",\n                \"fontWeight\",\n                \"fontStyle\"\n            ];\n            var css = allowedProps.reduce(function (acc, prop) {\n                if (style[prop]) {\n                    acc[prop] = style[prop];\n                }\n                return acc;\n            }, {});\n            formats.push(style.format);\n            styles[\"imported_class\" + i] = css;\n        });\n        // [dirty]\n        data.data[0].cols.forEach(function (col, i) {\n            var c = grid.config.columns[i + 1];\n            if (c) {\n                c.width = col.width;\n            }\n        });\n        data.data[0].cells.forEach(function (row, rowInd) {\n            row.forEach(function (col, colInd) {\n                var cell = {\n                    cell: main_1.getCellNameByIndex(rowInd, colInd + 1),\n                    value: col.v,\n                    css: [\"imported_class\" + col.s],\n                    format: formats[col.s]\n                };\n                cells.push(cell);\n            });\n        });\n        return {\n            data: cells,\n            styles: styles\n        };\n    };\n    return XlsxDriver;\n}());\nexports.XlsxDriver = XlsxDriver;\n\n\n/***/ }),\n/* 115 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Promise) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar main_1 = __webpack_require__(1);\nvar XlsxProxy = /** @class */ (function () {\n    function XlsxProxy(spreadsheet) {\n        this._spreadsheet = spreadsheet;\n    }\n    XlsxProxy.prototype.load = function (url) {\n        var _this = this;\n        return new Promise(function (res) {\n            _this._getFile(url).then(function (file) {\n                var path = _this._spreadsheet.config.importModulePath;\n                var xlsxWorker = _this._getXlsxWorker(path);\n                xlsxWorker.postMessage({\n                    type: \"convert\",\n                    data: file\n                });\n                xlsxWorker.onmessage = function (e) {\n                    if (e.data.type === \"ready\") {\n                        res(e.data);\n                    }\n                };\n            });\n        });\n    };\n    XlsxProxy.prototype._getXlsxWorker = function (path) {\n        if (!this._xlsxWorker) {\n            var url = window.URL.createObjectURL(new Blob([\n                \"importScripts('\" + path + \"');\"\n            ], { type: \"text/javascript\" }));\n            this._xlsxWorker = new Worker(url);\n        }\n        return this._xlsxWorker;\n    };\n    XlsxProxy.prototype._getFile = function (url) {\n        return new Promise(function (res) {\n            if (url) {\n                return main_1.fetchFile(url, \"GET\", \"arraybuffer\").then(function (data) {\n                    res(data);\n                });\n            }\n            else {\n                var input = document.createElement(\"input\");\n                input.type = \"file\";\n                input.accept = \".xlsx\";\n                input.click();\n                input.addEventListener(\"change\", function (e) {\n                    var reader = new FileReader();\n                    reader.onload = function () {\n                        var arrayBuffer = reader.result;\n                        var array = new Uint8Array(arrayBuffer);\n                        res(array);\n                    };\n                    reader.readAsArrayBuffer(e.target.files[0]);\n                });\n            }\n        });\n    };\n    return XlsxProxy;\n}());\nexports.XlsxProxy = XlsxProxy;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(10)))\n\n/***/ })\n/******/ ]);\n});if (window.dhx_legacy) { if (window.dhx){ for (var key in dhx) dhx_legacy[key] = dhx[key]; } window.dhx = dhx_legacy; delete window.dhx_legacy; }","module.exports = \"\\n<h5>\\n    Please confirm how we should try to match sales to your agents.\\n</h5>\\n<mat-action-list>\\n    <button mat-list-item (click)=\\\"useCode();\\\">\\n        <span mat-line>Use Sales Code</span>\\n        <span mat-line class=\\\"text-black-50\\\">Better matching probability</span>\\n    </button>\\n\\n    <button mat-list-item (click)=\\\"confirmNoCode();\\\">\\n        <span mat-line>Use Agent Name</span>\\n        <span mat-line class=\\\"text-black-50\\\">I don't have their sales codes entered into the system</span>\\n    </button>\\n</mat-action-list>\"","import { Component, OnInit } from '@angular/core';\nimport { MatBottomSheetRef } from '@angular/material';\n\n\n@Component({\n    templateUrl: './confirm-agent-code.component.html',\n    styles: [],\n    selector: 'vs-confirm-agent-bs'\n})\nexport class ConfirmAgentBottomSheetComponent implements OnInit {\n    \n    constructor(private _bottomSheetRef: MatBottomSheetRef<ConfirmAgentBottomSheetComponent>) {}\n\n    ngOnInit() {}\n\n    useCode() {\n\n        console.log('USE CODE!');\n        this._bottomSheetRef.dismiss(true);\n    }\n\n    confirmNoCode() {\n        this._bottomSheetRef.dismiss();\n    }\n\n}\n","module.exports = \"<div mat-dialog-title class=\\\"d-flex justify-content-between\\\">\\n    <h4>Import Model</h4>\\n    <button type=\\\"button\\\" mat-icon-button (click)=\\\"onNoClick()\\\">\\n        <mat-icon>clear</mat-icon>\\n    </button>\\n</div>\\n<mat-dialog-content class=\\\"pb-2\\\">\\n    <form [formGroup]=\\\"form\\\" class=\\\"mb-2\\\">\\n        <div>\\n            <mat-form-field [hideRequiredMarker]=\\\"true\\\">\\n                <input type=\\\"text\\\" matInput formControlName=\\\"shortDesc\\\" placeholder=\\\"Model Name\\\" required />\\n                <mat-error *ngIf=\\\"form.get('shortDesc').hasError\\\">\\n                    Please enter a model name.\\n                </mat-error>\\n            </mat-form-field>\\n        </div>\\n\\n        <div>\\n            <mat-form-field class=\\\"wp-100\\\">\\n                <textarea matNativeControl matAutosize=\\\"true\\\" formControlName=\\\"fullDesc\\\" placeholder=\\\"Description\\\">\\n                </textarea>\\n            </mat-form-field>\\n        </div>\\n\\n        <!-- <p class=\\\"text-black-50 small\\\">\\n            Select the Campaign that this import will be associated with. It is <span class=\\\"font-weight-bold\\\">very important</span> \\n            that you make sure your utilities associated with the campaign reflect all utilities in the report that you're importing. \\n        </p> -->\\n\\n        <div style=\\\"height: 100px !important;\\\">\\n            <mat-form-field class=\\\"wp-100\\\" [hideRequiredMarker]=\\\"true\\\">\\n                <mat-select formControlName=\\\"campaignId\\\" placeholder=\\\"Campaign\\\" required>\\n                    <mat-option *ngFor=\\\"let c of (campaigns|async); let i = index;\\\" [value]=\\\"c.campaignId\\\">\\n                        {{ c.name }}\\n                    </mat-option>\\n                </mat-select>\\n                <mat-error *ngIf=\\\"form.get('campaignId').hasError\\\">\\n                    Please select a campaign.\\n                </mat-error>\\n                <mat-hint>\\n                    Select the Campaign that this import will be associated with. It is <span class=\\\"font-weight-bold\\\">very important</span> \\n                    that you make sure your utilities associated with the campaign reflect all utilities in the report that you're importing.\\n                </mat-hint>\\n            </mat-form-field>\\n        </div>\\n\\n        <div>\\n            <mat-checkbox [value]=\\\"splitCustomerName\\\" class=\\\"text-black-50\\\">Report uses one field for Customer Name</mat-checkbox>\\n        </div>\\n\\n        <div>\\n            <mat-checkbox [value]=\\\"matchAgentBySalesCode\\\" class=\\\"text-black-50\\\">Match agents on report by Sales Code</mat-checkbox>\\n        </div>\\n\\n        <div>\\n            <p class=\\\"text-black-50\\\">\\n                Please add all columns from your report. The column header needs to match exactly to the column headers \\n                on your XSL file. \\n            </p>\\n    \\n            <p class=\\\"text-black-50 small\\\">\\n                Column Header - must match exactly with the report column header. <br />\\n                Description - used for your reference when working with the Import Model.\\n            </p>\\n\\n            <p class=\\\"text-black-50 small\\\">\\n                Please make sure that your sales statuses on your import match your \\n                <a [routerLink]=\\\"['..', 'client-information']\\\" (click)=\\\"onNoClick()\\\">Sale Status Configuration</a> statuses. If they do not, \\n                we will be unable to properly set the \\\"Paid Status\\\" for your sales and they will default to \\\"Unpaid\\\".\\n            </p>\\n        </div>\\n        \\n        <mat-divider class=\\\"pb-4\\\"></mat-divider>\\n\\n        <div style=\\\"overflow: scroll; max-height: 25vw;\\\" formArrayName=\\\"map\\\">\\n            <div *ngFor=\\\"let f of map.controls; let i = index;\\\">\\n                <ng-container [formGroupName]=\\\"i\\\">\\n                    <div class=\\\"row\\\">\\n                        <div class=\\\"col-md-4\\\">\\n                            <mat-form-field class=\\\"pr-1 wp-100\\\" [hideRequiredMarker]=\\\"true\\\">\\n                                <input #keyInputs type=\\\"text\\\" matInput formControlName=\\\"key\\\" placeholder=\\\"Description\\\" required />\\n                                <mat-error *ngIf=\\\"map.get([i, 'key']).hasError\\\">\\n                                    Description is required.\\n                                </mat-error>\\n                            </mat-form-field>\\n                        </div>\\n\\n                        <div class=\\\"col-md-4\\\">\\n                            <mat-form-field class=\\\"px-1 wp-100\\\" [hideRequiredMarker]=\\\"true\\\">\\n                                <input type=\\\"text\\\" matInput formControlName=\\\"value\\\" placeholder=\\\"Column Header\\\" required />\\n                                <mat-error *ngIf=\\\"map.get([i, 'value']).hasError\\\">\\n                                    Column Header is required.\\n                                </mat-error>\\n                            </mat-form-field>\\n                        </div>\\n\\n                        <div class=\\\"col-md-4\\\">\\n                            <mat-form-field class=\\\"pl-1 wp-100\\\">\\n                                <mat-select formControlName=\\\"fieldType\\\" placeholder=\\\"Field Type\\\" \\n                                    (selectionChange)=\\\"fieldTypeChanged($event, map.get([i, 'fieldType']))\\\" (keydown)=\\\"tabAdd($event, i)\\\">\\n                                    <mat-option *ngFor=\\\"let f of fieldDescriptions; let j = index;\\\" [value]=\\\"j\\\">\\n                                        {{ fieldDescriptions[j] }}\\n                                    </mat-option>\\n                                </mat-select>\\n                                <mat-hint>\\n                                    Tell us what your fields are.\\n                                </mat-hint>\\n                            </mat-form-field>\\n                        </div>\\n                    </div>\\n                    \\n                </ng-container>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"mt-2\\\">\\n            <button type=\\\"button\\\" mat-button color=\\\"primary\\\" (click)=\\\"addMapRow()\\\">\\n                <mat-icon>add</mat-icon> Add Column\\n            </button>\\n        </div>\\n\\n    </form>\\n</mat-dialog-content>\\n<mat-dialog-actions class=\\\"d-flex justify-content-end\\\">\\n    <button type=\\\"button\\\" mat-button (click)=\\\"onNoClick()\\\">\\n        <mat-icon>clear</mat-icon>\\n        Cancel\\n    </button>\\n    <button type=\\\"button\\\" mat-button (click)=\\\"saveImportModel()\\\" color=\\\"primary\\\">\\n        <mat-icon>save</mat-icon>\\n        Save\\n    </button>\\n</mat-dialog-actions>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ltcG9ydHMvZGlhbG9ncy9lZGl0LWltcG9ydC1tb2RlbC9lZGl0LWltcG9ydC1tb2RlbC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, Inject, AfterViewInit, QueryList, ElementRef, ViewChildren } from '@angular/core';\nimport { ImportModel, User, ICampaign, DailySaleMapType, DailySaleFields } from '@app/models';\nimport { FormGroup, Validators, FormBuilder, FormArray, FormControl } from '@angular/forms';\nimport { MatDialogRef, MAT_DIALOG_DATA, MatSelectionListChange, MatBottomSheet } from '@angular/material';\nimport { SessionService } from '@app/session.service';\nimport { ImportsService } from '@app/imports/imports.service';\nimport { startWith, delay } from 'rxjs/operators';\nimport { Observable, Observer, forkJoin } from 'rxjs';\nimport { ConfirmAgentBottomSheetComponent } from '@app/imports/bottom-sheets/confirm-agent-code.component';\n\ninterface DialogData {\n    importModel: ImportModel\n}\n\n@Component({\n    selector: 'vs-edit-import-model',\n    templateUrl: './edit-import-model.component.html',\n    styleUrls: ['./edit-import-model.component.scss']\n})\nexport class EditImportModelComponent implements OnInit, AfterViewInit {\n\n    form = this.createForm();\n    user: User;\n    model: ImportModel;\n\n    get map() {\n        return this.form.get('map') as FormArray;\n    }\n\n    @ViewChildren('keyInputs') keys: QueryList<ElementRef>;\n\n    tabAdded = false;\n\n    campaigns: Observable<ICampaign[]>;\n\n    fieldTypes = Object.keys(DailySaleMapType);\n    fieldDescriptions = DailySaleFields;\n\n    splitCustomerName = false;\n    matchAgentBySalesCode = false;\n\n    constructor(\n        private fb: FormBuilder,\n        public ref: MatDialogRef<EditImportModelComponent>,\n        @Inject(MAT_DIALOG_DATA) public data: DialogData,\n        private session: SessionService,\n        private service: ImportsService,\n        private bs: MatBottomSheet\n    ) { \n        this.model = this.data.importModel;\n    }\n\n    ngOnInit() {\n        this.user = this.session.lastUser;\n\n        this.campaigns = this.service.campaigns;\n\n        if (this.model) {\n            this.matchAgentBySalesCode = this.model.matchByAgentCode;\n            this.splitCustomerName = this.model.splitCustomerName;\n            const map = JSON.parse(this.model.map) as {key: string, value: string}[];\n\n            this.form.patchValue({\n                shortDesc: this.model.shortDesc,\n                fullDesc: this.model.fullDesc,\n            });\n\n            if (map && map.length > this.map.length) {\n                map.forEach((m, i, a) => {\n                    this.map.push(this.fb.group({\n                        key: m.key,\n                        value: m.value,\n                    }));\n                });\n            }\n        } else {\n            this.addMapRow();\n        }\n    }\n\n    ngAfterViewInit() {\n        this.keys.changes\n            .pipe(\n                startWith([]),\n                delay(0),\n            )\n            .subscribe((rows: QueryList<ElementRef>) => {\n                if (rows.length && !this.tabAdded) {\n                    rows.last.nativeElement.focus();\n                } else {\n                    this.tabAdded = false;\n                }\n            });\n    }\n\n    onNoClick = () => this.ref.close();\n\n    addMapRow() {\n        this.map.push(this.fb.group({\n            key: this.fb.control('', [Validators.required]),\n            value: this.fb.control('', [Validators.required]),\n            fieldType: this.fb.control('')\n        }));\n    }\n\n    saveImportModel() {\n        if (this.form.invalid) return;\n\n        forkJoin(\n            this.checkMatchByCode(), \n            this.checkForMissingSalesFields()\n        ).subscribe(results => {\n            const missingFields = results[1];\n\n            // TODO: need to handle missing fields communication\n        });\n\n        if (!this.matchAgentBySalesCode) {\n            this.bs.open(ConfirmAgentBottomSheetComponent)\n                .afterDismissed()\n                .subscribe(result => {\n                    if (!result) {\n                        this.closeAndSaveModel();\n                    } else {\n                        this.matchAgentBySalesCode = true;\n                        this.closeAndSaveModel();\n                    }\n                });\n        } else {\n            this.closeAndSaveModel();\n        }\n    }\n\n    checkMatchByCode(): Observable<void> {\n        return Observable.create((ob: Observer<void>) => {\n            if (!this.matchAgentBySalesCode) {\n                this.bs.open(ConfirmAgentBottomSheetComponent)\n                    .afterDismissed()\n                    .subscribe(result => {\n                        if (!result) {\n                            ob.complete();\n                        } else {\n                            this.matchAgentBySalesCode = true;\n                            ob.complete();\n                        }\n                    });\n            } else {\n                ob.complete();\n            }\n        });\n    }\n\n    checkForMissingSalesFields(): Observable<string[]> {\n        return Observable.create((ob: Observer<string[]>) => {\n            /** TODO: NEED TO RETURN A LIST OF THE FIELDS USER DIDN'T FINISH */\n        });\n    }\n\n    closeAndSaveModel = () => this.ref.close(this.prepareModel());\n\n    tabAdd(event: KeyboardEvent, index: number) {\n        if (event.keyCode == 9 && index == (this.map.length - 1)) {\n            this.tabAdded = true;\n            this.addMapRow();\n        }\n    }\n\n    fieldTypeChanged(event: MatSelectionListChange, fieldType: FormControl) {\n        console.dir([event, fieldType]);\n    }\n\n    prepareModel(): ImportModel {\n        const importModelId = this.model ? this.model.importModelId : null;\n\n        return {\n            importModelId: importModelId,\n            userId: this.user.id,\n            clientId: this.user.selectedClient.clientId,\n            campaignId: this.form.value.campaign,\n            shortDesc: this.form.value.shortDesc,\n            fullDesc: this.form.value.fullDesc,\n            map: this.map.value,\n            matchByAgentCode: this.matchAgentBySalesCode,\n            splitCustomerName: this.splitCustomerName,\n        } as ImportModel;\n    }\n\n    private createForm(): FormGroup {\n        return this.fb.group({\n            shortDesc: this.fb.control('', [Validators.required]),\n            fullDesc: this.fb.control(''),\n            campaignId: this.fb.control('', [Validators.required]),\n            map: this.fb.array([]),\n        });\n    }\n\n}\n","module.exports = \"<div class=\\\"container\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-md-12\\\">\\n            <mat-card class=\\\"page-header-accent\\\">\\n                <h3 mat-card-title>Import Models</h3>\\n                <mat-card-content>\\n                    Create an Import Model to map the fields from a sales reporting spreadsheet or CSV to a sale in the\\n                    commission system.\\n                    In order to do so, add fields and type the exact column header description and then select from the\\n                    paired dropdown to\\n                    match it to the corresponding sale field in the commission system.\\n                </mat-card-content>\\n            </mat-card>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-md-12\\\">\\n            <mat-table [dataSource]=\\\"importModels\\\">\\n                <ng-container matColumnDef=\\\"detailView\\\">\\n                    <mat-header-cell *matHeaderCellDef>&nbsp;</mat-header-cell>\\n                    <mat-cell *matCellDef=\\\"let item\\\">\\n                        <button type=\\\"button\\\" mat-icon-button class=\\\"text-muted\\\" (click)=\\\"editImportModel(item)\\\">\\n                            <mat-icon>remove_red_eye</mat-icon>\\n                        </button>\\n                    </mat-cell>\\n                </ng-container>\\n\\n                <ng-container matColumnDef=\\\"isActive\\\">\\n                    <mat-header-cell *matHeaderCellDef class=\\\"d-flex justify-content-center\\\">Active</mat-header-cell>\\n                    <mat-cell *matCellDef=\\\"let item\\\" class=\\\"d-flex justify-content-center\\\">\\n                        <mat-checkbox [checked]=\\\"item.deletedAt == null\\\" (change)=\\\"changeActiveStatus($event)\\\">\\n                        </mat-checkbox>\\n                    </mat-cell>\\n                </ng-container>\\n\\n                <ng-container matColumnDef=\\\"shortDesc\\\">\\n                    <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>\\n                    <mat-cell *matCellDef=\\\"let item\\\">{{item.shortDesc}}</mat-cell>\\n                </ng-container>\\n\\n                <ng-container matColumnDef=\\\"modifiedBy\\\">\\n                    <mat-header-cell *matHeaderCellDef>Owner</mat-header-cell>\\n                    <mat-cell *matCellDef=\\\"let item\\\">{{item.userId}}</mat-cell>\\n                </ng-container>\\n\\n                <ng-container matColumnDef=\\\"createdAt\\\">\\n                    <mat-header-cell *matHeaderCellDef>Created</mat-header-cell>\\n                    <mat-cell *matCellDef=\\\"let item\\\">{{item.createdAt | date:'shortDate'}}</mat-cell>\\n                </ng-container>\\n\\n                <ng-container matColumnDef=\\\"updatedAt\\\">\\n                    <mat-header-cell *matHeaderCellDef>Modified Last</mat-header-cell>\\n                    <mat-cell *matCellDef=\\\"let item\\\">{{item.updatedAt | date:'shortDate'}}</mat-cell>\\n                </ng-container>\\n\\n                <mat-header-row\\n                    *matHeaderRowDef=\\\"['detailView', 'isActive', 'shortDesc', 'modifiedBy', 'createdAt', 'updatedAt']\\\">\\n                </mat-header-row>\\n                <mat-row\\n                    *matRowDef=\\\"let row; columns: ['detailView', 'isActive', 'shortDesc', 'modifiedBy', 'createdAt', 'updatedAt'];\\\">\\n                </mat-row>\\n            </mat-table>\\n        </div>\\n    </div>\\n</div>\\n\\n<vs-float-button mat-icon=\\\"add\\\" color=\\\"accent\\\" (callback)=\\\"addImportModel()\\\" [isOpen]=\\\"isFabOpen$\\\"></vs-float-button>\"","module.exports = \"mat-header-row {\\n  background-color: #3f51b5; }\\n  mat-header-row mat-header-cell {\\n    vertical-align: middle;\\n    font-size: 1.1rem;\\n    color: #f1f1f1;\\n    text-transform: uppercase;\\n    letter-spacing: 0.1rem;\\n    font-weight: 400; }\\n  mat-header-row mat-header-cell ::ng-deep .mat-checkbox .mat-checkbox-frame {\\n      border-color: #ffffff; }\\n  mat-header-cell.check-column, mat-cell.check-column {\\n  flex: 0 0 70px; }\\n  mat-checkbox {\\n  height: 1rem !important; }\\n  .mat-column-detailView {\\n  max-width: 65px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kcmV3cGF5bWVudC9kZXYvYWN0aXZlL3Zlcm9zdGFjay9yZXNvdXJjZXMvYXNzZXRzL25nL3NyYy9hcHAvaW1wb3J0cy9pbXBvcnQtbW9kZWxzL2ltcG9ydC1tb2RlbHMuY29tcG9uZW50LnNjc3MiLCIvVXNlcnMvZHJld3BheW1lbnQvZGV2L2FjdGl2ZS92ZXJvc3RhY2svcmVzb3VyY2VzL2Fzc2V0cy9uZy9zcmMvc2Nzcy9fY29sb3JzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDQywwQkNvRHVCLEVEdEN2QjtFQWZEO0lBSUUsdUJBQXNCO0lBQ3RCLGtCQUFpQjtJQUNqQixlQ1BpQjtJRFFqQiwwQkFBeUI7SUFDekIsdUJBQXNCO0lBQ3RCLGlCQUFnQixFQUtoQjtFQWRGO01BWUcsc0JDZGUsRURlZjtFQUlIO0VBR0UsZUFBYyxFQUNkO0VBR0Y7RUFDQyx3QkFBdUIsRUFDdkI7RUFFRDtFQUNDLGdCQUFlLEVBQ2YiLCJmaWxlIjoic3JjL2FwcC9pbXBvcnRzL2ltcG9ydC1tb2RlbHMvaW1wb3J0LW1vZGVscy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJy4uLy4uLy4uL3Njc3MvY29sb3JzJztcblxubWF0LWhlYWRlci1yb3cge1xuXHRiYWNrZ3JvdW5kLWNvbG9yOiAkcHJpbWFyeS1maWx0ZXI7XG5cblx0bWF0LWhlYWRlci1jZWxsIHtcblx0XHR2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xuXHRcdGZvbnQtc2l6ZTogMS4xcmVtO1xuXHRcdGNvbG9yOiAkb2ZmLXdoaXRlO1xuXHRcdHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG5cdFx0bGV0dGVyLXNwYWNpbmc6IDAuMXJlbTtcblx0XHRmb250LXdlaWdodDogNDAwO1xuXG5cdFx0OjpuZy1kZWVwIC5tYXQtY2hlY2tib3ggLm1hdC1jaGVja2JveC1mcmFtZSB7XG5cdFx0XHRib3JkZXItY29sb3I6ICR3aGl0ZTtcblx0XHR9XG5cdH1cbn1cblxubWF0LWhlYWRlci1jZWxsLCBtYXQtY2VsbCB7XG5cdFxuXHQmLmNoZWNrLWNvbHVtbiB7XG5cdFx0ZmxleDogMCAwIDcwcHg7XG5cdH1cbn1cblxubWF0LWNoZWNrYm94IHtcblx0aGVpZ2h0OiAxcmVtICFpbXBvcnRhbnQ7XG59XG5cbi5tYXQtY29sdW1uLWRldGFpbFZpZXcge1xuXHRtYXgtd2lkdGg6IDY1cHg7XG59IiwiJHdoaXRlOiAgICAjZmZmZmZmICFkZWZhdWx0O1xuJG9mZi13aGl0ZTogI2YxZjFmMSAhZGVmYXVsdDtcbiRncmF5LTEwMDogI2Y4ZjlmYSAhZGVmYXVsdDtcbiRncmF5LTIwMDogI2U5ZWNlZiAhZGVmYXVsdDtcbiRncmF5LTMwMDogI2RlZTJlNiAhZGVmYXVsdDtcbiRncmF5LTQwMDogI2NlZDRkYSAhZGVmYXVsdDtcbiRncmF5LTUwMDogI2FkYjViZCAhZGVmYXVsdDtcbiRncmF5LTYwMDogIzZjNzU3ZCAhZGVmYXVsdDtcbiRncmF5LTcwMDogIzQ5NTA1NyAhZGVmYXVsdDtcbiRncmF5LTgwMDogIzM0M2E0MCAhZGVmYXVsdDtcbiRncmF5LTkwMDogIzIxMjUyOSAhZGVmYXVsdDtcbiRibGFjazogICAgIzAwMCAhZGVmYXVsdDtcbiRiZy1kYXJrOiAjMzQzYTQwICFkZWZhdWx0O1xuXG4kZ3JheXM6ICgpICFkZWZhdWx0O1xuJGdyYXlzOiBtYXAtbWVyZ2UoKFxuICBcIjEwMFwiOiAkZ3JheS0xMDAsXG4gIFwiMjAwXCI6ICRncmF5LTIwMCxcbiAgXCIzMDBcIjogJGdyYXktMzAwLFxuICBcIjQwMFwiOiAkZ3JheS00MDAsXG4gIFwiNTAwXCI6ICRncmF5LTUwMCxcbiAgXCI2MDBcIjogJGdyYXktNjAwLFxuICBcIjcwMFwiOiAkZ3JheS03MDAsXG4gIFwiODAwXCI6ICRncmF5LTgwMCxcbiAgXCI5MDBcIjogJGdyYXktOTAwXG4pLCAkZ3JheXMpO1xuXG4kYmx1ZTogICAgIzAwN2JmZiAhZGVmYXVsdDtcbiRpbmRpZ286ICAjNjYxMGYyICFkZWZhdWx0O1xuJHB1cnBsZTogICM2ZjQyYzEgIWRlZmF1bHQ7XG4kcGluazogICAgI2U4M2U4YyAhZGVmYXVsdDtcbiRyZWQ6ICAgICAjZGMzNTQ1ICFkZWZhdWx0O1xuJG9yYW5nZTogICNmZDdlMTQgIWRlZmF1bHQ7XG4keWVsbG93OiAgI2ZmYzEwNyAhZGVmYXVsdDtcbiRncmVlbjogICAjMjhhNzQ1ICFkZWZhdWx0O1xuJHRlYWw6ICAgICMyMGM5OTcgIWRlZmF1bHQ7XG4kY3lhbjogICAgIzE3YTJiOCAhZGVmYXVsdDtcblxuJGNvbG9yczogKCkgIWRlZmF1bHQ7XG4kY29sb3JzOiBtYXAtbWVyZ2UoKFxuICBcImJsdWVcIjogICAgICAgJGJsdWUsXG4gIFwiaW5kaWdvXCI6ICAgICAkaW5kaWdvLFxuICBcInB1cnBsZVwiOiAgICAgJHB1cnBsZSxcbiAgXCJwaW5rXCI6ICAgICAgICRwaW5rLFxuICBcInJlZFwiOiAgICAgICAgJHJlZCxcbiAgXCJvcmFuZ2VcIjogICAgICRvcmFuZ2UsXG4gIFwieWVsbG93XCI6ICAgICAkeWVsbG93LFxuICBcImdyZWVuXCI6ICAgICAgJGdyZWVuLFxuICBcInRlYWxcIjogICAgICAgJHRlYWwsXG4gIFwiY3lhblwiOiAgICAgICAkY3lhbixcbiAgXCJ3aGl0ZVwiOiAgICAgICR3aGl0ZSxcbiAgXCJncmF5XCI6ICAgICAgICRncmF5LTYwMCxcbiAgXCJncmF5LWRhcmtcIjogICRncmF5LTgwMFxuKSwgJGNvbG9ycyk7XG5cbiRwcmltYXJ5LWZpbHRlcjogIzNmNTFiNSAhZGVmYXVsdDtcbiRwcmltYXJ5LWZpbHRlci1saWdodDogI2EzYjFmZiAhZGVmYXVsdDtcbiR2cy1pbmZvOiAjNTM2ZGZlICFkZWZhdWx0O1xuJGJnLW11dGVkOiAkZ3JheS02MDAgIWRlZmF1bHQ7XG4kbWF0LWFjY2VudDogI2ZmOTgwMCAhZGVmYXVsdDtcbiRtYXQtcHJpbWFyeTogIzNmNTFiNSAhZGVmYXVsdDtcbiRjaGFyY29hbDogJGdyYXktNzAwICFkZWZhdWx0O1xuJGJvZHktdGV4dDogJGdyYXktOTAwICFkZWZhdWx0O1xuXG4kcHJpbWFyeTogICAgICAgJGJsdWUgIWRlZmF1bHQ7XG4kc2Vjb25kYXJ5OiAgICAgJGdyYXktNjAwICFkZWZhdWx0O1xuJHN1Y2Nlc3M6ICAgICAgICRncmVlbiAhZGVmYXVsdDtcbiRpbmZvOiAgICAgICAgICAkdnMtaW5mbyAhZGVmYXVsdDtcbiR3YXJuaW5nOiAgICAgICAkeWVsbG93ICFkZWZhdWx0O1xuJGRhbmdlcjogICAgICAgICRyZWQgIWRlZmF1bHQ7XG4kbGlnaHQ6ICAgICAgICAgJGdyYXktMTAwICFkZWZhdWx0O1xuJGRhcms6ICAgICAgICAgICRncmF5LTgwMCAhZGVmYXVsdDsiXX0= */\"","import { Component, OnInit, AfterViewInit } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { MatCheckboxChange, MatDialog } from '@angular/material';\nimport { ImportModel, User } from '@app/models';\nimport { ImportsService } from '../imports.service';\nimport { SessionService } from '@app/session.service';\nimport { EditImportModelComponent } from '../dialogs/edit-import-model/edit-import-model.component';\n\n@Component({\n    selector: 'vs-import-models',\n    templateUrl: './import-models.component.html',\n    styleUrls: ['./import-models.component.scss']\n})\nexport class ImportModelsComponent implements OnInit {\n\n    user:User;\n    importModels = new BehaviorSubject<ImportModel[]>(null);\n    isFabOpen$ = new BehaviorSubject<boolean>(false);\n\n    constructor(private service:ImportsService, private dialog:MatDialog, private session: SessionService) { }\n\n    ngOnInit() {\n        this.service.getImportModels().subscribe(models => {\n            this.importModels.next(models);\n        });\n\n        this.service.fetchCampaigns();\n    }\n\n    addImportModel() {\n        this.isFabOpen$.next(true);\n        this.dialog.open(EditImportModelComponent, {\n            data: {\n                // user: this.user,\n            },\n            width: '50vw',\n            autoFocus: false,\n        })\n        .afterClosed()\n        .subscribe((model: ImportModel) => {\n            this.isFabOpen$.next(false);\n            if (!model) return;\n\n            this.session.showLoader();\n            this.service.saveImportModel(model).subscribe(res => {\n                this.session.hideLoader();\n                \n                const models = this.importModels.value;\n                models.push(res);\n                this.importModels.next(models);\n            });\n        });\n    }\n\n    editImportModel(model: ImportModel) {\n        this.isFabOpen$.next(true);\n        this.dialog.open(EditImportModelComponent, {\n            data: {\n                importModel: model,\n            },\n            width: '50vw',\n            autoFocus: false,\n        })\n        .afterClosed()\n        .subscribe((model: ImportModel) => {\n            this.isFabOpen$.next(false);\n            if (!model) return;\n\n            this.session.showLoader();\n            this.service.saveImportModel(model).subscribe(res => {\n                this.session.hideLoader();\n\n                const models = this.importModels.value;\n                models.forEach((m, i, a) => {\n                    if (m.importModelId == res.importModelId) {\n                        a[i] = res;\n                    }\n                });\n                this.importModels.next(models);\n            });\n        });\n    }\n\n    changeActiveStatus(event:MatCheckboxChange) {\n        console.dir(event);\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Route, RouterModule } from '@angular/router';\nimport { MaterialModule } from '@app/material/material.module';\nimport { PipesModule } from '@app/pipes/pipes.module';\nimport { FabFloatBtnModule } from '@app/fab-float-btn/fab-float-btn.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { ImportModelsComponent } from './import-models/import-models.component';\nimport { AuthGuard } from '@app/auth.guard';\nimport { EditImportModelComponent } from './dialogs/edit-import-model/edit-import-model.component';\nimport { SpreadsheetModule } from '@app/spreadsheet/spreadsheet.module';\nimport { MAT_BOTTOM_SHEET_DEFAULT_OPTIONS } from '@angular/material';\nimport { ConfirmAgentBottomSheetComponent } from './bottom-sheets/confirm-agent-code.component';\nimport { ProcessComponent } from './process/process.component';\n\nconst routes: Route[] = [\n    { path: '', redirectTo: 'models', pathMatch: 'full' },\n    { path: 'process', component: ProcessComponent, canActivate: [AuthGuard] },\n    { path: 'models', component: ImportModelsComponent, canActivate: [AuthGuard] },\n];\n\n@NgModule({\n    declarations: [\n        ImportModelsComponent,\n        EditImportModelComponent,\n        ConfirmAgentBottomSheetComponent,\n        ProcessComponent,\n    ],\n    imports: [\n        CommonModule,\n        MaterialModule,\n        PipesModule,\n        FabFloatBtnModule,\n        FormsModule,\n        ReactiveFormsModule,\n        SpreadsheetModule,\n\n        RouterModule.forChild(routes)\n    ],\n    entryComponents: [\n        EditImportModelComponent,\n        ConfirmAgentBottomSheetComponent\n    ],\n    providers: [\n        { provide: MAT_BOTTOM_SHEET_DEFAULT_OPTIONS, useValue: { hasBackdrop: false } }\n    ]\n})\nexport class ImportsModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { ImportModel, Utility, ICampaign, HttpErrorResponse, User } from '@app/models';\nimport { environment } from '@env/environment';\nimport { Observable, BehaviorSubject, of } from 'rxjs';\nimport { SessionService } from '@app/session.service';\nimport { shareReplay, catchError } from 'rxjs/operators';\nimport { Router } from '@angular/router';\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class ImportsService {\n\n    api = environment.apiUrl + 'api';\n\n    campaigns: Observable<ICampaign[]>;\n    utilities: Observable<Utility[]>;\n\n    user = new BehaviorSubject<User>(null);\n\n    constructor(private http: HttpClient, private session: SessionService, private router: Router) { \n        this.session.getUserItem().subscribe(user => {\n            if (!user) return;\n            this.user.next(user);\n        });\n    }\n\n    /**\n     * Get all ImportModels.\n     */\n    getImportModels():Observable<ImportModel[]> {\n        const url = `${this.api}/import-models`;\n        return this.http.get<ImportModel[]>(url);\n    }\n\n    /**\n     * Used to save new OR update existing ImportModels.\n     */\n    saveImportModel(model: ImportModel):Observable<ImportModel> {\n        const url = `${this.api}/import-models`;\n        return this.http.post<ImportModel>(url, model);\n    }\n\n    fetchCampaigns() {\n        const sub = this.user.subscribe(user => {\n            const clientId = user.selectedClient != null \n                ? user.selectedClient.clientId\n                : user.sessionUser.sessionClient;\n            const url = `${this.api}/campaigns/clients/${clientId}/active/true`;\n            this.campaigns = this.http.get<ICampaign[]>(url).pipe(shareReplay(1));\n            if (sub) sub.unsubscribe();\n        });\n    }\n\n    fetchUtilities() {\n        const sub = this.user.subscribe(user => {\n            const clientId = user.selectedClient != null \n                ? user.selectedClient.clientId\n                : user.sessionUser.sessionClient;\n            const url = `${this.api}/clients/${clientId}/utilities`;\n            this.utilities = this.http.get<Utility[]>(url).pipe(shareReplay(1));\n            if (sub) sub.unsubscribe();\n        });\n    }\n}\n","module.exports = \"\\n<div class=\\\"container\\\">\\n    <div class=\\\"row\\\">\\n        <div class=\\\"col-md-12\\\">\\n            <mat-card class=\\\"page-header-accent\\\">\\n                <h2 mat-card-title>Import Reports</h2>\\n                <mat-card-content>\\n                    <div class=\\\"shadow-none p-3 bg-light rounded\\\">\\n                        <h5>Requirements</h5>\\n                        <ul>\\n                            <li>\\n                                Your CSV file should contain columns that match \\n                                the <span class=\\\"font-weight-bold\\\">Import Model</span> you select.\\n                            </li>\\n                            <li>\\n                                The order of the columns must match exactly the to your Import Model. If they \\n                                do not, please reorder the columns on your report.\\n                            </li>\\n                            <li>\\n                                Confirm correct import in the review field after you've imported the file and make any \\n                                last-minute modifications that you might notice.\\n                            </li>\\n                        </ul>\\n                    </div>\\n                    <div class=\\\"shadow-none p-3 mb-5 rounded\\\">\\n                        <h5>Upload CSV file</h5>\\n                        <div class=\\\"p-1\\\">\\n                            <button type=\\\"button\\\" mat-stroked-button color=\\\"primary\\\" (click)=\\\"uploadFile()\\\">Upload File</button>\\n                        </div>\\n                        <div class=\\\"p-1\\\">\\n                            <button type=\\\"button\\\" mat-raised-button color=\\\"primary\\\" (click)=\\\"importReport()\\\">Import Report</button>\\n                        </div>\\n                    </div>\\n                </mat-card-content>\\n            </mat-card>\\n        </div>\\n    </div>\\n</div>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ltcG9ydHMvcHJvY2Vzcy9wcm9jZXNzLmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n    selector: 'vs-process',\n    templateUrl: './process.component.html',\n    styleUrls: ['./process.component.scss']\n})\nexport class ProcessComponent implements OnInit {\n\n    hasFile = false;\n\n    constructor() { }\n\n    ngOnInit() {\n    }\n\n    uploadFile() {\n        console.log('UPLOAD FILE');\n        this.hasFile = true;\n    }\n\n    importReport() {\n        if (this.hasFile) {\n            console.log('We\\'ve got a file! Let\\'s upload it!');\n        }\n    }\n\n}\n","module.exports = \"<div #widget class=\\\"widget-box-wide\\\"></div>\\n\"","module.exports = \".widget-box-wide {\\n  width: 90vw;\\n  height: 50vh;\\n  padding: 1rem; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9kcmV3cGF5bWVudC9kZXYvYWN0aXZlL3Zlcm9zdGFjay9yZXNvdXJjZXMvYXNzZXRzL25nL3NyYy9hcHAvc3ByZWFkc2hlZXQvc3ByZWFkc2hlZXQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0E7RUFDSSxZQUFXO0VBQ1gsYUFBWTtFQUNaLGNBQWEsRUFDaEIiLCJmaWxlIjoic3JjL2FwcC9zcHJlYWRzaGVldC9zcHJlYWRzaGVldC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLndpZGdldC1ib3gtd2lkZSB7XG4gICAgd2lkdGg6IDkwdnc7XG4gICAgaGVpZ2h0OiA1MHZoO1xuICAgIHBhZGRpbmc6IDFyZW07XG59Il19 */\"","import { Component, OnInit, OnDestroy, ViewChild, ElementRef, Input } from '@angular/core';\nimport { Spreadsheet } from 'dhx-spreadsheet';\n\n@Component({\n    selector: 'vs-spreadsheet',\n    templateUrl: './spreadsheet.component.html',\n    styleUrls: ['./spreadsheet.component.scss']\n})\nexport class SpreadsheetComponent implements OnInit, OnDestroy {\n    @ViewChild('widget') container: ElementRef;\n    spreadsheet: Spreadsheet;\n\n    @Input() toolbar: String[];\n    @Input() menu: boolean;\n    @Input() editLine: boolean;\n    @Input() rowsCount: number;\n    @Input() colsCount: number;\n\n    constructor() { }\n\n    ngOnInit() {\n        this.spreadsheet = new Spreadsheet(this.container.nativeElement, {\n            toolbar: this.toolbar,\n            menu: this.menu,\n            editLine: this.editLine,\n            rowsCount: this.rowsCount,\n            colsCount: this.colsCount,\n        });\n    }\n\n    ngOnDestroy() {\n        this.spreadsheet.destructor();\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { SpreadsheetComponent } from './spreadsheet.component';\n\n\n@NgModule({\n    declarations: [\n        SpreadsheetComponent,\n    ],\n    exports: [\n        SpreadsheetComponent,\n    ]\n})\nexport class SpreadsheetModule { }\n"],"sourceRoot":""}